import{r as b,R as y,s as R,a as N}from"./index.aca28bb5.js";import{J as z,d as D,y as A,B as T,t as w,D as B,z as _,A as V,$ as I,a as G,f as H,m as C,i as M,j,k as J}from"./useFocusRing.module.d7a713a9.js";import{$ as U}from"./useButton.module.75b718a5.js";import{m as W}from"./Collection.module.4ec3dcc9.js";import{$ as Y}from"./context.module.36d442d3.js";import{$ as q}from"./useToggleState.module.ff7f3473.js";import{c as v}from"./theme.927cb98c.js";import{t as Q}from"./Tabs.81967e37.js";function K(t,e,a){const{isSelected:r}=e,{isPressed:o,buttonProps:i}=U({...t,onPress:z(e.toggle,t.onPress)},a);return{isPressed:o,isSelected:r,isDisabled:t.isDisabled||!1,buttonProps:D(i,{"aria-pressed":r})}}function X(t){const e=A(t);if(!(t instanceof e.HTMLElement)&&!(t instanceof e.SVGElement))return!1;let{display:a,visibility:r}=t.style,o=a!=="none"&&r!=="hidden"&&r!=="collapse";if(o){const{getComputedStyle:i}=t.ownerDocument.defaultView;let{display:d,visibility:l}=i(t);o=d!=="none"&&l!=="hidden"&&l!=="collapse"}return o}function Z(t,e){return!t.hasAttribute("hidden")&&!t.hasAttribute("data-react-aria-prevent-focus")&&(t.nodeName==="DETAILS"&&e&&e.nodeName!=="SUMMARY"?t.hasAttribute("open"):!0)}function F(t,e){return t.nodeName!=="#comment"&&X(t)&&Z(t,e)&&(!t.parentElement||F(t.parentElement,t))}function L(t,e){return!t||!e?!1:e.some(a=>a.contains(t))}function p(t,e=!1){if(t!=null&&!e)try{B(t)}catch{}else if(t!=null)try{t.focus()}catch{}}function g(t,e,a){let r=e!=null&&e.tabbable?_:V,o=(t==null?void 0:t.nodeType)===Node.ELEMENT_NODE?t:null,i=w(o),d=W(i,t||i,NodeFilter.SHOW_ELEMENT,{acceptNode(l){var u;return!(e==null||(u=e.from)===null||u===void 0)&&u.contains(l)?NodeFilter.FILTER_REJECT:r(l)&&F(l)&&(!a||L(l,a))&&(!(e!=null&&e.accept)||e.accept(l))?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});return e!=null&&e.from&&(d.currentNode=e.from),d}function O(t,e={}){return{focusNext(a={}){let r=t.current;if(!r)return null;let{from:o,tabbable:i=e.tabbable,wrap:d=e.wrap,accept:l=e.accept}=a,u=o||T(w(r)),n=g(r,{tabbable:i,accept:l});r.contains(u)&&(n.currentNode=u);let c=n.nextNode();return!c&&d&&(n.currentNode=r,c=n.nextNode()),c&&p(c,!0),c},focusPrevious(a=e){let r=t.current;if(!r)return null;let{from:o,tabbable:i=e.tabbable,wrap:d=e.wrap,accept:l=e.accept}=a,u=o||T(w(r)),n=g(r,{tabbable:i,accept:l});if(r.contains(u))n.currentNode=u;else{let f=S(n);return f&&p(f,!0),f!=null?f:null}let c=n.previousNode();if(!c&&d){n.currentNode=r;let f=S(n);if(!f)return null;c=f}return c&&p(c,!0),c!=null?c:null},focusFirst(a=e){let r=t.current;if(!r)return null;let{tabbable:o=e.tabbable,accept:i=e.accept}=a,l=g(r,{tabbable:o,accept:i}).nextNode();return l&&p(l,!0),l},focusLast(a=e){let r=t.current;if(!r)return null;let{tabbable:o=e.tabbable,accept:i=e.accept}=a,d=g(r,{tabbable:o,accept:i}),l=S(d);return l&&p(l,!0),l!=null?l:null}}}function S(t){let e,a;do a=t.lastChild(),a&&(e=a);while(a);return e}class P{get size(){return this.fastMap.size}getTreeNode(e){return this.fastMap.get(e)}addTreeNode(e,a,r){let o=this.fastMap.get(a!=null?a:null);if(!o)return;let i=new E({scopeRef:e});o.addChild(i),i.parent=o,this.fastMap.set(e,i),r&&(i.nodeToRestore=r)}addNode(e){this.fastMap.set(e.scopeRef,e)}removeTreeNode(e){if(e===null)return;let a=this.fastMap.get(e);if(!a)return;let r=a.parent;for(let i of this.traverse())i!==a&&a.nodeToRestore&&i.nodeToRestore&&a.scopeRef&&a.scopeRef.current&&L(i.nodeToRestore,a.scopeRef.current)&&(i.nodeToRestore=a.nodeToRestore);let o=a.children;r&&(r.removeChild(a),o.size>0&&o.forEach(i=>r&&r.addChild(i))),this.fastMap.delete(a.scopeRef)}*traverse(e=this.root){if(e.scopeRef!=null&&(yield e),e.children.size>0)for(let a of e.children)yield*this.traverse(a)}clone(){var e;let a=new P;var r;for(let o of this.traverse())a.addTreeNode(o.scopeRef,(r=(e=o.parent)===null||e===void 0?void 0:e.scopeRef)!==null&&r!==void 0?r:null,o.nodeToRestore);return a}constructor(){this.fastMap=new Map,this.root=new E({scopeRef:null}),this.fastMap.set(null,this.root)}}class E{addChild(e){this.children.add(e),e.parent=this}removeChild(e){this.children.delete(e),e.parent=void 0}constructor(e){this.children=new Set,this.contain=!1,this.scopeRef=e.scopeRef}}new P;function ee(t,e){const{"aria-label":a,"aria-labelledby":r,orientation:o="horizontal"}=t;let[i,d]=b.exports.useState(!1);I(()=>{var s;d(!!(e.current&&((s=e.current.parentElement)===null||s===void 0?void 0:s.closest('[role="toolbar"]'))))});const{direction:l}=Y(),u=l==="rtl"&&o==="horizontal";let n=O(e);const c=s=>{if(!!s.currentTarget.contains(s.target)){if(o==="horizontal"&&s.key==="ArrowRight"||o==="vertical"&&s.key==="ArrowDown")u?n.focusPrevious():n.focusNext();else if(o==="horizontal"&&s.key==="ArrowLeft"||o==="vertical"&&s.key==="ArrowUp")u?n.focusNext():n.focusPrevious();else if(s.key==="Tab"){s.stopPropagation(),f.current=document.activeElement,s.shiftKey?n.focusFirst():n.focusLast();return}else return;s.stopPropagation(),s.preventDefault()}},f=b.exports.useRef(null),x=s=>{!s.currentTarget.contains(s.relatedTarget)&&!f.current&&(f.current=s.target)},h=s=>{var $;if(f.current&&!s.currentTarget.contains(s.relatedTarget)&&(($=e.current)===null||$===void 0?void 0:$.contains(s.target))){var m;(m=f.current)===null||m===void 0||m.focus(),f.current=null}};return{toolbarProps:{...G(t,{labelable:!0}),role:i?"group":"toolbar","aria-orientation":o,"aria-label":a,"aria-labelledby":a==null?r:void 0,onKeyDownCapture:i?void 0:c,onFocusCapture:i?void 0:h,onBlurCapture:i?void 0:x}}}function te(t,e,a){let{isDisabled:r}=t,{toolbarProps:o}=ee(t,a);return{groupProps:{...o,role:e.selectionMode==="single"?"radiogroup":o.role,"aria-disabled":r}}}function ae(t,e,a){let r={isSelected:e.selectedKeys.has(t.id),setSelected(u){e.setSelected(t.id,u)},toggle(){e.toggleKey(t.id)}},{isPressed:o,isSelected:i,isDisabled:d,buttonProps:l}=K({...t,id:void 0,isDisabled:t.isDisabled||e.isDisabled},r,a);return e.selectionMode==="single"&&(l.role="radio",l["aria-checked"]=r.isSelected,delete l["aria-pressed"]),{isPressed:o,isSelected:i,isDisabled:d,buttonProps:l}}function re(t){let{selectionMode:e="single",disallowEmptySelection:a,isDisabled:r=!1}=t,[o,i]=H(b.exports.useMemo(()=>t.selectedKeys?new Set(t.selectedKeys):void 0,[t.selectedKeys]),b.exports.useMemo(()=>t.defaultSelectedKeys?new Set(t.defaultSelectedKeys):new Set,[t.defaultSelectedKeys]),t.onSelectionChange);return{selectionMode:e,isDisabled:r,selectedKeys:o,setSelectedKeys:i,toggleKey(d){let l;e==="multiple"?(l=new Set(o),l.has(d)&&(!a||l.size>1)?l.delete(d):l.add(d)):l=new Set(o.has(d)&&!a?[]:[d]),i(l)},setSelected(d,l){l!==o.has(d)&&this.toggleKey(d)}}}const oe=b.exports.createContext({}),k=b.exports.createContext(null),ie=b.exports.forwardRef(function(e,a){[e,a]=C(e,a,oe);let r=re(e),{groupProps:o}=te(e,r,a),i=M({...e,values:{isDisabled:r.isDisabled,state:r},defaultClassName:"react-aria-ToggleButtonGroup"});return y.createElement("div",{...o,...i,ref:a,slot:e.slot||void 0,"data-orientation":e.orientation||"horizontal","data-disabled":e.isDisabled||void 0},y.createElement(k.Provider,{value:r},i.children))}),le=b.exports.createContext({}),de=b.exports.forwardRef(function(e,a){[e,a]=C(e,a,le);let r=b.exports.useContext(k),o=q(r&&e.id!=null?{isSelected:r.selectedKeys.has(e.id),onChange($){r.setSelected(e.id,$)}}:e),{buttonProps:i,isPressed:d,isSelected:l,isDisabled:u}=r&&e.id!=null?ae({...e,id:e.id},r,a):K({...e,id:e.id!=null?String(e.id):void 0},o,a),{focusProps:n,isFocused:c,isFocusVisible:f}=j(e),{hoverProps:x,isHovered:h}=J(e),s=M({...e,id:void 0,values:{isHovered:h,isPressed:d,isFocused:c,isSelected:o.isSelected,isFocusVisible:f,isDisabled:u,state:o},defaultClassName:"react-aria-ToggleButton"});return y.createElement("button",{...D(i,n,x),...s,ref:a,slot:e.slot||void 0,"data-focused":c||void 0,"data-disabled":u||void 0,"data-pressed":d||void 0,"data-selected":l||void 0,"data-hovered":h||void 0,"data-focus-visible":f||void 0})}),se=R(ie)`
  ${Q}
`,ne=R(de)`
  all: unset;
  height: 3.6rem;
  padding: 0 0.8rem;
  background-color: ${v.palette.white};
  border: solid 0.1rem ${v.palette.pale};
  font-weight: 400;
  font-size: 1.6rem;
  line-height: 2rem;
  white-space: nowrap;
  user-select: none;

  & + & {
    border-left: none;
  }

  &[data-selected] {
    background-color: ${v.palette.neutralLighter};
  }

  &[data-focus-visible] {
    outline: none;
    box-shadow: inset 0 0 0 0.1rem ${v.palette.black};
  }
`,ge=({items:t,selectedItems:e,onSelectionChange:a,selectionMode:r="single",...o})=>N(se,{selectionMode:r,selectedKeys:e,onSelectionChange:a,...o,children:t.map(i=>N(ne,{"data-button-id":i.id,id:i.id,onPressStart:d=>d.continuePropagation(),children:i.value},i.id))});export{ge as T};
