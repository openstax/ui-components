import{R as s,j as i,F as m,a as e}from"./index.6df57eef.js";import{g as x,E as h}from"./ErrorBoundary.a3e30ee5.js";import{a as f,c as y}from"./Error.a69725e8.js";import"./Modal.d1f491a2.js";import"./theme.458d43b0.js";import"./palette.15e4d008.js";const k=({message:o,showEventId:r=!0})=>{var c;const{error:t}=s.useContext(f);return i(m,{children:[o||((c=t==null?void 0:t.error)==null?void 0:c.message),r?e("div",{children:t==null?void 0:t.eventId}):null]})};var n={};Object.defineProperty(n,"__esModule",{value:!0});var w=n.SessionExpiredError=n.NotFoundError=S=n.UnauthorizedError=n.InvalidRequestError=n.isAppError=void 0;const p=({TYPE:o})=>r=>r instanceof Error&&r.constructor.TYPE===o,C=o=>o instanceof Error&&typeof o.constructor.TYPE=="string";n.isAppError=C;class E extends Error{constructor(r){super(r||E.TYPE)}}n.InvalidRequestError=E;E.TYPE="InvalidRequestError";E.matches=p(E);class a extends Error{constructor(r){super(r||a.TYPE)}}var S=n.UnauthorizedError=a;a.TYPE="UnauthorizedError";a.matches=p(a);class u extends Error{constructor(r){super(r||u.TYPE)}}n.NotFoundError=u;u.TYPE="NotFoundError";u.matches=p(u);class l extends Error{constructor(r){super(r||l.TYPE)}}w=n.SessionExpiredError=l;l.TYPE="SessionExpiredError";l.matches=p(l);const b=()=>{const{setError:o}=s.useContext(f);return s.useCallback(r=>{o(r?{error:r,type:x(r),eventId:y(r)}:null)},[o])},d=({doThrow:o,setShowError:r,error:t,errorMessage:c})=>(s.useEffect(()=>{if(o)throw r(!1),t instanceof Error?t:new Error(c||"Test Error")},[o]),null),T=()=>{const o=b();return e("button",{onClick:()=>{Promise.reject(Error("Test Error")).catch(o)},children:"Async Trigger Error Display"})},R=()=>{const[o,r]=s.useState(!1);return i(h,{children:[e(k,{}),e(d,{doThrow:o,setShowError:r}),e("button",{onClick:()=>{r(!0)},children:"Throw Error"}),e(T,{})]})},j=()=>{const[o,r]=s.useState(!1);return i(h,{renderFallback:!0,sentryDsn:"https://0@o0.ingest.sentry.io/0",children:[e(d,{doThrow:o,setShowError:r}),e("button",{onClick:()=>{r(!0)},children:"Throw Error"}),e(T,{})]})},z=()=>{const[o,r]=s.useState(!1);return i(h,{renderFallback:!0,fallback:t=>i(m,{children:[e("h2",{children:"This is a custom error fallback"}),e("p",{children:t&&t.error.toString()}),t&&t.resetError?e("button",{onClick:t&&t.resetError,children:"Reset"}):null]}),children:[e(d,{doThrow:o,setShowError:r}),e("button",{onClick:()=>{r(!0)},children:"Throw Error"}),e(T,{})]})},g=()=>{const o=b();return e("button",{onClick:()=>{(async()=>{try{throw new w}catch(r){o(r)}})()},children:"Async Throw Session Expired"})},U=()=>{const[o,r]=s.useState(!1),[t,c]=s.useState(!1);return i(h,{renderFallback:!0,children:[e(d,{doThrow:o,setShowError:r,error:new w}),e(d,{doThrow:t,setShowError:c,error:new S}),e("button",{onClick:()=>{r(!0)},children:"Throw SessionExpiredError"}),e("br",{}),e(g,{}),e("br",{}),e("button",{onClick:()=>{c(!0)},children:"Throw UnauthorizedError"})]})};typeof window<"u"&&window.document&&window.document.createElement&&document.documentElement.setAttribute("data-storyloaded","");export{z as Fallback_GenericError_Custom,j as Fallback_GenericError_Default,U as Fallback_SpecialError,R as InlineMessages};
