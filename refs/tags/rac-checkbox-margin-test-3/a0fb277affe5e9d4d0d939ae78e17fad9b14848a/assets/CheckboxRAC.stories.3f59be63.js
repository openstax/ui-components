import{r as s,R as A,s as N,j as S,a as P,F as L}from"./index.8f51e422.js";import{c as z}from"./theme.2cc37264.js";import{a as Z}from"./RSPContexts.module.73a8b9f7.js";import{p as B,$ as ee,_ as ie,s as j,c as ae,d as C,a as Q,m as te,g as re,h as le,S as ne,a0 as U,j as de,k as oe,i as se}from"./useFocusRing.module.eb7e2819.js";import{$ as Y}from"./useToggleState.module.29d1c384.js";import{$ as ce}from"./VisuallyHidden.module.b24d9400.js";import{c as M}from"./sharedCheckboxStyles.ad1aaff4.js";import"./palette.15e4d008.js";function ue(e,i,a){let t=s.exports.useRef(i),n=B(()=>{a&&a(t.current)});s.exports.useEffect(()=>{var r;let o=e==null||(r=e.current)===null||r===void 0?void 0:r.form;return o==null||o.addEventListener("reset",n),()=>{o==null||o.removeEventListener("reset",n)}},[e,n])}const G={badInput:!1,customError:!1,patternMismatch:!1,rangeOverflow:!1,rangeUnderflow:!1,stepMismatch:!1,tooLong:!1,tooShort:!1,typeMismatch:!1,valueMissing:!1,valid:!0},W={...G,customError:!0,valid:!1},R={isInvalid:!1,validationDetails:G,validationErrors:[]},ve=s.exports.createContext({}),O="__formValidationState"+Date.now();function J(e){if(e[O]){let{realtimeValidation:i,displayValidation:a,updateValidation:t,resetValidation:n,commitValidation:r}=e[O];return{realtimeValidation:i,displayValidation:a,updateValidation:t,resetValidation:n,commitValidation:r}}return fe(e)}function fe(e){let{isInvalid:i,validationState:a,name:t,value:n,builtinValidation:r,validate:o,validationBehavior:c="aria"}=e;a&&(i||(i=a==="invalid"));let d=i!==void 0?{isInvalid:i,validationErrors:[],validationDetails:W}:null,l=s.exports.useMemo(()=>{if(!o||n==null)return null;let $=be(o,n);return H($)},[o,n]);r!=null&&r.validationDetails.valid&&(r=void 0);let u=s.exports.useContext(ve),v=s.exports.useMemo(()=>t?Array.isArray(t)?t.flatMap($=>T(u[$])):T(u[t]):[],[u,t]),[x,y]=s.exports.useState(u),[f,b]=s.exports.useState(!1);u!==x&&(y(u),b(!1));let m=s.exports.useMemo(()=>H(f?[]:v),[f,v]),V=s.exports.useRef(R),[g,E]=s.exports.useState(R),I=s.exports.useRef(R),k=()=>{if(!h)return;D(!1);let $=l||r||V.current;F($,I.current)||(I.current=$,E($))},[h,D]=s.exports.useState(!1);return s.exports.useEffect(k),{realtimeValidation:d||m||l||r||R,displayValidation:c==="native"?d||m||g:d||m||l||r||g,updateValidation($){c==="aria"&&!F(g,$)?E($):V.current=$},resetValidation(){let $=R;F($,I.current)||(I.current=$,E($)),c==="native"&&D(!1),b(!0)},commitValidation(){c==="native"&&D(!0),b(!0)}}}function T(e){return e?Array.isArray(e)?e:[e]:[]}function be(e,i){if(typeof e=="function"){let a=e(i);if(a&&typeof a!="boolean")return T(a)}return[]}function H(e){return e.length?{isInvalid:!0,validationErrors:e,validationDetails:W}:null}function F(e,i){return e===i?!0:!!e&&!!i&&e.isInvalid===i.isInvalid&&e.validationErrors.length===i.validationErrors.length&&e.validationErrors.every((a,t)=>a===i.validationErrors[t])&&Object.entries(e.validationDetails).every(([a,t])=>i.validationDetails[a]===t)}function me(e,i,a){let{validationBehavior:t,focus:n}=e;ee(()=>{if(t==="native"&&(a==null?void 0:a.current)&&!a.current.disabled){let d=i.realtimeValidation.isInvalid?i.realtimeValidation.validationErrors.join(" ")||"Invalid value.":"";a.current.setCustomValidity(d),a.current.hasAttribute("title")||(a.current.title=""),i.realtimeValidation.isInvalid||i.updateValidation(he(a.current))}});let r=B(()=>{i.resetValidation()}),o=B(d=>{var l;i.displayValidation.isInvalid||i.commitValidation();let u=a==null||(l=a.current)===null||l===void 0?void 0:l.form;if(!d.defaultPrevented&&a&&u&&pe(u)===a.current){var v;n?n():(v=a.current)===null||v===void 0||v.focus(),ie("keyboard")}d.preventDefault()}),c=B(()=>{i.commitValidation()});s.exports.useEffect(()=>{let d=a==null?void 0:a.current;if(!d)return;let l=d.form;return d.addEventListener("invalid",o),d.addEventListener("change",c),l==null||l.addEventListener("reset",r),()=>{d.removeEventListener("invalid",o),d.removeEventListener("change",c),l==null||l.removeEventListener("reset",r)}},[a,o,c,r,t])}function $e(e){let i=e.validity;return{badInput:i.badInput,customError:i.customError,patternMismatch:i.patternMismatch,rangeOverflow:i.rangeOverflow,rangeUnderflow:i.rangeUnderflow,stepMismatch:i.stepMismatch,tooLong:i.tooLong,tooShort:i.tooShort,typeMismatch:i.typeMismatch,valueMissing:i.valueMissing,valid:i.valid}}function he(e){return{isInvalid:!e.validity.valid,validationDetails:$e(e),validationErrors:e.validationMessage?[e.validationMessage]:[]}}function pe(e){for(let i=0;i<e.elements.length;i++){let a=e.elements[i];if(!a.validity.valid)return a}return null}function xe(e,i,a){let{isDisabled:t=!1,isReadOnly:n=!1,value:r,name:o,children:c,"aria-label":d,"aria-labelledby":l,validationState:u="valid",isInvalid:v}=e,x=h=>{h.stopPropagation(),i.setSelected(h.target.checked)},y=c!=null,f=d!=null||l!=null,{pressProps:b,isPressed:m}=j({isDisabled:t}),{pressProps:V,isPressed:g}=j({onPress(){var h;i.toggle(),(h=a.current)===null||h===void 0||h.focus()},isDisabled:t||n}),{focusableProps:E}=ae(e,a),I=C(b,E),k=Q(e,{labelable:!0});return ue(a,i.isSelected,i.setSelected),{labelProps:C(V,{onClick:h=>h.preventDefault()}),inputProps:C(k,{"aria-invalid":v||u==="invalid"||void 0,"aria-errormessage":e["aria-errormessage"],"aria-controls":e["aria-controls"],"aria-readonly":n||void 0,onChange:x,disabled:t,...r==null?{}:{value:r},name:o,type:"checkbox",...I}),isSelected:i.isSelected,isPressed:m||g,isDisabled:t,isReadOnly:n,isInvalid:v||u==="invalid"}}function K(e,i,a){let t=J({...e,value:i.isSelected}),{isInvalid:n,validationErrors:r,validationDetails:o}=t.displayValidation,{labelProps:c,inputProps:d,isSelected:l,isPressed:u,isDisabled:v,isReadOnly:x}=xe({...e,isInvalid:n},i,a);me(e,t,a);let{isIndeterminate:y,isRequired:f,validationBehavior:b="aria"}=e;s.exports.useEffect(()=>{a.current&&(a.current.indeterminate=!!y)});let{pressProps:m}=j({isDisabled:v||x,onPress(){let{[O]:V}=e,{commitValidation:g}=V||t;g()}});return{labelProps:C(c,m),inputProps:{...d,checked:l,"aria-required":f&&b==="aria"||void 0,required:f&&b==="native"},isSelected:l,isPressed:u,isDisabled:v,isReadOnly:x,isInvalid:n,validationErrors:r,validationDetails:o}}const ye=new WeakMap;function Ve(e,i,a){const t=Y({isReadOnly:e.isReadOnly||i.isReadOnly,isSelected:i.isSelected(e.value),onChange(m){m?i.addValue(e.value):i.removeValue(e.value),e.onChange&&e.onChange(m)}});let{name:n,descriptionId:r,errorMessageId:o,validationBehavior:c}=ye.get(i);var d;c=(d=e.validationBehavior)!==null&&d!==void 0?d:c;let{realtimeValidation:l}=J({...e,value:t.isSelected,name:void 0,validationBehavior:"aria"}),u=s.exports.useRef(R),v=()=>{i.setInvalid(e.value,l.isInvalid?l:u.current)};s.exports.useEffect(v);let x=i.realtimeValidation.isInvalid?i.realtimeValidation:l,y=c==="native"?i.displayValidation:x;var f;let b=K({...e,isReadOnly:e.isReadOnly||i.isReadOnly,isDisabled:e.isDisabled||i.isDisabled,name:e.name||n,isRequired:(f=e.isRequired)!==null&&f!==void 0?f:i.isRequired,validationBehavior:c,[O]:{realtimeValidation:x,displayValidation:y,resetValidation:i.resetValidation,commitValidation:i.commitValidation,updateValidation(m){u.current=m,v()}}},t,a);return{...b,inputProps:{...b.inputProps,"aria-describedby":[e["aria-describedby"],i.isInvalid?o:null,r].filter(Boolean).join(" ")||void 0}}}const ge=s.exports.createContext(null),Ee=s.exports.createContext(null),Ie=s.exports.forwardRef(function(i,a){let{inputRef:t=null,...n}=i;[i,a]=te(n,a,Z);let{validationBehavior:r}=re(ge)||{};var o,c;let d=(c=(o=i.validationBehavior)!==null&&o!==void 0?o:r)!==null&&c!==void 0?c:"native",l=s.exports.useContext(Ee),u=le(ne(t,i.inputRef!==void 0?i.inputRef:null)),{labelProps:v,inputProps:x,isSelected:y,isDisabled:f,isReadOnly:b,isPressed:m,isInvalid:V}=l?Ve({...U(i),value:i.value,children:typeof i.children=="function"?!0:i.children},l,u):K({...U(i),children:typeof i.children=="function"?!0:i.children,validationBehavior:d},Y(i),u),{isFocused:g,isFocusVisible:E,focusProps:I}=de(),k=f||b,{hoverProps:h,isHovered:D}=oe({...i,isDisabled:k}),_=se({...i,defaultClassName:"react-aria-Checkbox",values:{isSelected:y,isIndeterminate:i.isIndeterminate||!1,isPressed:m,isHovered:D,isFocused:g,isFocusVisible:E,isDisabled:f,isReadOnly:b,isInvalid:V,isRequired:i.isRequired||!1}}),q=Q(i);return delete q.id,A.createElement("label",{...C(q,v,h,_),ref:a,slot:i.slot||void 0,"data-selected":y||void 0,"data-indeterminate":i.isIndeterminate||void 0,"data-pressed":m||void 0,"data-hovered":D||void 0,"data-focused":g||void 0,"data-focus-visible":E||void 0,"data-disabled":f||void 0,"data-readonly":b||void 0,"data-invalid":V||void 0,"data-required":i.isRequired||void 0},A.createElement(ce,{elementType:"span"},A.createElement("input",{...C(x,I),ref:u})),_.children)}),Pe=N(Ie)`
  display: flex;
  align-items: center;
  font-size: 1.6rem;
  font-weight: ${({$bold:e})=>e?700:400};
  color: ${e=>e.isDisabled?z.palette.neutralLight:M[e.$variant].color};

  &[data-disabled] {
    opacity: 0.4;
    cursor: not-allowed;
  }

  [data-slot="selection"] {
    appearance: none;
    width: ${({$size:e})=>e}rem;
    height: ${({$size:e})=>e}rem;
    margin: 0 1.6rem 0 0;
    border-radius: 0.2rem;
    transform: translateY(-0.075em);
    display: grid;
    place-content: center;
    border: ${({$variant:e})=>M[e].unCheckedBorder};
    background-color: ${z.palette.white};

    &::before {
      content: "";
      border-radius: 0.2rem;
      width: ${({$size:e})=>e}rem;
      height: ${({$size:e})=>e}rem;
      border: ${({$variant:e})=>M[e].checkedBorder};
      background-color: ${({$variant:e})=>M[e].backgroundColor};
      background-image: url('${({$variant:e})=>M[e].backgroundImage}');
      background-size: 80%;
      background-position: center;
      background-repeat: no-repeat;
      transform: scale(0);
    }
  }

  &[data-selected] [data-slot="selection"]::before {
    transform: scale(1);
    opacity: ${e=>e.isDisabled?0:1};
  }
`,w=({size:e=1.6,variant:i="primary",bold:a=!1,children:t,...n})=>S(Pe,{...n,$variant:i,$size:e,$bold:a,children:[P("span",{slot:"selection","data-slot":"selection"}),t]}),X=N.div`
  text-transform: capitalize;

  & + & {
    margin-top: 3.2rem;
  }

  > * + * {
    margin-top: 0.5rem;
  }
`,p=(e,i)=>S(X,{children:[S("h2",{children:["Size ",i]}),P(w,{size:i,variant:e,children:"Checkbox label"}),P(w,{size:i,variant:e,defaultSelected:!0,children:"Checkbox label"}),P(w,{size:i,variant:e,defaultSelected:!0,bold:!0,children:"Checkbox label"})]}),Oe=()=>S(L,{children:[p("primary",1.4),p("primary",1.6),p("primary",1.8),p("primary",2)]}),Le=()=>S(L,{children:[p("light",1.4),p("light",1.6),p("light",1.8),p("light",2)]}),_e=()=>S(L,{children:[p("error",1.4),p("error",1.6),p("error",1.8),p("error",2)]}),qe=()=>P(L,{children:S(X,{children:[P("h2",{children:"Disabled"}),P(w,{variant:"primary",size:1.6,isDisabled:!0,children:"Checkbox label"}),P(w,{variant:"primary",size:1.6,isDisabled:!0,defaultSelected:!0,children:"Checkbox label"})]})});typeof window<"u"&&window.document&&window.document.createElement&&document.documentElement.setAttribute("data-storyloaded","");export{qe as Disabled,_e as Error,Le as Light,Oe as Primary};
