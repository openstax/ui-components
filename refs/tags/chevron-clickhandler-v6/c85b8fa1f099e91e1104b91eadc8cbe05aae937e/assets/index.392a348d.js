import{r as b,R as w,s as E,a as N}from"./index.44c7d20c.js";import{M as _,d as D,B as z,E as T,v as m,G as A,C as V,D as I,$ as G,e as H,a as j,g as C,o as M,j as K,k as U,l as J}from"./useFocusRing.module.577bc7fc.js";import{$ as W}from"./useButton.module.d7eb475b.js";import{m as Y}from"./Collection.module.061f761d.js";import{c as g}from"./theme.43e17cde.js";import{t as q}from"./Tabs.23c35b86.js";function F(t,e,a){const{isSelected:r}=e,{isPressed:l,buttonProps:i}=W({...t,onPress:_(e.toggle,t.onPress)},a);return{isPressed:l,isSelected:r,isDisabled:t.isDisabled||!1,buttonProps:D(i,{"aria-pressed":r})}}function Q(t){const e=z(t);if(!(t instanceof e.HTMLElement)&&!(t instanceof e.SVGElement))return!1;let{display:a,visibility:r}=t.style,l=a!=="none"&&r!=="hidden"&&r!=="collapse";if(l){const{getComputedStyle:i}=t.ownerDocument.defaultView;let{display:d,visibility:o}=i(t);l=d!=="none"&&o!=="hidden"&&o!=="collapse"}return l}function X(t,e){return!t.hasAttribute("hidden")&&!t.hasAttribute("data-react-aria-prevent-focus")&&(t.nodeName==="DETAILS"&&e&&e.nodeName!=="SUMMARY"?t.hasAttribute("open"):!0)}function L(t,e){return t.nodeName!=="#comment"&&Q(t)&&X(t,e)&&(!t.parentElement||L(t.parentElement,t))}function k(t,e){return!t||!e?!1:e.some(a=>a.contains(t))}function h(t,e=!1){if(t!=null&&!e)try{A(t)}catch{}else if(t!=null)try{t.focus()}catch{}}function p(t,e,a){let r=e!=null&&e.tabbable?V:I,l=(t==null?void 0:t.nodeType)===Node.ELEMENT_NODE?t:null,i=m(l),d=Y(i,t||i,NodeFilter.SHOW_ELEMENT,{acceptNode(o){var u;return!(e==null||(u=e.from)===null||u===void 0)&&u.contains(o)?NodeFilter.FILTER_REJECT:r(o)&&L(o)&&(!a||k(o,a))&&(!(e!=null&&e.accept)||e.accept(o))?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});return e!=null&&e.from&&(d.currentNode=e.from),d}function Z(t,e={}){return{focusNext(a={}){let r=t.current;if(!r)return null;let{from:l,tabbable:i=e.tabbable,wrap:d=e.wrap,accept:o=e.accept}=a,u=l||T(m(r)),s=p(r,{tabbable:i,accept:o});r.contains(u)&&(s.currentNode=u);let c=s.nextNode();return!c&&d&&(s.currentNode=r,c=s.nextNode()),c&&h(c,!0),c},focusPrevious(a=e){let r=t.current;if(!r)return null;let{from:l,tabbable:i=e.tabbable,wrap:d=e.wrap,accept:o=e.accept}=a,u=l||T(m(r)),s=p(r,{tabbable:i,accept:o});if(r.contains(u))s.currentNode=u;else{let f=y(s);return f&&h(f,!0),f!=null?f:null}let c=s.previousNode();if(!c&&d){s.currentNode=r;let f=y(s);if(!f)return null;c=f}return c&&h(c,!0),c!=null?c:null},focusFirst(a=e){let r=t.current;if(!r)return null;let{tabbable:l=e.tabbable,accept:i=e.accept}=a,o=p(r,{tabbable:l,accept:i}).nextNode();return o&&h(o,!0),o},focusLast(a=e){let r=t.current;if(!r)return null;let{tabbable:l=e.tabbable,accept:i=e.accept}=a,d=p(r,{tabbable:l,accept:i}),o=y(d);return o&&h(o,!0),o!=null?o:null}}}function y(t){let e,a;do a=t.lastChild(),a&&(e=a);while(a);return e}class P{get size(){return this.fastMap.size}getTreeNode(e){return this.fastMap.get(e)}addTreeNode(e,a,r){let l=this.fastMap.get(a!=null?a:null);if(!l)return;let i=new R({scopeRef:e});l.addChild(i),i.parent=l,this.fastMap.set(e,i),r&&(i.nodeToRestore=r)}addNode(e){this.fastMap.set(e.scopeRef,e)}removeTreeNode(e){if(e===null)return;let a=this.fastMap.get(e);if(!a)return;let r=a.parent;for(let i of this.traverse())i!==a&&a.nodeToRestore&&i.nodeToRestore&&a.scopeRef&&a.scopeRef.current&&k(i.nodeToRestore,a.scopeRef.current)&&(i.nodeToRestore=a.nodeToRestore);let l=a.children;r&&(r.removeChild(a),l.size>0&&l.forEach(i=>r&&r.addChild(i))),this.fastMap.delete(a.scopeRef)}*traverse(e=this.root){if(e.scopeRef!=null&&(yield e),e.children.size>0)for(let a of e.children)yield*this.traverse(a)}clone(){var e;let a=new P;var r;for(let l of this.traverse())a.addTreeNode(l.scopeRef,(r=(e=l.parent)===null||e===void 0?void 0:e.scopeRef)!==null&&r!==void 0?r:null,l.nodeToRestore);return a}constructor(){this.fastMap=new Map,this.root=new R({scopeRef:null}),this.fastMap.set(null,this.root)}}class R{addChild(e){this.children.add(e),e.parent=this}removeChild(e){this.children.delete(e),e.parent=void 0}constructor(e){this.children=new Set,this.contain=!1,this.scopeRef=e.scopeRef}}new P;function O(t,e){const{"aria-label":a,"aria-labelledby":r,orientation:l="horizontal"}=t;let[i,d]=b.exports.useState(!1);G(()=>{var n;d(!!(e.current&&((n=e.current.parentElement)===null||n===void 0?void 0:n.closest('[role="toolbar"]'))))});const{direction:o}=H(),u=o==="rtl"&&l==="horizontal";let s=Z(e);const c=n=>{if(!!n.currentTarget.contains(n.target)){if(l==="horizontal"&&n.key==="ArrowRight"||l==="vertical"&&n.key==="ArrowDown")u?s.focusPrevious():s.focusNext();else if(l==="horizontal"&&n.key==="ArrowLeft"||l==="vertical"&&n.key==="ArrowUp")u?s.focusNext():s.focusPrevious();else if(n.key==="Tab"){n.stopPropagation(),f.current=document.activeElement,n.shiftKey?s.focusFirst():s.focusLast();return}else return;n.stopPropagation(),n.preventDefault()}},f=b.exports.useRef(null),x=n=>{!n.currentTarget.contains(n.relatedTarget)&&!f.current&&(f.current=n.target)},v=n=>{var $;if(f.current&&!n.currentTarget.contains(n.relatedTarget)&&(($=e.current)===null||$===void 0?void 0:$.contains(n.target))){var S;(S=f.current)===null||S===void 0||S.focus(),f.current=null}};return{toolbarProps:{...j(t,{labelable:!0}),role:i?"group":"toolbar","aria-orientation":l,"aria-label":a,"aria-labelledby":a==null?r:void 0,onKeyDownCapture:i?void 0:c,onFocusCapture:i?void 0:v,onBlurCapture:i?void 0:x}}}function ee(t,e,a){let{isDisabled:r}=t,{toolbarProps:l}=O(t,a);return{groupProps:{...l,role:e.selectionMode==="single"?"radiogroup":l.role,"aria-disabled":r}}}function te(t,e,a){let r={isSelected:e.selectedKeys.has(t.id),setSelected(u){e.setSelected(t.id,u)},toggle(){e.toggleKey(t.id)}},{isPressed:l,isSelected:i,isDisabled:d,buttonProps:o}=F({...t,id:void 0,isDisabled:t.isDisabled||e.isDisabled},r,a);return e.selectionMode==="single"&&(o.role="radio",o["aria-checked"]=r.isSelected,delete o["aria-pressed"]),{isPressed:l,isSelected:i,isDisabled:d,buttonProps:o}}function ae(t={}){let{isReadOnly:e}=t,[a,r]=C(t.isSelected,t.defaultSelected||!1,t.onChange);function l(d){e||r(d)}function i(){e||r(!a)}return{isSelected:a,setSelected:l,toggle:i}}function re(t){let{selectionMode:e="single",disallowEmptySelection:a,isDisabled:r=!1}=t,[l,i]=C(b.exports.useMemo(()=>t.selectedKeys?new Set(t.selectedKeys):void 0,[t.selectedKeys]),b.exports.useMemo(()=>t.defaultSelectedKeys?new Set(t.defaultSelectedKeys):new Set,[t.defaultSelectedKeys]),t.onSelectionChange);return{selectionMode:e,isDisabled:r,selectedKeys:l,setSelectedKeys:i,toggleKey(d){let o;e==="multiple"?(o=new Set(l),o.has(d)&&(!a||o.size>1)?o.delete(d):o.add(d)):o=new Set(l.has(d)&&!a?[]:[d]),i(o)},setSelected(d,o){o!==l.has(d)&&this.toggleKey(d)}}}const le=b.exports.createContext({}),B=b.exports.createContext(null),ie=b.exports.forwardRef(function(e,a){[e,a]=M(e,a,le);let r=re(e),{groupProps:l}=ee(e,r,a),i=K({...e,values:{isDisabled:r.isDisabled,state:r},defaultClassName:"react-aria-ToggleButtonGroup"});return w.createElement("div",{...l,...i,ref:a,slot:e.slot||void 0,"data-orientation":e.orientation||"horizontal","data-disabled":e.isDisabled||void 0},w.createElement(B.Provider,{value:r},i.children))}),oe=b.exports.createContext({}),de=b.exports.forwardRef(function(e,a){[e,a]=M(e,a,oe);let r=b.exports.useContext(B),l=ae(r&&e.id!=null?{isSelected:r.selectedKeys.has(e.id),onChange($){r.setSelected(e.id,$)}}:e),{buttonProps:i,isPressed:d,isSelected:o,isDisabled:u}=r&&e.id!=null?te({...e,id:e.id},r,a):F({...e,id:e.id!=null?String(e.id):void 0},l,a),{focusProps:s,isFocused:c,isFocusVisible:f}=U(e),{hoverProps:x,isHovered:v}=J(e),n=K({...e,id:void 0,values:{isHovered:v,isPressed:d,isFocused:c,isSelected:l.isSelected,isFocusVisible:f,isDisabled:u,state:l},defaultClassName:"react-aria-ToggleButton"});return w.createElement("button",{...D(i,s,x),...n,ref:a,slot:e.slot||void 0,"data-focused":c||void 0,"data-disabled":u||void 0,"data-pressed":d||void 0,"data-selected":o||void 0,"data-hovered":v||void 0,"data-focus-visible":f||void 0})}),ne=E(ie)`
  ${q}
`,se=E(de)`
  all: unset;
  height: 3.6rem;
  padding: 0 0.8rem;
  background-color: ${g.palette.white};
  border: solid 0.1rem ${g.palette.pale};
  font-weight: 400;
  font-size: 1.6rem;
  line-height: 2rem;
  white-space: nowrap;
  user-select: none;

  & + & {
    border-left: none;
  }

  &[data-selected] {
    background-color: ${g.palette.neutralLighter};
  }

  &[data-focus-visible] {
    outline: none;
    box-shadow: inset 0 0 0 0.1rem ${g.palette.black};
  }
`,ve=({items:t,selectedItems:e,onSelectionChange:a,selectionMode:r="single",...l})=>N(ne,{selectionMode:r,selectedKeys:e,onSelectionChange:a,...l,children:t.map(i=>N(se,{"data-button-id":i.id,id:i.id,onPressStart:d=>d.continuePropagation(),children:i.value},i.id))});export{ve as T};
