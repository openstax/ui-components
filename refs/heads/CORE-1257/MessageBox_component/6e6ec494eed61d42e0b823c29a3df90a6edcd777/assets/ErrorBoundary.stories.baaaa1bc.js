import{R as c,j as E,F as f,a as o}from"./index.567d8526.js";import{E as m}from"./ErrorBoundary.6a56e08f.js";import{E as P}from"./contexts.7f60dcd5.js";import{u as S}from"./hooks.057e8fcc.js";import"./Error.6ebe3026.js";import"./MessageBox.styles.7be44d9b.js";import"./theme.9086e610.js";import"./palette.15e4d008.js";import"./utils.e3275d2c.js";const k=({message:e,showEventId:r=!0})=>{var s;const{error:t}=c.useContext(P);return E(f,{children:[e||((s=t==null?void 0:t.error)==null?void 0:s.message),r?o("div",{children:t==null?void 0:t.eventId}):null]})};var n={};Object.defineProperty(n,"__esModule",{value:!0});var T=n.SessionExpiredError=n.NotFoundError=n.ForbiddenError=x=n.UnauthorizedError=n.ValidationError=n.InvalidRequestError=n.isAppError=void 0;const h=e=>r=>r instanceof Error&&r.constructor.TYPE===e.TYPE,y=e=>e instanceof Error&&typeof e.constructor.TYPE=="string";n.isAppError=y;class i extends Error{constructor(r){super(r||i.TYPE)}}n.InvalidRequestError=i;i.TYPE="InvalidRequestError";i.matches=h(i);class w extends Error{constructor(r){super(i.TYPE),this.data=r}getData(){return this.data}}n.ValidationError=w;w.TYPE="ValidationError";w.matches=h(w);class a extends Error{constructor(r){super(r||a.TYPE)}}var x=n.UnauthorizedError=a;a.TYPE="UnauthorizedError";a.matches=h(a);class d extends Error{constructor(r){super(r||d.TYPE)}}n.ForbiddenError=d;d.TYPE="ForbiddenError";d.matches=h(d);class u extends Error{constructor(r){super(r||u.TYPE)}}n.NotFoundError=u;u.TYPE="NotFoundError";u.matches=h(u);class l extends Error{constructor(r){super(r||l.TYPE)}}T=n.SessionExpiredError=l;l.TYPE="SessionExpiredError";l.matches=h(l);const p=({doThrow:e,setShowError:r,error:t,errorMessage:s})=>(c.useEffect(()=>{if(e)throw r(!1),t instanceof Error?t:new Error(s||"Test Error")},[e,t,s,r]),null),b=()=>{const e=S();return o("button",{onClick:()=>{Promise.reject(Error("Test Error")).catch(e)},children:"Async Trigger Error Display"})},D=()=>{const[e,r]=c.useState(!1);return E(m,{children:[o(k,{}),o(p,{doThrow:e,setShowError:r}),o("button",{onClick:()=>{r(!0)},children:"Throw Error"}),o(b,{})]})},U=()=>{const[e,r]=c.useState(!1);return E(m,{renderFallback:!0,sentryDsn:"https://0@o0.ingest.sentry.io/0",children:[o(p,{doThrow:e,setShowError:r}),o("button",{onClick:()=>{r(!0)},children:"Throw Error"}),o(b,{})]})},V=()=>{const[e,r]=c.useState(!1);return E(m,{renderFallback:!0,fallback:t=>E(f,{children:[o("h2",{children:"This is a custom error fallback"}),o("p",{children:t&&t.error.toString()}),t&&t.resetError?o("button",{onClick:t&&t.resetError,children:"Reset"}):null]}),children:[o(p,{doThrow:e,setShowError:r}),o("button",{onClick:()=>{r(!0)},children:"Throw Error"}),o(b,{})]})},Y=()=>{const e=S();return o("button",{onClick:()=>{(async()=>{try{throw new T}catch(r){e(r)}})()},children:"Async Throw Session Expired"})},_=()=>{const[e,r]=c.useState(!1),[t,s]=c.useState(!1);return E(m,{renderFallback:!0,children:[o(p,{doThrow:e,setShowError:r,error:new T}),o(p,{doThrow:t,setShowError:s,error:new x}),o("button",{onClick:()=>{r(!0)},children:"Throw SessionExpiredError"}),o("br",{}),o(Y,{}),o("br",{}),o("button",{onClick:()=>{s(!0)},children:"Throw UnauthorizedError"})]})};typeof window<"u"&&window.document&&window.document.createElement&&document.documentElement.setAttribute("data-storyloaded","");export{V as Fallback_GenericError_Custom,U as Fallback_GenericError_Default,_ as Fallback_SpecialError,D as InlineMessages};
