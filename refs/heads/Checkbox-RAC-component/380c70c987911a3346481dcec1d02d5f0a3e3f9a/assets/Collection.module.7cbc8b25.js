import{n as Et,o as Ve,e as Me,$ as P,p as Ce,q as kt,r as Nt,s as it,t as I,u as Ee,d as re,v as Oe,w as lt,x as Tt,y as nt,z as rt,A as ot,B as H,C as st,D as ae,E as ke,F as Rt,G as Q,H as Ft,I as Dt,f as Mt}from"./useFocusRing.module.f596cf9d.js";import{b as Pt,$ as It}from"./context.module.663f57f9.js";import{r as h,R as g,b as ut}from"./index.3a098f21.js";class At{get currentNode(){return this._currentNode}set currentNode(e){if(!Ve(this.root,e))throw new Error("Cannot set currentNode to a node that is not contained by the root node.");const t=[];let i=e,n=e;for(this._currentNode=e;i&&i!==this.root;)if(i.nodeType===Node.DOCUMENT_FRAGMENT_NODE){const o=i,s=this._doc.createTreeWalker(o,this.whatToShow,{acceptNode:this._acceptNode});t.push(s),s.currentNode=n,this._currentSetFor.add(s),i=n=o.host}else i=i.parentNode;const r=this._doc.createTreeWalker(this.root,this.whatToShow,{acceptNode:this._acceptNode});t.push(r),r.currentNode=n,this._currentSetFor.add(r),this._walkerStack=t}get doc(){return this._doc}firstChild(){let e=this.currentNode,t=this.nextNode();return Ve(e,t)?(t&&(this.currentNode=t),t):(this.currentNode=e,null)}lastChild(){let t=this._walkerStack[0].lastChild();return t&&(this.currentNode=t),t}nextNode(){const e=this._walkerStack[0].nextNode();if(e){if(e.shadowRoot){var t;let n;if(typeof this.filter=="function"?n=this.filter(e):!((t=this.filter)===null||t===void 0)&&t.acceptNode&&(n=this.filter.acceptNode(e)),n===NodeFilter.FILTER_ACCEPT)return this.currentNode=e,e;let r=this.nextNode();return r&&(this.currentNode=r),r}return e&&(this.currentNode=e),e}else if(this._walkerStack.length>1){this._walkerStack.shift();let i=this.nextNode();return i&&(this.currentNode=i),i}else return null}previousNode(){const e=this._walkerStack[0];if(e.currentNode===e.root){if(this._currentSetFor.has(e))if(this._currentSetFor.delete(e),this._walkerStack.length>1){this._walkerStack.shift();let n=this.previousNode();return n&&(this.currentNode=n),n}else return null;return null}const t=e.previousNode();if(t){if(t.shadowRoot){var i;let r;if(typeof this.filter=="function"?r=this.filter(t):!((i=this.filter)===null||i===void 0)&&i.acceptNode&&(r=this.filter.acceptNode(t)),r===NodeFilter.FILTER_ACCEPT)return t&&(this.currentNode=t),t;let o=this.lastChild();return o&&(this.currentNode=o),o}return t&&(this.currentNode=t),t}else if(this._walkerStack.length>1){this._walkerStack.shift();let n=this.previousNode();return n&&(this.currentNode=n),n}else return null}nextSibling(){return null}previousSibling(){return null}parentNode(){return null}constructor(e,t,i,n){this._walkerStack=[],this._currentSetFor=new Set,this._acceptNode=o=>{if(o.nodeType===Node.ELEMENT_NODE){const u=o.shadowRoot;if(u){const c=this._doc.createTreeWalker(u,this.whatToShow,{acceptNode:this._acceptNode});return this._walkerStack.unshift(c),NodeFilter.FILTER_ACCEPT}else{var s;if(typeof this.filter=="function")return this.filter(o);if(!((s=this.filter)===null||s===void 0)&&s.acceptNode)return this.filter.acceptNode(o);if(this.filter===null)return NodeFilter.FILTER_ACCEPT}}return NodeFilter.FILTER_SKIP},this._doc=e,this.root=t,this.filter=n!=null?n:null,this.whatToShow=i!=null?i:NodeFilter.SHOW_ALL,this._currentNode=t,this._walkerStack.unshift(e.createTreeWalker(t,i,this._acceptNode));const r=t.shadowRoot;if(r){const o=this._doc.createTreeWalker(r,this.whatToShow,{acceptNode:this._acceptNode});this._walkerStack.unshift(o)}}}function at(l,e,t,i){return Et()?new At(l,e,t,i):l.createTreeWalker(e,t,i)}function Pi(l,e){let{id:t,"aria-label":i,"aria-labelledby":n}=l;return t=Me(t),n&&i?n=[...new Set([t,...n.trim().split(/\s+/)])].join(" "):n&&(n=n.trim().split(/\s+/).join(" ")),!i&&!n&&e&&(i=e),{id:t,"aria-label":i,"aria-labelledby":n}}function ze(l,e){const t=h.exports.useRef(!0),i=h.exports.useRef(null);P(()=>(t.current=!0,()=>{t.current=!1}),[]),P(()=>{t.current?t.current=!1:(!i.current||e.some((n,r)=>!Object.is(n,i[r])))&&l(),i.current=e},e)}function Lt(l,e){if(!l)return!1;let t=window.getComputedStyle(l),i=/(auto|scroll)/.test(t.overflow+t.overflowX+t.overflowY);return i&&e&&(i=l.scrollHeight!==l.clientHeight||l.scrollWidth!==l.clientWidth),i}function Bt(l,e){const t=[];for(;l&&l!==document.documentElement;)Lt(l,e)&&t.push(l),l=l.parentElement;return t}let Vt=0;const ge=new Map;function Ot(l){let[e,t]=h.exports.useState();return P(()=>{if(!l)return;let i=ge.get(l);if(i)t(i.element.id);else{let n=`react-aria-description-${Vt++}`;t(n);let r=document.createElement("div");r.id=n,r.style.display="none",r.textContent=l,document.body.appendChild(r),i={refCount:0,element:r},ge.set(l,i)}return i.refCount++,()=>{i&&--i.refCount===0&&(i.element.remove(),ge.delete(l))}},[l]),{"aria-describedby":l?e:void 0}}function ue(l,e,t,i){let n=Ce(t),r=t==null;h.exports.useEffect(()=>{if(r||!l.current)return;let o=l.current;return o.addEventListener(e,n,i),()=>{o.removeEventListener(e,n,i)}},[l,e,i,r,n])}function ct(l,e){let t=He(l,e,"left"),i=He(l,e,"top"),n=e.offsetWidth,r=e.offsetHeight,o=l.scrollLeft,s=l.scrollTop,{borderTopWidth:u,borderLeftWidth:c,scrollPaddingTop:y,scrollPaddingRight:d,scrollPaddingBottom:f,scrollPaddingLeft:v}=getComputedStyle(l),b=o+parseInt(c,10),C=s+parseInt(u,10),m=b+l.clientWidth,S=C+l.clientHeight,E=parseInt(y,10)||0,x=parseInt(f,10)||0,N=parseInt(d,10)||0,R=parseInt(v,10)||0;t<=o+R?o=t-parseInt(c,10)-R:t+n>m-N&&(o+=t+n-m+N),i<=C+E?s=i-parseInt(u,10)-E:i+r>S-x&&(s+=i+r-S+x),l.scrollLeft=o,l.scrollTop=s}function He(l,e,t){const i=t==="left"?"offsetLeft":"offsetTop";let n=0;for(;e.offsetParent&&(n+=e[i],e.offsetParent!==l);){if(e.offsetParent.contains(l)){n-=l[i];break}e=e.offsetParent}return n}function We(l,e){if(l&&document.contains(l)){let o=document.scrollingElement||document.documentElement;if(window.getComputedStyle(o).overflow==="hidden"){let u=Bt(l);for(let c of u)ct(c,l)}else{var t;let{left:u,top:c}=l.getBoundingClientRect();l==null||(t=l.scrollIntoView)===null||t===void 0||t.call(l,{block:"nearest"});let{left:y,top:d}=l.getBoundingClientRect();if(Math.abs(u-y)>1||Math.abs(c-d)>1){var i,n,r;e==null||(n=e.containingElement)===null||n===void 0||(i=n.scrollIntoView)===null||i===void 0||i.call(n,{block:"center",inline:"center"}),(r=l.scrollIntoView)===null||r===void 0||r.call(l,{block:"nearest"})}}}}const zt="react-aria-clear-focus",Ht="react-aria-focus";function _(l){return kt()?l.metaKey:l.ctrlKey}class Pe{get childNodes(){throw new Error("childNodes is not supported")}clone(){let e=new Pe(this.type,this.key);return e.value=this.value,e.level=this.level,e.hasChildNodes=this.hasChildNodes,e.rendered=this.rendered,e.textValue=this.textValue,e["aria-label"]=this["aria-label"],e.index=this.index,e.parentKey=this.parentKey,e.prevKey=this.prevKey,e.nextKey=this.nextKey,e.firstChildKey=this.firstChildKey,e.lastChildKey=this.lastChildKey,e.props=this.props,e.render=this.render,e.colSpan=this.colSpan,e.colIndex=this.colIndex,e}constructor(e,t){this.value=null,this.level=0,this.hasChildNodes=!1,this.rendered=null,this.textValue="",this["aria-label"]=void 0,this.index=0,this.parentKey=null,this.prevKey=null,this.nextKey=null,this.firstChildKey=null,this.lastChildKey=null,this.props={},this.colSpan=null,this.colIndex=null,this.type=e,this.key=t}}class Ie{get size(){return this.keyMap.size}getKeys(){return this.keyMap.keys()}*[Symbol.iterator](){let e=this.firstKey!=null?this.keyMap.get(this.firstKey):void 0;for(;e;)yield e,e=e.nextKey!=null?this.keyMap.get(e.nextKey):void 0}getChildren(e){let t=this.keyMap;return{*[Symbol.iterator](){let i=t.get(e),n=(i==null?void 0:i.firstChildKey)!=null?t.get(i.firstChildKey):null;for(;n;)yield n,n=n.nextKey!=null?t.get(n.nextKey):void 0}}}getKeyBefore(e){let t=this.keyMap.get(e);if(!t)return null;if(t.prevKey!=null){for(t=this.keyMap.get(t.prevKey);t&&t.type!=="item"&&t.lastChildKey!=null;)t=this.keyMap.get(t.lastChildKey);var i;return(i=t==null?void 0:t.key)!==null&&i!==void 0?i:null}return t.parentKey}getKeyAfter(e){let t=this.keyMap.get(e);if(!t)return null;if(t.type!=="item"&&t.firstChildKey!=null)return t.firstChildKey;for(;t;){if(t.nextKey!=null)return t.nextKey;if(t.parentKey!=null)t=this.keyMap.get(t.parentKey);else return null}return null}getFirstKey(){return this.firstKey}getLastKey(){let e=this.lastKey!=null?this.keyMap.get(this.lastKey):null;for(;(e==null?void 0:e.lastChildKey)!=null;)e=this.keyMap.get(e.lastChildKey);var t;return(t=e==null?void 0:e.key)!==null&&t!==void 0?t:null}getItem(e){var t;return(t=this.keyMap.get(e))!==null&&t!==void 0?t:null}at(){throw new Error("Not implemented")}clone(){let e=this.constructor,t=new e;return t.keyMap=new Map(this.keyMap),t.firstKey=this.firstKey,t.lastKey=this.lastKey,t}addNode(e){if(this.frozen)throw new Error("Cannot add a node to a frozen collection");this.keyMap.set(e.key,e)}removeNode(e){if(this.frozen)throw new Error("Cannot remove a node to a frozen collection");this.keyMap.delete(e)}commit(e,t,i=!1){if(this.frozen)throw new Error("Cannot commit a frozen collection");this.firstKey=e,this.lastKey=t,this.frozen=!i}UNSTABLE_filter(e){let t=new Ie,i=null;for(let n of this)if(n.type==="section"&&n.hasChildNodes){let r=n.clone(),o=null;for(let s of this.getChildren(n.key))if(Ue(s,e,this,t)){let u=s.clone();o==null&&(r.firstChildKey=u.key),t.firstKey==null&&(t.firstKey=r.key),o&&o.parentKey===u.parentKey?(o.nextKey=u.key,u.prevKey=o.key):u.prevKey=null,u.nextKey=null,t.addNode(u),o=u}o&&(o.type!=="header"?(r.lastChildKey=o.key,i==null?r.prevKey=null:(i.type==="section"||i.type==="separator")&&(i.nextKey=r.key,r.prevKey=i.key),r.nextKey=null,i=r,t.addNode(r)):(t.firstKey===r.key&&(t.firstKey=null),t.removeNode(o.key)))}else if(n.type==="separator"){let r=n.clone();r.nextKey=null,(i==null?void 0:i.type)==="section"&&(i.nextKey=r.key,r.prevKey=i.key,i=r,t.addNode(r))}else{let r=n.clone();Ue(r,e,this,t)&&(t.firstKey==null&&(t.firstKey=r.key),i!=null&&i.type!=="section"&&i.type!=="separator"&&i.parentKey===r.parentKey?(i.nextKey=r.key,r.prevKey=i.key):r.prevKey=null,r.nextKey=null,t.addNode(r),i=r)}if((i==null?void 0:i.type)==="separator"&&i.nextKey===null){let n;i.prevKey!=null&&(n=t.getItem(i.prevKey),n.nextKey=null),t.removeNode(i.key),i=n}return t.lastKey=(i==null?void 0:i.key)||null,t}constructor(){this.keyMap=new Map,this.firstKey=null,this.lastKey=null,this.frozen=!1}}function Ue(l,e,t,i){if(l.type==="subdialogtrigger"||l.type==="submenutrigger"){let n=[...t.getChildren(l.key)][0];if(n&&e(n.textValue)){let r=n.clone();return i.addNode(r),!0}else return!1}else return l.type==="header"?!0:e(l.textValue)}class dt{*[Symbol.iterator](){let e=this.firstChild;for(;e;)yield e,e=e.nextSibling}get firstChild(){return this._firstChild}set firstChild(e){this._firstChild=e,this.ownerDocument.markDirty(this)}get lastChild(){return this._lastChild}set lastChild(e){this._lastChild=e,this.ownerDocument.markDirty(this)}get previousSibling(){return this._previousSibling}set previousSibling(e){this._previousSibling=e,this.ownerDocument.markDirty(this)}get nextSibling(){return this._nextSibling}set nextSibling(e){this._nextSibling=e,this.ownerDocument.markDirty(this)}get parentNode(){return this._parentNode}set parentNode(e){this._parentNode=e,this.ownerDocument.markDirty(this)}get isConnected(){var e;return((e=this.parentNode)===null||e===void 0?void 0:e.isConnected)||!1}invalidateChildIndices(e){(this._minInvalidChildIndex==null||!this._minInvalidChildIndex.isConnected||e.index<this._minInvalidChildIndex.index)&&(this._minInvalidChildIndex=e,this.ownerDocument.markDirty(this))}updateChildIndices(){let e=this._minInvalidChildIndex;for(;e;)e.index=e.previousSibling?e.previousSibling.index+1:0,e=e.nextSibling;this._minInvalidChildIndex=null}appendChild(e){e.parentNode&&e.parentNode.removeChild(e),this.firstChild==null&&(this.firstChild=e),this.lastChild?(this.lastChild.nextSibling=e,e.index=this.lastChild.index+1,e.previousSibling=this.lastChild):(e.previousSibling=null,e.index=0),e.parentNode=this,e.nextSibling=null,this.lastChild=e,this.ownerDocument.markDirty(this),this.isConnected&&this.ownerDocument.queueUpdate()}insertBefore(e,t){if(t==null)return this.appendChild(e);e.parentNode&&e.parentNode.removeChild(e),e.nextSibling=t,e.previousSibling=t.previousSibling,e.index=t.index-1,this.firstChild===t?this.firstChild=e:t.previousSibling&&(t.previousSibling.nextSibling=e),t.previousSibling=e,e.parentNode=t.parentNode,this.invalidateChildIndices(e),this.isConnected&&this.ownerDocument.queueUpdate()}removeChild(e){e.parentNode!==this||!this.ownerDocument.isMounted||(this._minInvalidChildIndex===e&&(this._minInvalidChildIndex=null),e.nextSibling&&(this.invalidateChildIndices(e.nextSibling),e.nextSibling.previousSibling=e.previousSibling),e.previousSibling&&(e.previousSibling.nextSibling=e.nextSibling),this.firstChild===e&&(this.firstChild=e.nextSibling),this.lastChild===e&&(this.lastChild=e.previousSibling),e.parentNode=null,e.nextSibling=null,e.previousSibling=null,e.index=0,this.ownerDocument.markDirty(e),this.isConnected&&this.ownerDocument.queueUpdate())}addEventListener(){}removeEventListener(){}get previousVisibleSibling(){let e=this.previousSibling;for(;e&&e.isHidden;)e=e.previousSibling;return e}get nextVisibleSibling(){let e=this.nextSibling;for(;e&&e.isHidden;)e=e.nextSibling;return e}get firstVisibleChild(){let e=this.firstChild;for(;e&&e.isHidden;)e=e.nextSibling;return e}get lastVisibleChild(){let e=this.lastChild;for(;e&&e.isHidden;)e=e.previousSibling;return e}constructor(e){this._firstChild=null,this._lastChild=null,this._previousSibling=null,this._nextSibling=null,this._parentNode=null,this._minInvalidChildIndex=null,this.ownerDocument=e}}class ee extends dt{get index(){return this._index}set index(e){this._index=e,this.ownerDocument.markDirty(this)}get level(){return this.parentNode instanceof ee?this.parentNode.level+(this.node.type==="item"?1:0):0}getMutableNode(){return this.isMutated||(this.node=this.node.clone(),this.isMutated=!0),this.ownerDocument.markDirty(this),this.node}updateNode(){var e,t,i;let n=this.nextVisibleSibling,r=this.getMutableNode();r.index=this.index,r.level=this.level,r.parentKey=this.parentNode instanceof ee?this.parentNode.node.key:null;var o;r.prevKey=(o=(e=this.previousVisibleSibling)===null||e===void 0?void 0:e.node.key)!==null&&o!==void 0?o:null;var s;r.nextKey=(s=n==null?void 0:n.node.key)!==null&&s!==void 0?s:null,r.hasChildNodes=!!this.firstChild;var u;r.firstChildKey=(u=(t=this.firstVisibleChild)===null||t===void 0?void 0:t.node.key)!==null&&u!==void 0?u:null;var c;if(r.lastChildKey=(c=(i=this.lastVisibleChild)===null||i===void 0?void 0:i.node.key)!==null&&c!==void 0?c:null,(r.colSpan!=null||r.colIndex!=null)&&n){var y,d;let f=((y=r.colIndex)!==null&&y!==void 0?y:r.index)+((d=r.colSpan)!==null&&d!==void 0?d:1);if(f!==n.node.colIndex){let v=n.getMutableNode();v.colIndex=f}}}setProps(e,t,i,n){let r=this.getMutableNode(),{value:o,textValue:s,id:u,...c}=e;if(c.ref=t,r.props=c,r.rendered=i,r.render=n,r.value=o,r.textValue=s||(typeof c.children=="string"?c.children:"")||e["aria-label"]||"",u!=null&&u!==r.key){if(this.hasSetProps)throw new Error("Cannot change the id of an item");r.key=u}c.colSpan!=null&&(r.colSpan=c.colSpan),this.hasSetProps=!0,this.isConnected&&this.ownerDocument.queueUpdate()}get style(){let e=this;return{get display(){return e.isHidden?"none":""},set display(t){let i=t==="none";if(e.isHidden!==i){var n,r;(((n=e.parentNode)===null||n===void 0?void 0:n.firstVisibleChild)===e||((r=e.parentNode)===null||r===void 0?void 0:r.lastVisibleChild)===e)&&e.ownerDocument.markDirty(e.parentNode);let o=e.previousVisibleSibling,s=e.nextVisibleSibling;o&&e.ownerDocument.markDirty(o),s&&e.ownerDocument.markDirty(s),e.isHidden=i,e.ownerDocument.markDirty(e)}}}}hasAttribute(){}setAttribute(){}setAttributeNS(){}removeAttribute(){}constructor(e,t){super(t),this.nodeType=8,this.isMutated=!0,this._index=0,this.hasSetProps=!1,this.isHidden=!1,this.node=new Pe(e,`react-aria-${++t.nodeId}`)}}class Wt extends dt{get isConnected(){return this.isMounted}createElement(e){return new ee(e,this)}getMutableCollection(){return this.nextCollection||(this.nextCollection=this.collection.clone()),this.nextCollection}markDirty(e){this.dirtyNodes.add(e)}addNode(e){if(e.isHidden)return;let t=this.getMutableCollection();if(!t.getItem(e.node.key))for(let i of e)this.addNode(i);t.addNode(e.node)}removeNode(e){for(let i of e)this.removeNode(i);this.getMutableCollection().removeNode(e.node.key)}getCollection(){return this.inSubscription?this.collection.clone():(this.queuedRender=!1,this.updateCollection(),this.collection)}updateCollection(){for(let r of this.dirtyNodes)r instanceof ee&&(!r.isConnected||r.isHidden)?this.removeNode(r):r.updateChildIndices();for(let r of this.dirtyNodes)r instanceof ee&&(r.isConnected&&!r.isHidden&&(r.updateNode(),this.addNode(r)),r.isMutated=!1);if(this.dirtyNodes.clear(),this.nextCollection){var e,t,i,n;this.nextCollection.commit((i=(e=this.firstVisibleChild)===null||e===void 0?void 0:e.node.key)!==null&&i!==void 0?i:null,(n=(t=this.lastVisibleChild)===null||t===void 0?void 0:t.node.key)!==null&&n!==void 0?n:null,this.isSSR),this.isSSR||(this.collection=this.nextCollection,this.nextCollection=null)}}queueUpdate(){if(!(this.dirtyNodes.size===0||this.queuedRender)){this.queuedRender=!0,this.inSubscription=!0;for(let e of this.subscriptions)e();this.inSubscription=!1}}subscribe(e){return this.subscriptions.add(e),()=>this.subscriptions.delete(e)}resetAfterSSR(){this.isSSR&&(this.isSSR=!1,this.firstChild=null,this.lastChild=null,this.nodeId=0)}constructor(e){super(null),this.nodeType=11,this.ownerDocument=this,this.dirtyNodes=new Set,this.isSSR=!1,this.nodeId=0,this.nodesByProps=new WeakMap,this.isMounted=!0,this.nextCollection=null,this.subscriptions=new Set,this.queuedRender=!1,this.inSubscription=!1,this.collection=e,this.nextCollection=e}}function ft(l){let{children:e,items:t,idScope:i,addIdAndValue:n,dependencies:r=[]}=l,o=h.exports.useMemo(()=>new WeakMap,r);return h.exports.useMemo(()=>{if(t&&typeof e=="function"){let c=[];for(let y of t){let d=o.get(y);if(!d){d=e(y);var s,u;let f=(u=(s=d.props.id)!==null&&s!==void 0?s:y.key)!==null&&u!==void 0?u:y.id;if(f==null)throw new Error("Could not determine key for item");i&&(f=i+":"+f),d=h.exports.cloneElement(d,n?{key:f,id:f,value:y}:{key:f}),o.set(y,d)}c.push(d)}return c}else if(typeof e!="function")return e},[e,t,o,i,n])}const Ut=500;function qt(l){let{isDisabled:e,onLongPressStart:t,onLongPressEnd:i,onLongPress:n,threshold:r=Ut,accessibilityDescription:o}=l;const s=h.exports.useRef(void 0);let{addGlobalListener:u,removeGlobalListener:c}=Nt(),{pressProps:y}=it({isDisabled:e,onPressStart(f){if(f.continuePropagation(),(f.pointerType==="mouse"||f.pointerType==="touch")&&(t&&t({...f,type:"longpressstart"}),s.current=setTimeout(()=>{f.target.dispatchEvent(new PointerEvent("pointercancel",{bubbles:!0})),I(f.target).activeElement!==f.target&&Ee(f.target),n&&n({...f,type:"longpress"}),s.current=void 0},r),f.pointerType==="touch")){let v=b=>{b.preventDefault()};u(f.target,"contextmenu",v,{once:!0}),u(window,"pointerup",()=>{setTimeout(()=>{c(f.target,"contextmenu",v)},30)},{once:!0})}},onPressEnd(f){s.current&&clearTimeout(s.current),i&&(f.pointerType==="mouse"||f.pointerType==="touch")&&i({...f,type:"longpressend"})}}),d=Ot(n&&!e?o:void 0);return{longPressProps:re(y,d)}}var ht={exports:{}},pt={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var te=h.exports;function jt(l,e){return l===e&&(l!==0||1/l===1/e)||l!==l&&e!==e}var Gt=typeof Object.is=="function"?Object.is:jt,Yt=te.useState,Xt=te.useEffect,Jt=te.useLayoutEffect,Zt=te.useDebugValue;function Qt(l,e){var t=e(),i=Yt({inst:{value:t,getSnapshot:e}}),n=i[0].inst,r=i[1];return Jt(function(){n.value=t,n.getSnapshot=e,Se(n)&&r({inst:n})},[l,t,e]),Xt(function(){return Se(n)&&r({inst:n}),l(function(){Se(n)&&r({inst:n})})},[l]),Zt(t),t}function Se(l){var e=l.getSnapshot;l=l.value;try{var t=e();return!Gt(l,t)}catch{return!0}}function _t(l,e){return e()}var ei=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?_t:Qt;pt.useSyncExternalStore=te.useSyncExternalStore!==void 0?te.useSyncExternalStore:ei;(function(l){l.exports=pt})(ht);const vt=h.exports.createContext(!1),oe=h.exports.createContext(null);function Ii(l){if(h.exports.useContext(oe))return l.content;let{collection:t,document:i}=ni(l.createCollection);return g.createElement(g.Fragment,null,g.createElement(Pt,null,g.createElement(oe.Provider,{value:i},l.content)),g.createElement(ti,{render:l.children,collection:t}))}function ti({collection:l,render:e}){return e(l)}function ii(l,e,t){let i=lt(),n=h.exports.useRef(i);n.current=i;let r=h.exports.useCallback(()=>n.current?t():e(),[e,t]);return ht.exports.useSyncExternalStore(l,r)}const li=typeof g.useSyncExternalStore=="function"?g.useSyncExternalStore:ii;function ni(l){let[e]=h.exports.useState(()=>new Wt((l==null?void 0:l())||new Ie)),t=h.exports.useCallback(o=>e.subscribe(o),[e]),i=h.exports.useCallback(()=>{let o=e.getCollection();return e.isSSR&&e.resetAfterSSR(),o},[e]),n=h.exports.useCallback(()=>(e.isSSR=!0,e.getCollection()),[e]),r=li(t,i,n);return P(()=>(e.isMounted=!0,()=>{e.isMounted=!1}),[e]),{collection:r,document:e}}const Ne=h.exports.createContext(null);function yt(l,e,t,i,n,r){let o=h.exports.useCallback(u=>{u==null||u.setProps(e,t,i,r)},[e,t,i,r]),s=h.exports.useContext(Ne);if(s){let u=s.ownerDocument.nodesByProps.get(e);return u||(u=s.ownerDocument.createElement(l),u.setProps(e,t,i,r),s.appendChild(u),s.ownerDocument.updateCollection(),s.ownerDocument.nodesByProps.set(e,u)),n?g.createElement(Ne.Provider,{value:u},n):null}return g.createElement(l,{ref:o},n)}function Ai(l,e){let t=({node:n})=>e(n.props,n.props.ref,n),i=h.exports.forwardRef((n,r)=>{let o=h.exports.useContext(Oe);if(!h.exports.useContext(vt)){if(e.length>=3)throw new Error(e.name+" cannot be rendered outside a collection.");return e(n,r)}return yt(l,n,r,"children"in n?n.children:null,null,u=>g.createElement(Oe.Provider,{value:o},g.createElement(t,{node:u})))});return i.displayName=e.name,i}function Li(l,e,t=bt){let i=({node:r})=>e(r.props,r.props.ref,r),n=h.exports.forwardRef((r,o)=>{let s=t(r);var u;return(u=yt(l,r,o,null,s,c=>g.createElement(i,{node:c})))!==null&&u!==void 0?u:g.createElement(g.Fragment,null)});return n.displayName=e.name,n}function bt(l){return ft({...l,addIdAndValue:!0})}const qe=h.exports.createContext(null);function Bi(l){let e=h.exports.useContext(qe),t=((e==null?void 0:e.dependencies)||[]).concat(l.dependencies),i=l.idScope||(e==null?void 0:e.idScope),n=bt({...l,idScope:i,dependencies:t});return h.exports.useContext(oe)&&(n=g.createElement(ri,null,n)),e=h.exports.useMemo(()=>({dependencies:t,idScope:i}),[i,...t]),g.createElement(qe.Provider,{value:e},n)}function ri({children:l}){let e=h.exports.useContext(oe),t=h.exports.useMemo(()=>g.createElement(oe.Provider,{value:null},g.createElement(vt.Provider,{value:!0},l)),[l]);return lt()?g.createElement(Ne.Provider,{value:e},t):ut.exports.createPortal(t,e)}function Te(l){return Tt()?l.altKey:l.ctrlKey}function xe(l,e){var t,i;let n=`[data-key="${CSS.escape(String(e))}"]`,r=(t=l.current)===null||t===void 0?void 0:t.dataset.collection;return r&&(n=`[data-collection="${CSS.escape(r)}"]${n}`),(i=l.current)===null||i===void 0?void 0:i.querySelector(n)}const $t=new WeakMap;function oi(l){let e=Me();return $t.set(l,e),e}function si(l){return $t.get(l)}const ui=1e3;function ai(l){let{keyboardDelegate:e,selectionManager:t,onTypeSelect:i}=l,n=h.exports.useRef({search:"",timeout:void 0}).current,r=o=>{let s=ci(o.key);if(!(!s||o.ctrlKey||o.metaKey||!o.currentTarget.contains(o.target))){if(s===" "&&n.search.trim().length>0&&(o.preventDefault(),"continuePropagation"in o||o.stopPropagation()),n.search+=s,e.getKeyForSearch!=null){let u=e.getKeyForSearch(n.search,t.focusedKey);u==null&&(u=e.getKeyForSearch(n.search)),u!=null&&(t.setFocusedKey(u),i&&i(u))}clearTimeout(n.timeout),n.timeout=setTimeout(()=>{n.search=""},ui)}};return{typeSelectProps:{onKeyDownCapture:e.getKeyForSearch?r:void 0}}}function ci(l){return l.length===1||!/^[A-Z]/i.test(l)?l:""}function di(l){const e=nt(l);if(!(l instanceof e.HTMLElement)&&!(l instanceof e.SVGElement))return!1;let{display:t,visibility:i}=l.style,n=t!=="none"&&i!=="hidden"&&i!=="collapse";if(n){const{getComputedStyle:r}=l.ownerDocument.defaultView;let{display:o,visibility:s}=r(l);n=o!=="none"&&s!=="hidden"&&s!=="collapse"}return n}function fi(l,e){return!l.hasAttribute("hidden")&&!l.hasAttribute("data-react-aria-prevent-focus")&&(l.nodeName==="DETAILS"&&e&&e.nodeName!=="SUMMARY"?l.hasAttribute("open"):!0)}function mt(l,e){return l.nodeName!=="#comment"&&di(l)&&fi(l,e)&&(!l.parentElement||mt(l.parentElement,l))}function gt(l,e){return!l||!e?!1:e.some(t=>t.contains(l))}function hi(l,e,t){let i=e!=null&&e.tabbable?rt:ot,n=(l==null?void 0:l.nodeType)===Node.ELEMENT_NODE?l:null,r=I(n),o=at(r,l||r,NodeFilter.SHOW_ELEMENT,{acceptNode(s){var u;return!(e==null||(u=e.from)===null||u===void 0)&&u.contains(s)?NodeFilter.FILTER_REJECT:i(s)&&mt(s)&&(!t||gt(s,t))&&(!(e!=null&&e.accept)||e.accept(s))?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});return e!=null&&e.from&&(o.currentNode=e.from),o}class Ae{get size(){return this.fastMap.size}getTreeNode(e){return this.fastMap.get(e)}addTreeNode(e,t,i){let n=this.fastMap.get(t!=null?t:null);if(!n)return;let r=new je({scopeRef:e});n.addChild(r),r.parent=n,this.fastMap.set(e,r),i&&(r.nodeToRestore=i)}addNode(e){this.fastMap.set(e.scopeRef,e)}removeTreeNode(e){if(e===null)return;let t=this.fastMap.get(e);if(!t)return;let i=t.parent;for(let r of this.traverse())r!==t&&t.nodeToRestore&&r.nodeToRestore&&t.scopeRef&&t.scopeRef.current&&gt(r.nodeToRestore,t.scopeRef.current)&&(r.nodeToRestore=t.nodeToRestore);let n=t.children;i&&(i.removeChild(t),n.size>0&&n.forEach(r=>i&&i.addChild(r))),this.fastMap.delete(t.scopeRef)}*traverse(e=this.root){if(e.scopeRef!=null&&(yield e),e.children.size>0)for(let t of e.children)yield*this.traverse(t)}clone(){var e;let t=new Ae;var i;for(let n of this.traverse())t.addTreeNode(n.scopeRef,(i=(e=n.parent)===null||e===void 0?void 0:e.scopeRef)!==null&&i!==void 0?i:null,n.nodeToRestore);return t}constructor(){this.fastMap=new Map,this.root=new je({scopeRef:null}),this.fastMap.set(null,this.root)}}class je{addChild(e){this.children.add(e),e.parent=this}removeChild(e){this.children.delete(e),e.parent=void 0}constructor(e){this.children=new Set,this.contain=!1,this.scopeRef=e.scopeRef}}new Ae;function St(l){let e=yi(I(l));e!==l&&(e&&pi(e,l),l&&vi(l,e))}function pi(l,e){l.dispatchEvent(new FocusEvent("blur",{relatedTarget:e})),l.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:e}))}function vi(l,e){l.dispatchEvent(new FocusEvent("focus",{relatedTarget:e})),l.dispatchEvent(new FocusEvent("focusin",{bubbles:!0,relatedTarget:e}))}function yi(l){let e=H(l),t=e==null?void 0:e.getAttribute("aria-activedescendant");return t&&l.getElementById(t)||e}function Vi(l){let{selectionManager:e,keyboardDelegate:t,ref:i,autoFocus:n=!1,shouldFocusWrap:r=!1,disallowEmptySelection:o=!1,disallowSelectAll:s=!1,escapeKeyBehavior:u="clearSelection",selectOnFocus:c=e.selectionBehavior==="replace",disallowTypeAhead:y=!1,shouldUseVirtualFocus:d,allowsTabNavigation:f=!1,isVirtualized:v,scrollRef:b=i,linkBehavior:C="action"}=l,{direction:m}=It(),S=st(),E=p=>{var a;if(p.altKey&&p.key==="Tab"&&p.preventDefault(),!(!((a=i.current)===null||a===void 0)&&a.contains(p.target)))return;const K=($,Y)=>{if($!=null){if(e.isLink($)&&C==="selection"&&c&&!Te(p)){ut.exports.flushSync(()=>{e.setFocusedKey($,Y)});let X=xe(i,$),Be=e.getItemProps($);X&&S.open(X,p,Be.href,Be.routerOptions);return}if(e.setFocusedKey($,Y),e.isLink($)&&C==="override")return;p.shiftKey&&e.selectionMode==="multiple"?e.extendSelection($):c&&!Te(p)&&e.replaceSelection($)}};switch(p.key){case"ArrowDown":if(t.getKeyBelow){var T,A,M;let $=e.focusedKey!=null?(T=t.getKeyBelow)===null||T===void 0?void 0:T.call(t,e.focusedKey):(A=t.getFirstKey)===null||A===void 0?void 0:A.call(t);$==null&&r&&($=(M=t.getFirstKey)===null||M===void 0?void 0:M.call(t,e.focusedKey)),$!=null&&(p.preventDefault(),K($))}break;case"ArrowUp":if(t.getKeyAbove){var z,q,he;let $=e.focusedKey!=null?(z=t.getKeyAbove)===null||z===void 0?void 0:z.call(t,e.focusedKey):(q=t.getLastKey)===null||q===void 0?void 0:q.call(t);$==null&&r&&($=(he=t.getLastKey)===null||he===void 0?void 0:he.call(t,e.focusedKey)),$!=null&&(p.preventDefault(),K($))}break;case"ArrowLeft":if(t.getKeyLeftOf){var pe,ve,ye;let $=e.focusedKey!=null?(pe=t.getKeyLeftOf)===null||pe===void 0?void 0:pe.call(t,e.focusedKey):null;$==null&&r&&($=m==="rtl"?(ve=t.getFirstKey)===null||ve===void 0?void 0:ve.call(t,e.focusedKey):(ye=t.getLastKey)===null||ye===void 0?void 0:ye.call(t,e.focusedKey)),$!=null&&(p.preventDefault(),K($,m==="rtl"?"first":"last"))}break;case"ArrowRight":if(t.getKeyRightOf){var be,$e,me;let $=e.focusedKey!=null?(be=t.getKeyRightOf)===null||be===void 0?void 0:be.call(t,e.focusedKey):null;$==null&&r&&($=m==="rtl"?($e=t.getLastKey)===null||$e===void 0?void 0:$e.call(t,e.focusedKey):(me=t.getFirstKey)===null||me===void 0?void 0:me.call(t,e.focusedKey)),$!=null&&(p.preventDefault(),K($,m==="rtl"?"last":"first"))}break;case"Home":if(t.getFirstKey){if(e.focusedKey===null&&p.shiftKey)return;p.preventDefault();let $=t.getFirstKey(e.focusedKey,_(p));e.setFocusedKey($),$!=null&&(_(p)&&p.shiftKey&&e.selectionMode==="multiple"?e.extendSelection($):c&&e.replaceSelection($))}break;case"End":if(t.getLastKey){if(e.focusedKey===null&&p.shiftKey)return;p.preventDefault();let $=t.getLastKey(e.focusedKey,_(p));e.setFocusedKey($),$!=null&&(_(p)&&p.shiftKey&&e.selectionMode==="multiple"?e.extendSelection($):c&&e.replaceSelection($))}break;case"PageDown":if(t.getKeyPageBelow&&e.focusedKey!=null){let $=t.getKeyPageBelow(e.focusedKey);$!=null&&(p.preventDefault(),K($))}break;case"PageUp":if(t.getKeyPageAbove&&e.focusedKey!=null){let $=t.getKeyPageAbove(e.focusedKey);$!=null&&(p.preventDefault(),K($))}break;case"a":_(p)&&e.selectionMode==="multiple"&&s!==!0&&(p.preventDefault(),e.selectAll());break;case"Escape":u==="clearSelection"&&!o&&e.selectedKeys.size!==0&&(p.stopPropagation(),p.preventDefault(),e.clearSelection());break;case"Tab":if(!f){if(p.shiftKey)i.current.focus();else{let $=hi(i.current,{tabbable:!0}),Y,X;do X=$.lastChild(),X&&(Y=X);while(X);Y&&!Y.contains(document.activeElement)&&Ee(Y)}break}}},x=h.exports.useRef({top:0,left:0});ue(b,"scroll",v?void 0:()=>{var p,a,K,T;x.current={top:(K=(p=b.current)===null||p===void 0?void 0:p.scrollTop)!==null&&K!==void 0?K:0,left:(T=(a=b.current)===null||a===void 0?void 0:a.scrollLeft)!==null&&T!==void 0?T:0}});let N=p=>{if(e.isFocused){p.currentTarget.contains(p.target)||e.setFocused(!1);return}if(!!p.currentTarget.contains(p.target)){if(e.setFocused(!0),e.focusedKey==null){var a,K;let M=q=>{q!=null&&(e.setFocusedKey(q),c&&!e.isSelected(q)&&e.replaceSelection(q))},z=p.relatedTarget;var T,A;z&&p.currentTarget.compareDocumentPosition(z)&Node.DOCUMENT_POSITION_FOLLOWING?M((T=e.lastSelectedKey)!==null&&T!==void 0?T:(a=t.getLastKey)===null||a===void 0?void 0:a.call(t)):M((A=e.firstSelectedKey)!==null&&A!==void 0?A:(K=t.getFirstKey)===null||K===void 0?void 0:K.call(t))}else!v&&b.current&&(b.current.scrollTop=x.current.top,b.current.scrollLeft=x.current.left);if(e.focusedKey!=null&&b.current){let M=xe(i,e.focusedKey);M instanceof HTMLElement&&(!M.contains(document.activeElement)&&!d&&Ee(M),ke()==="keyboard"&&We(M,{containingElement:i.current}))}}},R=p=>{p.currentTarget.contains(p.relatedTarget)||e.setFocused(!1)},B=h.exports.useRef(!1);ue(i,Ht,d?p=>{let{detail:a}=p;p.stopPropagation(),e.setFocused(!0),(a==null?void 0:a.focusStrategy)==="first"&&(B.current=!0)}:void 0);let O=Ce(()=>{var p,a;let K=(a=(p=t.getFirstKey)===null||p===void 0?void 0:p.call(t))!==null&&a!==void 0?a:null;K==null?(St(i.current),e.collection.size>0&&(B.current=!1)):(e.setFocusedKey(K),B.current=!1)});ze(()=>{B.current&&O()},[e.collection,O]);let F=Ce(()=>{e.collection.size>0&&(B.current=!1)});ze(()=>{F()},[e.focusedKey,F]),ue(i,zt,d?p=>{var a;p.stopPropagation(),e.setFocused(!1),!((a=p.detail)===null||a===void 0)&&a.clearFocusKey&&e.setFocusedKey(null)}:void 0);const ie=h.exports.useRef(n),W=h.exports.useRef(!1);h.exports.useEffect(()=>{if(ie.current){var p,a;let A=null;var K;n==="first"&&(A=(K=(p=t.getFirstKey)===null||p===void 0?void 0:p.call(t))!==null&&K!==void 0?K:null);var T;n==="last"&&(A=(T=(a=t.getLastKey)===null||a===void 0?void 0:a.call(t))!==null&&T!==void 0?T:null);let M=e.selectedKeys;if(M.size){for(let z of M)if(e.canSelectItem(z)){A=z;break}}e.setFocused(!0),e.setFocusedKey(A),A==null&&!d&&i.current&&ae(i.current),e.collection.size>0&&(ie.current=!1,W.current=!0)}});let D=h.exports.useRef(e.focusedKey),G=h.exports.useRef(null);h.exports.useEffect(()=>{if(e.isFocused&&e.focusedKey!=null&&(e.focusedKey!==D.current||W.current)&&b.current&&i.current){let p=ke(),a=xe(i,e.focusedKey);if(!(a instanceof HTMLElement))return;(p==="keyboard"||W.current)&&(G.current&&cancelAnimationFrame(G.current),G.current=requestAnimationFrame(()=>{b.current&&ct(b.current,a)}),p!=="virtual"&&We(a,{containingElement:i.current}))}!d&&e.isFocused&&e.focusedKey==null&&D.current!=null&&i.current&&ae(i.current),D.current=e.focusedKey,W.current=!1}),h.exports.useEffect(()=>()=>{G.current&&cancelAnimationFrame(G.current)},[]),ue(i,"react-aria-focus-scope-restore",p=>{p.preventDefault(),e.setFocused(!0)});let le={onKeyDown:E,onFocus:N,onBlur:R,onMouseDown(p){b.current===p.target&&p.preventDefault()}},{typeSelectProps:de}=ai({keyboardDelegate:t,selectionManager:e});y||(le=re(de,le));let se;d||(se=e.focusedKey==null?0:-1);let fe=oi(e.collection);return{collectionProps:re(le,{tabIndex:se,"data-collection":fe})}}function Oi(l){let{id:e,selectionManager:t,key:i,ref:n,shouldSelectOnPressUp:r,shouldUseVirtualFocus:o,focus:s,isDisabled:u,onAction:c,allowsDifferentPressOrigin:y,linkBehavior:d="action"}=l,f=st();e=Me(e);let v=a=>{if(a.pointerType==="keyboard"&&Te(a))t.toggleSelection(i);else{if(t.selectionMode==="none")return;if(t.isLink(i)){if(d==="selection"&&n.current){let K=t.getItemProps(i);f.open(n.current,a,K.href,K.routerOptions),t.setSelectedKeys(t.selectedKeys);return}else if(d==="override"||d==="none")return}t.selectionMode==="single"?t.isSelected(i)&&!t.disallowEmptySelection?t.toggleSelection(i):t.replaceSelection(i):a&&a.shiftKey?t.extendSelection(i):t.selectionBehavior==="toggle"||a&&(_(a)||a.pointerType==="touch"||a.pointerType==="virtual")?t.toggleSelection(i):t.replaceSelection(i)}};h.exports.useEffect(()=>{i===t.focusedKey&&t.isFocused&&(o?St(n.current):s?s():document.activeElement!==n.current&&n.current&&ae(n.current))},[n,i,t.focusedKey,t.childFocusStrategy,t.isFocused,o]),u=u||t.isDisabled(i);let b={};!o&&!u?b={tabIndex:i===t.focusedKey?0:-1,onFocus(a){a.target===n.current&&t.setFocusedKey(i)}}:u&&(b.onMouseDown=a=>{a.preventDefault()});let C=t.isLink(i)&&d==="override",m=t.isLink(i)&&d!=="selection"&&d!=="none",S=!u&&t.canSelectItem(i)&&!C,E=(c||m)&&!u,x=E&&(t.selectionBehavior==="replace"?!S:!S||t.isEmpty),N=E&&S&&t.selectionBehavior==="replace",R=x||N,B=h.exports.useRef(null),O=R&&S,F=h.exports.useRef(!1),ie=h.exports.useRef(!1),W=a=>{if(c&&c(),m&&n.current){let K=t.getItemProps(i);f.open(n.current,a,K.href,K.routerOptions)}},D={ref:n};r?(D.onPressStart=a=>{B.current=a.pointerType,F.current=O,a.pointerType==="keyboard"&&(!R||Ye())&&v(a)},y?(D.onPressUp=x?void 0:a=>{a.pointerType==="mouse"&&S&&v(a)},D.onPress=x?W:a=>{a.pointerType!=="keyboard"&&a.pointerType!=="mouse"&&S&&v(a)}):D.onPress=a=>{if(x||N&&a.pointerType!=="mouse"){if(a.pointerType==="keyboard"&&!Ge())return;W(a)}else a.pointerType!=="keyboard"&&S&&v(a)}):(D.onPressStart=a=>{B.current=a.pointerType,F.current=O,ie.current=x,S&&(a.pointerType==="mouse"&&!x||a.pointerType==="keyboard"&&(!E||Ye()))&&v(a)},D.onPress=a=>{(a.pointerType==="touch"||a.pointerType==="pen"||a.pointerType==="virtual"||a.pointerType==="keyboard"&&R&&Ge()||a.pointerType==="mouse"&&ie.current)&&(R?W(a):S&&v(a))}),b["data-collection"]=si(t.collection),b["data-key"]=i,D.preventFocusOnPress=o,o&&(D=re(D,{onPressStart(a){a.pointerType!=="touch"&&(t.setFocused(!0),t.setFocusedKey(i))},onPress(a){a.pointerType==="touch"&&(t.setFocused(!0),t.setFocusedKey(i))}}));let{pressProps:G,isPressed:le}=it(D),de=N?a=>{B.current==="mouse"&&(a.stopPropagation(),a.preventDefault(),W(a))}:void 0,{longPressProps:se}=qt({isDisabled:!O,onLongPress(a){a.pointerType==="touch"&&(v(a),t.setSelectionBehavior("toggle"))}}),fe=a=>{B.current==="touch"&&F.current&&a.preventDefault()},p=t.isLink(i)?a=>{Rt.isOpening||a.preventDefault()}:void 0;return{itemProps:re(b,S||x||o?G:{},O?se:{},{onDoubleClick:de,onDragStartCapture:fe,onClick:p,id:e},o?{onMouseDown:a=>a.preventDefault()}:void 0),isPressed:le,isSelected:t.isSelected(i),isFocused:t.isFocused&&t.focusedKey===i,isDisabled:u,allowsSelection:S,hasAction:R}}function Ge(){let l=window.event;return(l==null?void 0:l.key)==="Enter"}function Ye(){let l=window.event;return(l==null?void 0:l.key)===" "||(l==null?void 0:l.code)==="Space"}class bi{build(e,t){return this.context=t,Xe(()=>this.iterateCollection(e))}*iterateCollection(e){let{children:t,items:i}=e;if(g.isValidElement(t)&&t.type===g.Fragment)yield*this.iterateCollection({children:t.props.children,items:i});else if(typeof t=="function"){if(!i)throw new Error("props.children was a function but props.items is missing");let n=0;for(let r of i)yield*this.getFullNode({value:r,index:n},{renderer:t}),n++}else{let n=[];g.Children.forEach(t,o=>{o&&n.push(o)});let r=0;for(let o of n){let s=this.getFullNode({element:o,index:r},{});for(let u of s)r++,yield u}}}getKey(e,t,i,n){if(e.key!=null)return e.key;if(t.type==="cell"&&t.key!=null)return`${n}${t.key}`;let r=t.value;if(r!=null){var o;let s=(o=r.key)!==null&&o!==void 0?o:r.id;if(s==null)throw new Error("No key found for item");return s}return n?`${n}.${t.index}`:`$.${t.index}`}getChildState(e,t){return{renderer:t.renderer||e.renderer}}*getFullNode(e,t,i,n){if(g.isValidElement(e.element)&&e.element.type===g.Fragment){let m=[];g.Children.forEach(e.element.props.children,E=>{m.push(E)});var r;let S=(r=e.index)!==null&&r!==void 0?r:0;for(const E of m)yield*this.getFullNode({element:E,index:S++},t,i,n);return}let o=e.element;if(!o&&e.value&&t&&t.renderer){let m=this.cache.get(e.value);if(m&&(!m.shouldInvalidate||!m.shouldInvalidate(this.context))){m.index=e.index,m.parentKey=n?n.key:null,yield m;return}o=t.renderer(e.value)}if(g.isValidElement(o)){let m=o.type;if(typeof m!="function"&&typeof m.getCollectionNode!="function"){let N=o.type;throw new Error(`Unknown element <${N}> in collection.`)}let S=m.getCollectionNode(o.props,this.context);var s;let E=(s=e.index)!==null&&s!==void 0?s:0,x=S.next();for(;!x.done&&x.value;){let N=x.value;e.index=E;var u;let R=(u=N.key)!==null&&u!==void 0?u:null;R==null&&(R=N.element?null:this.getKey(o,e,t,i));let O=[...this.getFullNode({...N,key:R,index:E,wrapper:$i(e.wrapper,N.wrapper)},this.getChildState(t,N),i?`${i}${o.key}`:o.key,n)];for(let F of O){var c,y;F.value=(y=(c=N.value)!==null&&c!==void 0?c:e.value)!==null&&y!==void 0?y:null,F.value&&this.cache.set(F.value,F);var d;if(e.type&&F.type!==e.type)throw new Error(`Unsupported type <${Ke(F.type)}> in <${Ke((d=n==null?void 0:n.type)!==null&&d!==void 0?d:"unknown parent type")}>. Only <${Ke(e.type)}> is supported.`);E++,yield F}x=S.next(O)}return}if(e.key==null||e.type==null)return;let f=this;var v,b;let C={type:e.type,props:e.props,key:e.key,parentKey:n?n.key:null,value:(v=e.value)!==null&&v!==void 0?v:null,level:n?n.level+1:0,index:e.index,rendered:e.rendered,textValue:(b=e.textValue)!==null&&b!==void 0?b:"","aria-label":e["aria-label"],wrapper:e.wrapper,shouldInvalidate:e.shouldInvalidate,hasChildNodes:e.hasChildNodes||!1,childNodes:Xe(function*(){if(!e.hasChildNodes||!e.childNodes)return;let m=0;for(let S of e.childNodes()){S.key!=null&&(S.key=`${C.key}${S.key}`);let E=f.getFullNode({...S,index:m},f.getChildState(t,S),C.key,C);for(let x of E)m++,yield x}})};yield C}constructor(){this.cache=new WeakMap}}function Xe(l){let e=[],t=null;return{*[Symbol.iterator](){for(let i of e)yield i;t||(t=l());for(let i of t)e.push(i),yield i}}}function $i(l,e){if(l&&e)return t=>l(e(t));if(l)return l;if(e)return e}function Ke(l){return l[0].toUpperCase()+l.slice(1)}function zi(l,e,t){let i=h.exports.useMemo(()=>new bi,[]),{children:n,items:r,collection:o}=l;return h.exports.useMemo(()=>{if(o)return o;let u=i.build({children:n,items:r},t);return e(u)},[i,n,r,o,t,e])}function mi(l,e){return typeof e.getChildren=="function"?e.getChildren(l.key):l.childNodes}function gi(l){return Si(l,0)}function Si(l,e){if(e<0)return;let t=0;for(let i of l){if(t===e)return i;t++}}function Hi(l){let e;for(let t of l)e=t;return e}function we(l,e,t){if(e.parentKey===t.parentKey)return e.index-t.index;let i=[...Je(l,e),e],n=[...Je(l,t),t],r=i.slice(0,n.length).findIndex((o,s)=>o!==n[s]);return r!==-1?(e=i[r],t=n[r],e.index-t.index):i.findIndex(o=>o===t)>=0?1:(n.findIndex(o=>o===e)>=0,-1)}function Je(l,e){let t=[],i=e;for(;(i==null?void 0:i.parentKey)!=null;)i=l.getItem(i.parentKey),i&&t.unshift(i);return t}function xi(l){const e=nt(l);if(!(l instanceof e.HTMLElement)&&!(l instanceof e.SVGElement))return!1;let{display:t,visibility:i}=l.style,n=t!=="none"&&i!=="hidden"&&i!=="collapse";if(n){const{getComputedStyle:r}=l.ownerDocument.defaultView;let{display:o,visibility:s}=r(l);n=o!=="none"&&s!=="hidden"&&s!=="collapse"}return n}function Ki(l,e){return!l.hasAttribute("hidden")&&!l.hasAttribute("data-react-aria-prevent-focus")&&(l.nodeName==="DETAILS"&&e&&e.nodeName!=="SUMMARY"?l.hasAttribute("open"):!0)}function xt(l,e){return l.nodeName!=="#comment"&&xi(l)&&Ki(l,e)&&(!l.parentElement||xt(l.parentElement,l))}const Ze=g.createContext(null),Re="react-aria-focus-scope-restore";let w=null;function Wi(l){let{children:e,contain:t,restoreFocus:i,autoFocus:n}=l,r=h.exports.useRef(null),o=h.exports.useRef(null),s=h.exports.useRef([]),{parentNode:u}=h.exports.useContext(Ze)||{},c=h.exports.useMemo(()=>new De({scopeRef:s}),[s]);P(()=>{let f=u||k.root;if(k.getTreeNode(f.scopeRef)&&w&&!ce(w,f.scopeRef)){let v=k.getTreeNode(w);v&&(f=v)}f.addChild(c),k.addNode(c)},[c,u]),P(()=>{let f=k.getTreeNode(s);f&&(f.contain=!!t)},[t]),P(()=>{var f;let v=(f=r.current)===null||f===void 0?void 0:f.nextSibling,b=[],C=m=>m.stopPropagation();for(;v&&v!==o.current;)b.push(v),v.addEventListener(Re,C),v=v.nextSibling;return s.current=b,()=>{for(let m of b)m.removeEventListener(Re,C)}},[e]),ki(s,i,t),Ci(s,t),Ni(s,i,t),Ei(s,n),h.exports.useEffect(()=>{const f=H(I(s.current?s.current[0]:void 0));let v=null;if(L(f,s.current)){for(let b of k.traverse())b.scopeRef&&L(f,b.scopeRef.current)&&(v=b);v===k.getTreeNode(s)&&(w=v.scopeRef)}},[s]),P(()=>()=>{var f,v,b;let C=(b=(v=k.getTreeNode(s))===null||v===void 0||(f=v.parent)===null||f===void 0?void 0:f.scopeRef)!==null&&b!==void 0?b:null;(s===w||ce(s,w))&&(!C||k.getTreeNode(C))&&(w=C),k.removeTreeNode(s)},[s]);let y=h.exports.useMemo(()=>wi(s),[]),d=h.exports.useMemo(()=>({focusManager:y,parentNode:c}),[c,y]);return g.createElement(Ze.Provider,{value:d},g.createElement("span",{"data-focus-scope-start":!0,hidden:!0,ref:r}),e,g.createElement("span",{"data-focus-scope-end":!0,hidden:!0,ref:o}))}function wi(l){return{focusNext(e={}){let t=l.current,{from:i,tabbable:n,wrap:r,accept:o}=e;var s;let u=i||H(I((s=t[0])!==null&&s!==void 0?s:void 0)),c=t[0].previousElementSibling,y=J(t),d=j(y,{tabbable:n,accept:o},t);d.currentNode=L(u,t)?u:c;let f=d.nextNode();return!f&&r&&(d.currentNode=c,f=d.nextNode()),f&&U(f,!0),f},focusPrevious(e={}){let t=l.current,{from:i,tabbable:n,wrap:r,accept:o}=e;var s;let u=i||H(I((s=t[0])!==null&&s!==void 0?s:void 0)),c=t[t.length-1].nextElementSibling,y=J(t),d=j(y,{tabbable:n,accept:o},t);d.currentNode=L(u,t)?u:c;let f=d.previousNode();return!f&&r&&(d.currentNode=c,f=d.previousNode()),f&&U(f,!0),f},focusFirst(e={}){let t=l.current,{tabbable:i,accept:n}=e,r=J(t),o=j(r,{tabbable:i,accept:n},t);o.currentNode=t[0].previousElementSibling;let s=o.nextNode();return s&&U(s,!0),s},focusLast(e={}){let t=l.current,{tabbable:i,accept:n}=e,r=J(t),o=j(r,{tabbable:i,accept:n},t);o.currentNode=t[t.length-1].nextElementSibling;let s=o.previousNode();return s&&U(s,!0),s}}}function J(l){return l[0].parentElement}function ne(l){let e=k.getTreeNode(w);for(;e&&e.scopeRef!==l;){if(e.contain)return!1;e=e.parent}return!0}function Ci(l,e){let t=h.exports.useRef(void 0),i=h.exports.useRef(void 0);P(()=>{let n=l.current;if(!e){i.current&&(cancelAnimationFrame(i.current),i.current=void 0);return}const r=I(n?n[0]:void 0);let o=c=>{if(c.key!=="Tab"||c.altKey||c.ctrlKey||c.metaKey||!ne(l)||c.isComposing)return;let y=H(r),d=l.current;if(!d||!L(y,d))return;let f=J(d),v=j(f,{tabbable:!0},d);if(!y)return;v.currentNode=y;let b=c.shiftKey?v.previousNode():v.nextNode();b||(v.currentNode=c.shiftKey?d[d.length-1].nextElementSibling:d[0].previousElementSibling,b=c.shiftKey?v.previousNode():v.nextNode()),c.preventDefault(),b&&U(b,!0)},s=c=>{(!w||ce(w,l))&&L(Q(c),l.current)?(w=l,t.current=Q(c)):ne(l)&&!Z(Q(c),l)?t.current?t.current.focus():w&&w.current&&Fe(w.current):ne(l)&&(t.current=Q(c))},u=c=>{i.current&&cancelAnimationFrame(i.current),i.current=requestAnimationFrame(()=>{let y=ke(),d=(y==="virtual"||y===null)&&Ft()&&Dt(),f=H(r);if(!d&&f&&ne(l)&&!Z(f,l)){w=l;let b=Q(c);if(b&&b.isConnected){var v;t.current=b,(v=t.current)===null||v===void 0||v.focus()}else w.current&&Fe(w.current)}})};return r.addEventListener("keydown",o,!1),r.addEventListener("focusin",s,!1),n==null||n.forEach(c=>c.addEventListener("focusin",s,!1)),n==null||n.forEach(c=>c.addEventListener("focusout",u,!1)),()=>{r.removeEventListener("keydown",o,!1),r.removeEventListener("focusin",s,!1),n==null||n.forEach(c=>c.removeEventListener("focusin",s,!1)),n==null||n.forEach(c=>c.removeEventListener("focusout",u,!1))}},[l,e]),P(()=>()=>{i.current&&cancelAnimationFrame(i.current)},[i])}function Kt(l){return Z(l)}function L(l,e){return!l||!e?!1:e.some(t=>t.contains(l))}function Z(l,e=null){if(l instanceof Element&&l.closest("[data-react-aria-top-layer]"))return!0;for(let{scopeRef:t}of k.traverse(k.getTreeNode(e)))if(t&&L(l,t.current))return!0;return!1}function ce(l,e){var t;let i=(t=k.getTreeNode(e))===null||t===void 0?void 0:t.parent;for(;i;){if(i.scopeRef===l)return!0;i=i.parent}return!1}function U(l,e=!1){if(l!=null&&!e)try{ae(l)}catch{}else if(l!=null)try{l.focus()}catch{}}function wt(l,e=!0){let t=l[0].previousElementSibling,i=J(l),n=j(i,{tabbable:e},l);n.currentNode=t;let r=n.nextNode();return e&&!r&&(i=J(l),n=j(i,{tabbable:!1},l),n.currentNode=t,r=n.nextNode()),r}function Fe(l,e=!0){U(wt(l,e))}function Ei(l,e){const t=g.useRef(e);h.exports.useEffect(()=>{if(t.current){w=l;const i=I(l.current?l.current[0]:void 0);!L(H(i),w.current)&&l.current&&Fe(l.current)}t.current=!1},[l])}function ki(l,e,t){P(()=>{if(e||t)return;let i=l.current;const n=I(i?i[0]:void 0);let r=o=>{let s=Q(o);L(s,l.current)?w=l:Kt(s)||(w=null)};return n.addEventListener("focusin",r,!1),i==null||i.forEach(o=>o.addEventListener("focusin",r,!1)),()=>{n.removeEventListener("focusin",r,!1),i==null||i.forEach(o=>o.removeEventListener("focusin",r,!1))}},[l,e,t])}function Qe(l){let e=k.getTreeNode(w);for(;e&&e.scopeRef!==l;){if(e.nodeToRestore)return!1;e=e.parent}return(e==null?void 0:e.scopeRef)===l}function Ni(l,e,t){const i=h.exports.useRef(typeof document<"u"?H(I(l.current?l.current[0]:void 0)):null);P(()=>{let n=l.current;const r=I(n?n[0]:void 0);if(!e||t)return;let o=()=>{(!w||ce(w,l))&&L(H(r),l.current)&&(w=l)};return r.addEventListener("focusin",o,!1),n==null||n.forEach(s=>s.addEventListener("focusin",o,!1)),()=>{r.removeEventListener("focusin",o,!1),n==null||n.forEach(s=>s.removeEventListener("focusin",o,!1))}},[l,t]),P(()=>{const n=I(l.current?l.current[0]:void 0);if(!e)return;let r=o=>{if(o.key!=="Tab"||o.altKey||o.ctrlKey||o.metaKey||!ne(l)||o.isComposing)return;let s=n.activeElement;if(!Z(s,l)||!Qe(l))return;let u=k.getTreeNode(l);if(!u)return;let c=u.nodeToRestore,y=j(n.body,{tabbable:!0});y.currentNode=s;let d=o.shiftKey?y.previousNode():y.nextNode();if((!c||!c.isConnected||c===n.body)&&(c=void 0,u.nodeToRestore=void 0),(!d||!Z(d,l))&&c){y.currentNode=c;do d=o.shiftKey?y.previousNode():y.nextNode();while(Z(d,l));o.preventDefault(),o.stopPropagation(),d?U(d,!0):Kt(c)?U(c,!0):s.blur()}};return t||n.addEventListener("keydown",r,!0),()=>{t||n.removeEventListener("keydown",r,!0)}},[l,e,t]),P(()=>{const n=I(l.current?l.current[0]:void 0);if(!e)return;let r=k.getTreeNode(l);if(!!r){var o;return r.nodeToRestore=(o=i.current)!==null&&o!==void 0?o:void 0,()=>{let s=k.getTreeNode(l);if(!s)return;let u=s.nodeToRestore,c=H(n);if(e&&u&&(c&&Z(c,l)||c===n.body&&Qe(l))){let y=k.clone();requestAnimationFrame(()=>{if(n.activeElement===n.body){let d=y.getTreeNode(l);for(;d;){if(d.nodeToRestore&&d.nodeToRestore.isConnected){_e(d.nodeToRestore);return}d=d.parent}for(d=y.getTreeNode(l);d;){if(d.scopeRef&&d.scopeRef.current&&k.getTreeNode(d.scopeRef)){let f=wt(d.scopeRef.current,!0);_e(f);return}d=d.parent}}})}}}},[l,e])}function _e(l){l.dispatchEvent(new CustomEvent(Re,{bubbles:!0,cancelable:!0}))&&U(l)}function j(l,e,t){let i=e!=null&&e.tabbable?rt:ot,n=(l==null?void 0:l.nodeType)===Node.ELEMENT_NODE?l:null,r=I(n),o=at(r,l||r,NodeFilter.SHOW_ELEMENT,{acceptNode(s){var u;return!(e==null||(u=e.from)===null||u===void 0)&&u.contains(s)?NodeFilter.FILTER_REJECT:i(s)&&xt(s)&&(!t||L(s,t))&&(!(e!=null&&e.accept)||e.accept(s))?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});return e!=null&&e.from&&(o.currentNode=e.from),o}class Le{get size(){return this.fastMap.size}getTreeNode(e){return this.fastMap.get(e)}addTreeNode(e,t,i){let n=this.fastMap.get(t!=null?t:null);if(!n)return;let r=new De({scopeRef:e});n.addChild(r),r.parent=n,this.fastMap.set(e,r),i&&(r.nodeToRestore=i)}addNode(e){this.fastMap.set(e.scopeRef,e)}removeTreeNode(e){if(e===null)return;let t=this.fastMap.get(e);if(!t)return;let i=t.parent;for(let r of this.traverse())r!==t&&t.nodeToRestore&&r.nodeToRestore&&t.scopeRef&&t.scopeRef.current&&L(r.nodeToRestore,t.scopeRef.current)&&(r.nodeToRestore=t.nodeToRestore);let n=t.children;i&&(i.removeChild(t),n.size>0&&n.forEach(r=>i&&i.addChild(r))),this.fastMap.delete(t.scopeRef)}*traverse(e=this.root){if(e.scopeRef!=null&&(yield e),e.children.size>0)for(let t of e.children)yield*this.traverse(t)}clone(){var e;let t=new Le;var i;for(let n of this.traverse())t.addTreeNode(n.scopeRef,(i=(e=n.parent)===null||e===void 0?void 0:e.scopeRef)!==null&&i!==void 0?i:null,n.nodeToRestore);return t}constructor(){this.fastMap=new Map,this.root=new De({scopeRef:null}),this.fastMap.set(null,this.root)}}class De{addChild(e){this.children.add(e),e.parent=this}removeChild(e){this.children.delete(e),e.parent=void 0}constructor(e){this.children=new Set,this.contain=!1,this.scopeRef=e.scopeRef}}let k=new Le;class V extends Set{constructor(e,t,i){super(e),e instanceof V?(this.anchorKey=t!=null?t:e.anchorKey,this.currentKey=i!=null?i:e.currentKey):(this.anchorKey=t!=null?t:null,this.currentKey=i!=null?i:null)}}function Ti(l,e){if(l.size!==e.size)return!1;for(let t of l)if(!e.has(t))return!1;return!0}function Ui(l){let{selectionMode:e="none",disallowEmptySelection:t=!1,allowDuplicateSelectionEvents:i,selectionBehavior:n="toggle",disabledBehavior:r="all"}=l,o=h.exports.useRef(!1),[,s]=h.exports.useState(!1),u=h.exports.useRef(null),c=h.exports.useRef(null),[,y]=h.exports.useState(null),d=h.exports.useMemo(()=>et(l.selectedKeys),[l.selectedKeys]),f=h.exports.useMemo(()=>et(l.defaultSelectedKeys,new V),[l.defaultSelectedKeys]),[v,b]=Mt(d,f,l.onSelectionChange),C=h.exports.useMemo(()=>l.disabledKeys?new Set(l.disabledKeys):new Set,[l.disabledKeys]),[m,S]=h.exports.useState(n);n==="replace"&&m==="toggle"&&typeof v=="object"&&v.size===0&&S("replace");let E=h.exports.useRef(n);return h.exports.useEffect(()=>{n!==E.current&&(S(n),E.current=n)},[n]),{selectionMode:e,disallowEmptySelection:t,selectionBehavior:m,setSelectionBehavior:S,get isFocused(){return o.current},setFocused(x){o.current=x,s(x)},get focusedKey(){return u.current},get childFocusStrategy(){return c.current},setFocusedKey(x,N="first"){u.current=x,c.current=N,y(x)},selectedKeys:v,setSelectedKeys(x){(i||!Ti(x,v))&&b(x)},disabledKeys:C,disabledBehavior:r}}function et(l,e){return l?l==="all"?"all":new V(l):e}class Ct{get selectionMode(){return this.state.selectionMode}get disallowEmptySelection(){return this.state.disallowEmptySelection}get selectionBehavior(){return this.state.selectionBehavior}setSelectionBehavior(e){this.state.setSelectionBehavior(e)}get isFocused(){return this.state.isFocused}setFocused(e){this.state.setFocused(e)}get focusedKey(){return this.state.focusedKey}get childFocusStrategy(){return this.state.childFocusStrategy}setFocusedKey(e,t){(e==null||this.collection.getItem(e))&&this.state.setFocusedKey(e,t)}get selectedKeys(){return this.state.selectedKeys==="all"?new Set(this.getSelectAllKeys()):this.state.selectedKeys}get rawSelection(){return this.state.selectedKeys}isSelected(e){if(this.state.selectionMode==="none")return!1;let t=this.getKey(e);return t==null?!1:this.state.selectedKeys==="all"?this.canSelectItem(t):this.state.selectedKeys.has(t)}get isEmpty(){return this.state.selectedKeys!=="all"&&this.state.selectedKeys.size===0}get isSelectAll(){if(this.isEmpty)return!1;if(this.state.selectedKeys==="all")return!0;if(this._isSelectAll!=null)return this._isSelectAll;let e=this.getSelectAllKeys(),t=this.state.selectedKeys;return this._isSelectAll=e.every(i=>t.has(i)),this._isSelectAll}get firstSelectedKey(){let e=null;for(let i of this.state.selectedKeys){let n=this.collection.getItem(i);(!e||n&&we(this.collection,n,e)<0)&&(e=n)}var t;return(t=e==null?void 0:e.key)!==null&&t!==void 0?t:null}get lastSelectedKey(){let e=null;for(let i of this.state.selectedKeys){let n=this.collection.getItem(i);(!e||n&&we(this.collection,n,e)>0)&&(e=n)}var t;return(t=e==null?void 0:e.key)!==null&&t!==void 0?t:null}get disabledKeys(){return this.state.disabledKeys}get disabledBehavior(){return this.state.disabledBehavior}extendSelection(e){if(this.selectionMode==="none")return;if(this.selectionMode==="single"){this.replaceSelection(e);return}let t=this.getKey(e);if(t==null)return;let i;if(this.state.selectedKeys==="all")i=new V([t],t,t);else{let o=this.state.selectedKeys;var n;let s=(n=o.anchorKey)!==null&&n!==void 0?n:t;i=new V(o,s,t);var r;for(let u of this.getKeyRange(s,(r=o.currentKey)!==null&&r!==void 0?r:t))i.delete(u);for(let u of this.getKeyRange(t,s))this.canSelectItem(u)&&i.add(u)}this.state.setSelectedKeys(i)}getKeyRange(e,t){let i=this.collection.getItem(e),n=this.collection.getItem(t);return i&&n?we(this.collection,i,n)<=0?this.getKeyRangeInternal(e,t):this.getKeyRangeInternal(t,e):[]}getKeyRangeInternal(e,t){var i;if(!((i=this.layoutDelegate)===null||i===void 0)&&i.getKeyRange)return this.layoutDelegate.getKeyRange(e,t);let n=[],r=e;for(;r!=null;){let o=this.collection.getItem(r);if(o&&(o.type==="item"||o.type==="cell"&&this.allowsCellSelection)&&n.push(r),r===t)return n;r=this.collection.getKeyAfter(r)}return[]}getKey(e){let t=this.collection.getItem(e);if(!t||t.type==="cell"&&this.allowsCellSelection)return e;for(;t&&t.type!=="item"&&t.parentKey!=null;)t=this.collection.getItem(t.parentKey);return!t||t.type!=="item"?null:t.key}toggleSelection(e){if(this.selectionMode==="none")return;if(this.selectionMode==="single"&&!this.isSelected(e)){this.replaceSelection(e);return}let t=this.getKey(e);if(t==null)return;let i=new V(this.state.selectedKeys==="all"?this.getSelectAllKeys():this.state.selectedKeys);i.has(t)?i.delete(t):this.canSelectItem(t)&&(i.add(t),i.anchorKey=t,i.currentKey=t),!(this.disallowEmptySelection&&i.size===0)&&this.state.setSelectedKeys(i)}replaceSelection(e){if(this.selectionMode==="none")return;let t=this.getKey(e);if(t==null)return;let i=this.canSelectItem(t)?new V([t],t,t):new V;this.state.setSelectedKeys(i)}setSelectedKeys(e){if(this.selectionMode==="none")return;let t=new V;for(let i of e){let n=this.getKey(i);if(n!=null&&(t.add(n),this.selectionMode==="single"))break}this.state.setSelectedKeys(t)}getSelectAllKeys(){let e=[],t=i=>{for(;i!=null;){if(this.canSelectItem(i)){var n;let o=this.collection.getItem(i);(o==null?void 0:o.type)==="item"&&e.push(i);var r;(o==null?void 0:o.hasChildNodes)&&(this.allowsCellSelection||o.type!=="item")&&t((r=(n=gi(mi(o,this.collection)))===null||n===void 0?void 0:n.key)!==null&&r!==void 0?r:null)}i=this.collection.getKeyAfter(i)}};return t(this.collection.getFirstKey()),e}selectAll(){!this.isSelectAll&&this.selectionMode==="multiple"&&this.state.setSelectedKeys("all")}clearSelection(){!this.disallowEmptySelection&&(this.state.selectedKeys==="all"||this.state.selectedKeys.size>0)&&this.state.setSelectedKeys(new V)}toggleSelectAll(){this.isSelectAll?this.clearSelection():this.selectAll()}select(e,t){this.selectionMode!=="none"&&(this.selectionMode==="single"?this.isSelected(e)&&!this.disallowEmptySelection?this.toggleSelection(e):this.replaceSelection(e):this.selectionBehavior==="toggle"||t&&(t.pointerType==="touch"||t.pointerType==="virtual")?this.toggleSelection(e):this.replaceSelection(e))}isSelectionEqual(e){if(e===this.state.selectedKeys)return!0;let t=this.selectedKeys;if(e.size!==t.size)return!1;for(let i of e)if(!t.has(i))return!1;for(let i of t)if(!e.has(i))return!1;return!0}canSelectItem(e){var t;if(this.state.selectionMode==="none"||this.state.disabledKeys.has(e))return!1;let i=this.collection.getItem(e);return!(!i||(i==null||(t=i.props)===null||t===void 0?void 0:t.isDisabled)||i.type==="cell"&&!this.allowsCellSelection)}isDisabled(e){var t,i;return this.state.disabledBehavior==="all"&&(this.state.disabledKeys.has(e)||!!(!((i=this.collection.getItem(e))===null||i===void 0||(t=i.props)===null||t===void 0)&&t.isDisabled))}isLink(e){var t,i;return!!(!((i=this.collection.getItem(e))===null||i===void 0||(t=i.props)===null||t===void 0)&&t.href)}getItemProps(e){var t;return(t=this.collection.getItem(e))===null||t===void 0?void 0:t.props}withCollection(e){return new Ct(e,this.state,{allowsCellSelection:this.allowsCellSelection,layoutDelegate:this.layoutDelegate||void 0})}constructor(e,t,i){this.collection=e,this.state=t;var n;this.allowsCellSelection=(n=i==null?void 0:i.allowsCellSelection)!==null&&n!==void 0?n:!1,this._isSelectAll=null,this.layoutDelegate=(i==null?void 0:i.layoutDelegate)||null}}const qi=h.exports.createContext(null),Ri={CollectionRoot({collection:l,renderDropIndicator:e}){return tt(l,null,e)},CollectionBranch({collection:l,parent:e,renderDropIndicator:t}){return tt(l,e,t)}};function tt(l,e,t){return ft({items:e?l.getChildren(e.key):l,dependencies:[t],children(i){var n;let r=i.render(i);if(!t||i.type!=="item")return r;let o=i.key,s=l.getKeyAfter(o);return g.createElement(g.Fragment,null,t({type:"item",key:o,dropPosition:"before"}),r,(s==null||((n=l.getItem(s))===null||n===void 0?void 0:n.type)!=="item")&&t({type:"item",key:o,dropPosition:"after"}))}})}const ji=h.exports.createContext(Ri);function Gi(l){return h.exports.useMemo(()=>l!=null?new Set([l]):null,[l])}export{j as $,Oi as a,Pi as b,Vi as c,Ui as d,zi as e,Ct as f,Bi as g,ji as h,Gi as i,Ai as j,Ri as k,Ii as l,at as m,mi as n,qt as o,Wi as p,qi as q,Lt as r,xe as s,Ot as t,Hi as u,We as v,Li as w,ft as x};
