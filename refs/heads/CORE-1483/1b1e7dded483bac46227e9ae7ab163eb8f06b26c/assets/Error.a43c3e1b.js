import{R as o,j as c,a as n,F as x}from"./index.aaee157d.js";import{B as E,a as f,b as m}from"./MessageBox.29adc5b0.js";import{E as h,l as i}from"./contexts.e0397232.js";const j=({heading:e,children:r,...u})=>{var a,d;const s=o.useContext(h),[t,I]=o.useState(i());return o.useEffect(()=>{var v;if(((v=s.error)==null?void 0:v.eventId)||t)return;const p=setInterval(()=>{const l=i();t!==l&&I(l)},100);return()=>clearInterval(p)},[t,(a=s.error)==null?void 0:a.eventId]),c(E,{...u,"data-testid":"error",children:[n(f,{children:e!=null?e:"Uh-oh, there's been a glitch"}),r!=null?r:c(x,{children:["We're not quite sure what went wrong. Restart your browser. If this doesn't solve the problem, visit our ",n("a",{href:"https://help.openstax.org",target:"_blank",children:"Support Center"}),"."]}),n(m,{"data-testid":"event-id",children:((d=s.error)==null?void 0:d.eventId)||t})]})};export{j as E};
