import{e as He,$ as I,o as me,p as st,q as at,r as Ge,s as ut,t as Ye,c as Ce,u as ct,v as L,w as ie,x as dt,y as ft,z as $e,A as ht,d as pt,B as Xe,C as Me,D as vt,f as yt}from"./context.module.28957498.js";import{r as h,R as x,b as Je}from"./index.73850c62.js";function ul(n,e){let{id:t,"aria-label":l,"aria-labelledby":i}=n;return t=He(t),i&&l?i=[...new Set([t,...i.trim().split(/\s+/)])].join(" "):i&&(i=i.trim().split(/\s+/).join(" ")),!l&&!i&&e&&(l=e),{id:t,"aria-label":l,"aria-labelledby":i}}function Fe(n,e){const t=h.exports.useRef(!0),l=h.exports.useRef(null);I(()=>(t.current=!0,()=>{t.current=!1}),[]),I(()=>{t.current?t.current=!1:(!l.current||e.some((i,r)=>!Object.is(i,l[r])))&&n(),l.current=e},e)}function bt(n,e){if(!n)return!1;let t=window.getComputedStyle(n),l=/(auto|scroll)/.test(t.overflow+t.overflowX+t.overflowY);return l&&e&&(l=n.scrollHeight!==n.clientHeight||n.scrollWidth!==n.clientWidth),l}function mt(n,e){const t=[];for(;n&&n!==document.documentElement;)bt(n,e)&&t.push(n),n=n.parentElement;return t}let $t=0;const he=new Map;function gt(n){let[e,t]=h.exports.useState();return I(()=>{if(!n)return;let l=he.get(n);if(l)t(l.element.id);else{let i=`react-aria-description-${$t++}`;t(i);let r=document.createElement("div");r.id=i,r.style.display="none",r.textContent=n,document.body.appendChild(r),l={refCount:0,element:r},he.set(n,l)}return l.refCount++,()=>{l&&--l.refCount===0&&(l.element.remove(),he.delete(n))}},[n]),{"aria-describedby":n?e:void 0}}function ne(n,e,t,l){let i=me(t),r=t==null;h.exports.useEffect(()=>{if(r||!n.current)return;let o=n.current;return o.addEventListener(e,i,l),()=>{o.removeEventListener(e,i,l)}},[n,e,l,r,i])}function Ze(n,e){let t=Re(n,e,"left"),l=Re(n,e,"top"),i=e.offsetWidth,r=e.offsetHeight,o=n.scrollLeft,s=n.scrollTop,{borderTopWidth:a,borderLeftWidth:u,scrollPaddingTop:c,scrollPaddingRight:f,scrollPaddingBottom:y,scrollPaddingLeft:v}=getComputedStyle(n),m=o+parseInt(u,10),C=s+parseInt(a,10),$=m+n.clientWidth,g=C+n.clientHeight,E=parseInt(c,10)||0,K=parseInt(y,10)||0,N=parseInt(f,10)||0,M=parseInt(v,10)||0;t<=o+M?o=t-parseInt(u,10)-M:t+i>$-N&&(o+=t+i-$+N),l<=C+E?s=l-parseInt(a,10)-E:l+r>g-K&&(s+=l+r-g+K),n.scrollLeft=o,n.scrollTop=s}function Re(n,e,t){const l=t==="left"?"offsetLeft":"offsetTop";let i=0;for(;e.offsetParent&&(i+=e[l],e.offsetParent!==n);){if(e.offsetParent.contains(n)){i-=n[l];break}e=e.offsetParent}return i}function Ae(n,e){if(n&&document.contains(n)){let o=document.scrollingElement||document.documentElement;if(window.getComputedStyle(o).overflow==="hidden"){let a=mt(n);for(let u of a)Ze(u,n)}else{var t;let{left:a,top:u}=n.getBoundingClientRect();n==null||(t=n.scrollIntoView)===null||t===void 0||t.call(n,{block:"nearest"});let{left:c,top:f}=n.getBoundingClientRect();if(Math.abs(a-c)>1||Math.abs(u-f)>1){var l,i,r;e==null||(i=e.containingElement)===null||i===void 0||(l=i.scrollIntoView)===null||l===void 0||l.call(i,{block:"center",inline:"center"}),(r=n.scrollIntoView)===null||r===void 0||r.call(n,{block:"nearest"})}}}}const St="react-aria-clear-focus",xt="react-aria-focus",Qe="react-aria-update-activedescendant";function Z(n){return st()?n.metaKey:n.ctrlKey}class Ee{get childNodes(){throw new Error("childNodes is not supported")}clone(){let e=new Ee(this.type,this.key);return e.value=this.value,e.level=this.level,e.hasChildNodes=this.hasChildNodes,e.rendered=this.rendered,e.textValue=this.textValue,e["aria-label"]=this["aria-label"],e.index=this.index,e.parentKey=this.parentKey,e.prevKey=this.prevKey,e.nextKey=this.nextKey,e.firstChildKey=this.firstChildKey,e.lastChildKey=this.lastChildKey,e.props=this.props,e.render=this.render,e}constructor(e,t){this.value=null,this.level=0,this.hasChildNodes=!1,this.rendered=null,this.textValue="",this["aria-label"]=void 0,this.index=0,this.parentKey=null,this.prevKey=null,this.nextKey=null,this.firstChildKey=null,this.lastChildKey=null,this.props={},this.type=e,this.key=t}}class ke{get size(){return this.keyMap.size}getKeys(){return this.keyMap.keys()}*[Symbol.iterator](){let e=this.firstKey!=null?this.keyMap.get(this.firstKey):void 0;for(;e;)yield e,e=e.nextKey!=null?this.keyMap.get(e.nextKey):void 0}getChildren(e){let t=this.keyMap;return{*[Symbol.iterator](){let l=t.get(e),i=(l==null?void 0:l.firstChildKey)!=null?t.get(l.firstChildKey):null;for(;i;)yield i,i=i.nextKey!=null?t.get(i.nextKey):void 0}}}getKeyBefore(e){let t=this.keyMap.get(e);if(!t)return null;if(t.prevKey!=null){for(t=this.keyMap.get(t.prevKey);t&&t.type!=="item"&&t.lastChildKey!=null;)t=this.keyMap.get(t.lastChildKey);var l;return(l=t==null?void 0:t.key)!==null&&l!==void 0?l:null}return t.parentKey}getKeyAfter(e){let t=this.keyMap.get(e);if(!t)return null;if(t.type!=="item"&&t.firstChildKey!=null)return t.firstChildKey;for(;t;){if(t.nextKey!=null)return t.nextKey;if(t.parentKey!=null)t=this.keyMap.get(t.parentKey);else return null}return null}getFirstKey(){return this.firstKey}getLastKey(){let e=this.lastKey!=null?this.keyMap.get(this.lastKey):null;for(;(e==null?void 0:e.lastChildKey)!=null;)e=this.keyMap.get(e.lastChildKey);var t;return(t=e==null?void 0:e.key)!==null&&t!==void 0?t:null}getItem(e){var t;return(t=this.keyMap.get(e))!==null&&t!==void 0?t:null}at(){throw new Error("Not implemented")}clone(){let e=this.constructor,t=new e;return t.keyMap=new Map(this.keyMap),t.firstKey=this.firstKey,t.lastKey=this.lastKey,t}addNode(e){if(this.frozen)throw new Error("Cannot add a node to a frozen collection");this.keyMap.set(e.key,e)}removeNode(e){if(this.frozen)throw new Error("Cannot remove a node to a frozen collection");this.keyMap.delete(e)}commit(e,t,l=!1){if(this.frozen)throw new Error("Cannot commit a frozen collection");this.firstKey=e,this.lastKey=t,this.frozen=!l}filter(e){let t=new ke,l=null;for(let i of this)if(i.type==="section"&&i.hasChildNodes){let r=i.clone(),o=null;for(let s of this.getChildren(i.key))if(e(s.textValue)||s.type==="header"){let a=s.clone();o==null&&(r.firstChildKey=a.key),t.firstKey==null&&(t.firstKey=r.key),o&&o.parentKey===a.parentKey?(o.nextKey=a.key,a.prevKey=o.key):a.prevKey=null,a.nextKey=null,t.addNode(a),o=a}o&&(o.type!=="header"?(r.lastChildKey=o.key,l==null?r.prevKey=null:(l.type==="section"||l.type==="separator")&&(l.nextKey=r.key,r.prevKey=l.key),r.nextKey=null,l=r,t.addNode(r)):(t.firstKey===r.key&&(t.firstKey=null),t.removeNode(o.key)))}else if(i.type==="separator"){let r=i.clone();r.nextKey=null,(l==null?void 0:l.type)==="section"&&(l.nextKey=r.key,r.prevKey=l.key,l=r,t.addNode(r))}else if(e(i.textValue)){let r=i.clone();t.firstKey==null&&(t.firstKey=r.key),l!=null&&l.type!=="section"&&l.type!=="separator"&&l.parentKey===r.parentKey?(l.nextKey=r.key,r.prevKey=l.key):r.prevKey=null,r.nextKey=null,t.addNode(r),l=r}if((l==null?void 0:l.type)==="separator"&&l.nextKey===null){let i;l.prevKey!=null&&(i=t.getItem(l.prevKey),i.nextKey=null),t.removeNode(l.key),l=i}return t.lastKey=(l==null?void 0:l.key)||null,t}constructor(){this.keyMap=new Map,this.firstKey=null,this.lastKey=null,this.frozen=!1}}class _e{*[Symbol.iterator](){let e=this.firstChild;for(;e;)yield e,e=e.nextSibling}get firstChild(){return this._firstChild}set firstChild(e){this._firstChild=e,this.ownerDocument.markDirty(this)}get lastChild(){return this._lastChild}set lastChild(e){this._lastChild=e,this.ownerDocument.markDirty(this)}get previousSibling(){return this._previousSibling}set previousSibling(e){this._previousSibling=e,this.ownerDocument.markDirty(this)}get nextSibling(){return this._nextSibling}set nextSibling(e){this._nextSibling=e,this.ownerDocument.markDirty(this)}get parentNode(){return this._parentNode}set parentNode(e){this._parentNode=e,this.ownerDocument.markDirty(this)}get isConnected(){var e;return((e=this.parentNode)===null||e===void 0?void 0:e.isConnected)||!1}appendChild(e){this.ownerDocument.startTransaction(),e.parentNode&&e.parentNode.removeChild(e),this.firstChild==null&&(this.firstChild=e),this.lastChild?(this.lastChild.nextSibling=e,e.index=this.lastChild.index+1,e.previousSibling=this.lastChild):(e.previousSibling=null,e.index=0),e.parentNode=this,e.nextSibling=null,this.lastChild=e,this.ownerDocument.markDirty(this),e.hasSetProps&&this.ownerDocument.addNode(e),this.ownerDocument.endTransaction(),this.ownerDocument.queueUpdate()}insertBefore(e,t){if(t==null)return this.appendChild(e);this.ownerDocument.startTransaction(),e.parentNode&&e.parentNode.removeChild(e),e.nextSibling=t,e.previousSibling=t.previousSibling,e.index=t.index,this.firstChild===t?this.firstChild=e:t.previousSibling&&(t.previousSibling.nextSibling=e),t.previousSibling=e,e.parentNode=t.parentNode;let l=t;for(;l;)l.index++,l=l.nextSibling;e.hasSetProps&&this.ownerDocument.addNode(e),this.ownerDocument.endTransaction(),this.ownerDocument.queueUpdate()}removeChild(e){if(e.parentNode!==this||!this.ownerDocument.isMounted)return;this.ownerDocument.startTransaction();let t=e.nextSibling;for(;t;)t.index--,t=t.nextSibling;e.nextSibling&&(e.nextSibling.previousSibling=e.previousSibling),e.previousSibling&&(e.previousSibling.nextSibling=e.nextSibling),this.firstChild===e&&(this.firstChild=e.nextSibling),this.lastChild===e&&(this.lastChild=e.previousSibling),e.parentNode=null,e.nextSibling=null,e.previousSibling=null,e.index=0,this.ownerDocument.removeNode(e),this.ownerDocument.endTransaction(),this.ownerDocument.queueUpdate()}addEventListener(){}removeEventListener(){}constructor(e){this._firstChild=null,this._lastChild=null,this._previousSibling=null,this._nextSibling=null,this._parentNode=null,this.ownerDocument=e}}class te extends _e{get index(){return this._index}set index(e){this._index=e,this.ownerDocument.markDirty(this)}get level(){return this.parentNode instanceof te?this.parentNode.level+(this.node.type==="item"?1:0):0}updateNode(){var e,t,l,i;let r=this.ownerDocument.getMutableNode(this);r.index=this.index,r.level=this.level,r.parentKey=this.parentNode instanceof te?this.parentNode.node.key:null;var o;r.prevKey=(o=(e=this.previousSibling)===null||e===void 0?void 0:e.node.key)!==null&&o!==void 0?o:null;var s;r.nextKey=(s=(t=this.nextSibling)===null||t===void 0?void 0:t.node.key)!==null&&s!==void 0?s:null,r.hasChildNodes=!!this.firstChild;var a;r.firstChildKey=(a=(l=this.firstChild)===null||l===void 0?void 0:l.node.key)!==null&&a!==void 0?a:null;var u;r.lastChildKey=(u=(i=this.lastChild)===null||i===void 0?void 0:i.node.key)!==null&&u!==void 0?u:null}setProps(e,t,l,i){let r=this.ownerDocument.getMutableNode(this),{value:o,textValue:s,id:a,...u}=e;if(u.ref=t,r.props=u,r.rendered=l,r.render=i,r.value=o,r.textValue=s||(typeof u.children=="string"?u.children:"")||e["aria-label"]||"",a!=null&&a!==r.key){if(this.hasSetProps)throw new Error("Cannot change the id of an item");r.key=a}this.hasSetProps||(this.ownerDocument.addNode(this),this.ownerDocument.endTransaction(),this.hasSetProps=!0),this.ownerDocument.queueUpdate()}get style(){return{}}hasAttribute(){}setAttribute(){}setAttributeNS(){}removeAttribute(){}constructor(e,t){super(t),this.nodeType=8,this._index=0,this.hasSetProps=!1,this.node=new Ee(e,`react-aria-${++t.nodeId}`),this.ownerDocument.startTransaction()}}class Kt extends _e{get isConnected(){return this.isMounted}createElement(e){return new te(e,this)}getMutableNode(e){let t=e.node;return this.mutatedNodes.has(e)||(t=e.node.clone(),this.mutatedNodes.add(e),e.node=t),this.markDirty(e),t}getMutableCollection(){return!this.isSSR&&!this.collectionMutated&&(this.collection=this.collection.clone(),this.collectionMutated=!0),this.collection}markDirty(e){this.dirtyNodes.add(e)}startTransaction(){this.transactionCount++}endTransaction(){this.transactionCount--}addNode(e){let t=this.getMutableCollection();if(!t.getItem(e.node.key)){t.addNode(e.node);for(let l of e)this.addNode(l)}this.markDirty(e)}removeNode(e){for(let l of e)this.removeNode(l);this.getMutableCollection().removeNode(e.node.key),this.markDirty(e)}getCollection(){return this.transactionCount>0?this.collection:(this.updateCollection(),this.collection)}updateCollection(){for(let r of this.dirtyNodes)r instanceof te&&r.isConnected&&r.updateNode();if(this.dirtyNodes.clear(),this.mutatedNodes.size||this.collectionMutated){var e,t;let r=this.getMutableCollection();for(let o of this.mutatedNodes)o.isConnected&&r.addNode(o.node);var l,i;r.commit((l=(e=this.firstChild)===null||e===void 0?void 0:e.node.key)!==null&&l!==void 0?l:null,(i=(t=this.lastChild)===null||t===void 0?void 0:t.node.key)!==null&&i!==void 0?i:null,this.isSSR),this.mutatedNodes.clear()}this.collectionMutated=!1}queueUpdate(){if(!(this.dirtyNodes.size===0||this.transactionCount>0))for(let e of this.subscriptions)e()}subscribe(e){return this.subscriptions.add(e),()=>this.subscriptions.delete(e)}resetAfterSSR(){this.isSSR&&(this.isSSR=!1,this.firstChild=null,this.lastChild=null,this.nodeId=0)}constructor(e){super(null),this.nodeType=11,this.ownerDocument=this,this.dirtyNodes=new Set,this.isSSR=!1,this.nodeId=0,this.nodesByProps=new WeakMap,this.isMounted=!0,this.mutatedNodes=new Set,this.subscriptions=new Set,this.transactionCount=0,this.collection=e,this.collectionMutated=!0}}function et(n){let{children:e,items:t,idScope:l,addIdAndValue:i,dependencies:r=[]}=n,o=h.exports.useMemo(()=>new WeakMap,r);return h.exports.useMemo(()=>{if(t&&typeof e=="function"){let u=[];for(let c of t){let f=o.get(c);if(!f){f=e(c);var s,a;let y=(a=(s=f.props.id)!==null&&s!==void 0?s:c.key)!==null&&a!==void 0?a:c.id;if(y==null)throw new Error("Could not determine key for item");l&&(y=l+":"+y),f=h.exports.cloneElement(f,i?{key:y,id:y,value:c}:{key:y}),o.set(c,f)}u.push(f)}return u}else if(typeof e!="function")return e},[e,t,o,l,i])}var tt={exports:{}},lt={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Q=h.exports;function wt(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var Ct=typeof Object.is=="function"?Object.is:wt,Et=Q.useState,kt=Q.useEffect,Tt=Q.useLayoutEffect,Dt=Q.useDebugValue;function Pt(n,e){var t=e(),l=Et({inst:{value:t,getSnapshot:e}}),i=l[0].inst,r=l[1];return Tt(function(){i.value=t,i.getSnapshot=e,pe(i)&&r({inst:i})},[n,t,e]),kt(function(){return pe(i)&&r({inst:i}),n(function(){pe(i)&&r({inst:i})})},[n]),Dt(t),t}function pe(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!Ct(n,t)}catch{return!0}}function Nt(n,e){return e()}var Mt=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Nt:Pt;lt.useSyncExternalStore=Q.useSyncExternalStore!==void 0?Q.useSyncExternalStore:Mt;(function(n){n.exports=lt})(tt);const nt=h.exports.createContext(!1),le=h.exports.createContext(null);function cl(n){if(h.exports.useContext(le))return n.content;let{collection:t,document:l}=It(n.createCollection);return x.createElement(x.Fragment,null,x.createElement(at,null,x.createElement(le.Provider,{value:l},n.content)),x.createElement(Ft,{render:n.children,collection:t}))}function Ft({collection:n,render:e}){return e(n)}function Rt(n,e,t){let l=Ge(),i=h.exports.useRef(l);i.current=l;let r=h.exports.useCallback(()=>i.current?t():e(),[e,t]);return tt.exports.useSyncExternalStore(n,r)}const At=typeof x.useSyncExternalStore=="function"?x.useSyncExternalStore:Rt;function It(n){let[e]=h.exports.useState(()=>new Kt((n==null?void 0:n())||new ke)),t=h.exports.useCallback(o=>e.subscribe(o),[e]),l=h.exports.useCallback(()=>{let o=e.getCollection();return e.isSSR&&e.resetAfterSSR(),o},[e]),i=h.exports.useCallback(()=>(e.isSSR=!0,e.getCollection()),[e]),r=At(t,l,i);return I(()=>(e.isMounted=!0,()=>{e.isMounted=!1}),[e]),{collection:r,document:e}}const ge=h.exports.createContext(null);function Lt(n,e,t,l,i,r){let o=h.exports.useCallback(a=>{a==null||a.setProps(e,t,l,r)},[e,t,l,r]),s=h.exports.useContext(ge);if(s){let a=s.ownerDocument.nodesByProps.get(e);return a||(a=s.ownerDocument.createElement(n),a.setProps(e,t,l,r),s.appendChild(a),s.ownerDocument.updateCollection(),s.ownerDocument.nodesByProps.set(e,a)),i?x.createElement(ge.Provider,{value:a},i):null}return x.createElement(n,{ref:o},i)}function dl(n,e){let t=({node:i})=>e(i.props,i.props.ref,i),l=h.exports.forwardRef((i,r)=>{if(!h.exports.useContext(nt)){if(e.length>=3)throw new Error(e.name+" cannot be rendered outside a collection.");return e(i,r)}return Lt(n,i,r,"children"in i?i.children:null,null,s=>x.createElement(t,{node:s}))});return l.displayName=e.name,l}function Bt(n){return et({...n,addIdAndValue:!0})}const Ie=h.exports.createContext(null);function fl(n){let e=h.exports.useContext(Ie),t=((e==null?void 0:e.dependencies)||[]).concat(n.dependencies),l=n.idScope||(e==null?void 0:e.idScope),i=Bt({...n,idScope:l,dependencies:t});return h.exports.useContext(le)&&(i=x.createElement(zt,null,i)),e=h.exports.useMemo(()=>({dependencies:t,idScope:l}),[l,...t]),x.createElement(Ie.Provider,{value:e},i)}function zt({children:n}){let e=h.exports.useContext(le),t=h.exports.useMemo(()=>x.createElement(le.Provider,{value:null},x.createElement(nt.Provider,{value:!0},n)),[n]);return Ge()?x.createElement(ge.Provider,{value:e},t):Je.exports.createPortal(t,e)}const Ut=500;function Ot(n){let{isDisabled:e,onLongPressStart:t,onLongPressEnd:l,onLongPress:i,threshold:r=Ut,accessibilityDescription:o}=n;const s=h.exports.useRef(void 0);let{addGlobalListener:a,removeGlobalListener:u}=ut(),{pressProps:c}=Ye({isDisabled:e,onPressStart(y){if(y.continuePropagation(),(y.pointerType==="mouse"||y.pointerType==="touch")&&(t&&t({...y,type:"longpressstart"}),s.current=setTimeout(()=>{y.target.dispatchEvent(new PointerEvent("pointercancel",{bubbles:!0})),i&&i({...y,type:"longpress"}),s.current=void 0},r),y.pointerType==="touch")){let v=m=>{m.preventDefault()};a(y.target,"contextmenu",v,{once:!0}),a(window,"pointerup",()=>{setTimeout(()=>{u(y.target,"contextmenu",v)},30)},{once:!0})}},onPressEnd(y){s.current&&clearTimeout(s.current),l&&(y.pointerType==="mouse"||y.pointerType==="touch")&&l({...y,type:"longpressend"})}}),f=gt(i&&!e?o:void 0);return{longPressProps:Ce(c,f)}}function Vt(n){const e=ct(n);if(!(n instanceof e.HTMLElement)&&!(n instanceof e.SVGElement))return!1;let{display:t,visibility:l}=n.style,i=t!=="none"&&l!=="hidden"&&l!=="collapse";if(i){const{getComputedStyle:r}=n.ownerDocument.defaultView;let{display:o,visibility:s}=r(n);i=o!=="none"&&s!=="hidden"&&s!=="collapse"}return i}function Wt(n,e){return!n.hasAttribute("hidden")&&!n.hasAttribute("data-react-aria-prevent-focus")&&(n.nodeName==="DETAILS"&&e&&e.nodeName!=="SUMMARY"?n.hasAttribute("open"):!0)}function it(n,e){return n.nodeName!=="#comment"&&Vt(n)&&Wt(n,e)&&(!n.parentElement||it(n.parentElement,n))}const Le=x.createContext(null),Se="react-aria-focus-scope-restore";let w=null;function hl(n){let{children:e,contain:t,restoreFocus:l,autoFocus:i}=n,r=h.exports.useRef(null),o=h.exports.useRef(null),s=h.exports.useRef([]),{parentNode:a}=h.exports.useContext(Le)||{},u=h.exports.useMemo(()=>new Ke({scopeRef:s}),[s]);I(()=>{let y=a||P.root;if(P.getTreeNode(y.scopeRef)&&w&&!re(w,y.scopeRef)){let v=P.getTreeNode(w);v&&(y=v)}y.addChild(u),P.addNode(u)},[u,a]),I(()=>{let y=P.getTreeNode(s);y&&(y.contain=!!t)},[t]),I(()=>{var y;let v=(y=r.current)===null||y===void 0?void 0:y.nextSibling,m=[],C=$=>$.stopPropagation();for(;v&&v!==o.current;)m.push(v),v.addEventListener(Se,C),v=v.nextSibling;return s.current=m,()=>{for(let $ of m)$.removeEventListener(Se,C)}},[e]),Xt(s,l,t),Gt(s,t),Jt(s,l,t),Yt(s,i),h.exports.useEffect(()=>{const y=L(s.current?s.current[0]:void 0).activeElement;let v=null;if(z(y,s.current)){for(let m of P.traverse())m.scopeRef&&z(y,m.scopeRef.current)&&(v=m);v===P.getTreeNode(s)&&(w=v.scopeRef)}},[s]),I(()=>()=>{var y,v,m;let C=(m=(v=P.getTreeNode(s))===null||v===void 0||(y=v.parent)===null||y===void 0?void 0:y.scopeRef)!==null&&m!==void 0?m:null;(s===w||re(s,w))&&(!C||P.getTreeNode(C))&&(w=C),P.removeTreeNode(s)},[s]);let c=h.exports.useMemo(()=>qt(s),[]),f=h.exports.useMemo(()=>({focusManager:c,parentNode:u}),[u,c]);return x.createElement(Le.Provider,{value:f},x.createElement("span",{"data-focus-scope-start":!0,hidden:!0,ref:r}),e,x.createElement("span",{"data-focus-scope-end":!0,hidden:!0,ref:o}))}function qt(n){return{focusNext(e={}){let t=n.current,{from:l,tabbable:i,wrap:r,accept:o}=e,s=l||L(t[0]).activeElement,a=t[0].previousElementSibling,u=X(t),c=B(u,{tabbable:i,accept:o},t);c.currentNode=z(s,t)?s:a;let f=c.nextNode();return!f&&r&&(c.currentNode=a,f=c.nextNode()),f&&A(f,!0),f},focusPrevious(e={}){let t=n.current,{from:l,tabbable:i,wrap:r,accept:o}=e,s=l||L(t[0]).activeElement,a=t[t.length-1].nextElementSibling,u=X(t),c=B(u,{tabbable:i,accept:o},t);c.currentNode=z(s,t)?s:a;let f=c.previousNode();return!f&&r&&(c.currentNode=a,f=c.previousNode()),f&&A(f,!0),f},focusFirst(e={}){let t=n.current,{tabbable:l,accept:i}=e,r=X(t),o=B(r,{tabbable:l,accept:i},t);o.currentNode=t[0].previousElementSibling;let s=o.nextNode();return s&&A(s,!0),s},focusLast(e={}){let t=n.current,{tabbable:l,accept:i}=e,r=X(t),o=B(r,{tabbable:l,accept:i},t);o.currentNode=t[t.length-1].nextElementSibling;let s=o.previousNode();return s&&A(s,!0),s}}}const Te=["input:not([disabled]):not([type=hidden])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","a[href]","area[href]","summary","iframe","object","embed","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable^="false"])'],jt=Te.join(":not([hidden]),")+",[tabindex]:not([disabled]):not([hidden])";Te.push('[tabindex]:not([tabindex="-1"]):not([disabled])');const Ht=Te.join(':not([hidden]):not([tabindex="-1"]),');function X(n){return n[0].parentElement}function ee(n){let e=P.getTreeNode(w);for(;e&&e.scopeRef!==n;){if(e.contain)return!1;e=e.parent}return!0}function Gt(n,e){let t=h.exports.useRef(void 0),l=h.exports.useRef(void 0);I(()=>{let i=n.current;if(!e){l.current&&(cancelAnimationFrame(l.current),l.current=void 0);return}const r=L(i?i[0]:void 0);let o=u=>{if(u.key!=="Tab"||u.altKey||u.ctrlKey||u.metaKey||!ee(n)||u.isComposing)return;let c=r.activeElement,f=n.current;if(!f||!z(c,f))return;let y=X(f),v=B(y,{tabbable:!0},f);if(!c)return;v.currentNode=c;let m=u.shiftKey?v.previousNode():v.nextNode();m||(v.currentNode=u.shiftKey?f[f.length-1].nextElementSibling:f[0].previousElementSibling,m=u.shiftKey?v.previousNode():v.nextNode()),u.preventDefault(),m&&A(m,!0)},s=u=>{(!w||re(w,n))&&z(u.target,n.current)?(w=n,t.current=u.target):ee(n)&&!G(u.target,n)?t.current?t.current.focus():w&&w.current&&xe(w.current):ee(n)&&(t.current=u.target)},a=u=>{l.current&&cancelAnimationFrame(l.current),l.current=requestAnimationFrame(()=>{let c=$e();if(!((c==="virtual"||c===null)&&dt()&&ft())&&r.activeElement&&ee(n)&&!G(r.activeElement,n))if(w=n,r.body.contains(u.target)){var y;t.current=u.target,(y=t.current)===null||y===void 0||y.focus()}else w.current&&xe(w.current)})};return r.addEventListener("keydown",o,!1),r.addEventListener("focusin",s,!1),i==null||i.forEach(u=>u.addEventListener("focusin",s,!1)),i==null||i.forEach(u=>u.addEventListener("focusout",a,!1)),()=>{r.removeEventListener("keydown",o,!1),r.removeEventListener("focusin",s,!1),i==null||i.forEach(u=>u.removeEventListener("focusin",s,!1)),i==null||i.forEach(u=>u.removeEventListener("focusout",a,!1))}},[n,e]),I(()=>()=>{l.current&&cancelAnimationFrame(l.current)},[l])}function rt(n){return G(n)}function z(n,e){return!n||!e?!1:e.some(t=>t.contains(n))}function G(n,e=null){if(n instanceof Element&&n.closest("[data-react-aria-top-layer]"))return!0;for(let{scopeRef:t}of P.traverse(P.getTreeNode(e)))if(t&&z(n,t.current))return!0;return!1}function pl(n){return G(n,w)}function re(n,e){var t;let l=(t=P.getTreeNode(e))===null||t===void 0?void 0:t.parent;for(;l;){if(l.scopeRef===n)return!0;l=l.parent}return!1}function A(n,e=!1){if(n!=null&&!e)try{ie(n)}catch{}else if(n!=null)try{n.focus()}catch{}}function ot(n,e=!0){let t=n[0].previousElementSibling,l=X(n),i=B(l,{tabbable:e},n);i.currentNode=t;let r=i.nextNode();return e&&!r&&(l=X(n),i=B(l,{tabbable:!1},n),i.currentNode=t,r=i.nextNode()),r}function xe(n,e=!0){A(ot(n,e))}function Yt(n,e){const t=x.useRef(e);h.exports.useEffect(()=>{if(t.current){w=n;const l=L(n.current?n.current[0]:void 0);!z(l.activeElement,w.current)&&n.current&&xe(n.current)}t.current=!1},[n])}function Xt(n,e,t){I(()=>{if(e||t)return;let l=n.current;const i=L(l?l[0]:void 0);let r=o=>{let s=o.target;z(s,n.current)?w=n:rt(s)||(w=null)};return i.addEventListener("focusin",r,!1),l==null||l.forEach(o=>o.addEventListener("focusin",r,!1)),()=>{i.removeEventListener("focusin",r,!1),l==null||l.forEach(o=>o.removeEventListener("focusin",r,!1))}},[n,e,t])}function Be(n){let e=P.getTreeNode(w);for(;e&&e.scopeRef!==n;){if(e.nodeToRestore)return!1;e=e.parent}return(e==null?void 0:e.scopeRef)===n}function Jt(n,e,t){const l=h.exports.useRef(typeof document<"u"?L(n.current?n.current[0]:void 0).activeElement:null);I(()=>{let i=n.current;const r=L(i?i[0]:void 0);if(!e||t)return;let o=()=>{(!w||re(w,n))&&z(r.activeElement,n.current)&&(w=n)};return r.addEventListener("focusin",o,!1),i==null||i.forEach(s=>s.addEventListener("focusin",o,!1)),()=>{r.removeEventListener("focusin",o,!1),i==null||i.forEach(s=>s.removeEventListener("focusin",o,!1))}},[n,t]),I(()=>{const i=L(n.current?n.current[0]:void 0);if(!e)return;let r=o=>{if(o.key!=="Tab"||o.altKey||o.ctrlKey||o.metaKey||!ee(n)||o.isComposing)return;let s=i.activeElement;if(!G(s,n)||!Be(n))return;let a=P.getTreeNode(n);if(!a)return;let u=a.nodeToRestore,c=B(i.body,{tabbable:!0});c.currentNode=s;let f=o.shiftKey?c.previousNode():c.nextNode();if((!u||!i.body.contains(u)||u===i.body)&&(u=void 0,a.nodeToRestore=void 0),(!f||!G(f,n))&&u){c.currentNode=u;do f=o.shiftKey?c.previousNode():c.nextNode();while(G(f,n));o.preventDefault(),o.stopPropagation(),f?A(f,!0):rt(u)?A(u,!0):s.blur()}};return t||i.addEventListener("keydown",r,!0),()=>{t||i.removeEventListener("keydown",r,!0)}},[n,e,t]),I(()=>{const i=L(n.current?n.current[0]:void 0);if(!e)return;let r=P.getTreeNode(n);if(!!r){var o;return r.nodeToRestore=(o=l.current)!==null&&o!==void 0?o:void 0,()=>{let s=P.getTreeNode(n);if(!s)return;let a=s.nodeToRestore;if(e&&a&&(i.activeElement&&G(i.activeElement,n)||i.activeElement===i.body&&Be(n))){let u=P.clone();requestAnimationFrame(()=>{if(i.activeElement===i.body){let c=u.getTreeNode(n);for(;c;){if(c.nodeToRestore&&c.nodeToRestore.isConnected){ze(c.nodeToRestore);return}c=c.parent}for(c=u.getTreeNode(n);c;){if(c.scopeRef&&c.scopeRef.current&&P.getTreeNode(c.scopeRef)){let f=ot(c.scopeRef.current,!0);ze(f);return}c=c.parent}}})}}}},[n,e])}function ze(n){n.dispatchEvent(new CustomEvent(Se,{bubbles:!0,cancelable:!0}))&&A(n)}function B(n,e,t){let l=e!=null&&e.tabbable?Ht:jt,i=L(n).createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode(r){var o;return!(e==null||(o=e.from)===null||o===void 0)&&o.contains(r)?NodeFilter.FILTER_REJECT:r.matches(l)&&it(r)&&(!t||z(r,t))&&(!(e!=null&&e.accept)||e.accept(r))?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});return e!=null&&e.from&&(i.currentNode=e.from),i}function vl(n,e={}){return{focusNext(t={}){let l=n.current;if(!l)return null;let{from:i,tabbable:r=e.tabbable,wrap:o=e.wrap,accept:s=e.accept}=t,a=i||L(l).activeElement,u=B(l,{tabbable:r,accept:s});l.contains(a)&&(u.currentNode=a);let c=u.nextNode();return!c&&o&&(u.currentNode=l,c=u.nextNode()),c&&A(c,!0),c},focusPrevious(t=e){let l=n.current;if(!l)return null;let{from:i,tabbable:r=e.tabbable,wrap:o=e.wrap,accept:s=e.accept}=t,a=i||L(l).activeElement,u=B(l,{tabbable:r,accept:s});if(l.contains(a))u.currentNode=a;else{let f=ve(u);return f&&A(f,!0),f!=null?f:null}let c=u.previousNode();if(!c&&o){u.currentNode=l;let f=ve(u);if(!f)return null;c=f}return c&&A(c,!0),c!=null?c:null},focusFirst(t=e){let l=n.current;if(!l)return null;let{tabbable:i=e.tabbable,accept:r=e.accept}=t,s=B(l,{tabbable:i,accept:r}).nextNode();return s&&A(s,!0),s},focusLast(t=e){let l=n.current;if(!l)return null;let{tabbable:i=e.tabbable,accept:r=e.accept}=t,o=B(l,{tabbable:i,accept:r}),s=ve(o);return s&&A(s,!0),s!=null?s:null}}}function ve(n){let e,t;do t=n.lastChild(),t&&(e=t);while(t);return e}class De{get size(){return this.fastMap.size}getTreeNode(e){return this.fastMap.get(e)}addTreeNode(e,t,l){let i=this.fastMap.get(t!=null?t:null);if(!i)return;let r=new Ke({scopeRef:e});i.addChild(r),r.parent=i,this.fastMap.set(e,r),l&&(r.nodeToRestore=l)}addNode(e){this.fastMap.set(e.scopeRef,e)}removeTreeNode(e){if(e===null)return;let t=this.fastMap.get(e);if(!t)return;let l=t.parent;for(let r of this.traverse())r!==t&&t.nodeToRestore&&r.nodeToRestore&&t.scopeRef&&t.scopeRef.current&&z(r.nodeToRestore,t.scopeRef.current)&&(r.nodeToRestore=t.nodeToRestore);let i=t.children;l&&(l.removeChild(t),i.size>0&&i.forEach(r=>l&&l.addChild(r))),this.fastMap.delete(t.scopeRef)}*traverse(e=this.root){if(e.scopeRef!=null&&(yield e),e.children.size>0)for(let t of e.children)yield*this.traverse(t)}clone(){var e;let t=new De;var l;for(let i of this.traverse())t.addTreeNode(i.scopeRef,(l=(e=i.parent)===null||e===void 0?void 0:e.scopeRef)!==null&&l!==void 0?l:null,i.nodeToRestore);return t}constructor(){this.fastMap=new Map,this.root=new Ke({scopeRef:null}),this.fastMap.set(null,this.root)}}class Ke{addChild(e){this.children.add(e),e.parent=this}removeChild(e){this.children.delete(e),e.parent=void 0}constructor(e){this.children=new Set,this.contain=!1,this.scopeRef=e.scopeRef}}let P=new De;function we(n){return ht()?n.altKey:n.ctrlKey}const Zt=1e3;function Qt(n){let{keyboardDelegate:e,selectionManager:t,onTypeSelect:l}=n,i=h.exports.useRef({search:"",timeout:void 0}).current,r=o=>{let s=_t(o.key);if(!(!s||o.ctrlKey||o.metaKey||!o.currentTarget.contains(o.target))){if(s===" "&&i.search.trim().length>0&&(o.preventDefault(),"continuePropagation"in o||o.stopPropagation()),i.search+=s,e.getKeyForSearch!=null){let a=e.getKeyForSearch(i.search,t.focusedKey);a==null&&(a=e.getKeyForSearch(i.search)),a!=null&&(t.setFocusedKey(a),l&&l(a))}clearTimeout(i.timeout),i.timeout=setTimeout(()=>{i.search=""},Zt)}};return{typeSelectProps:{onKeyDownCapture:e.getKeyForSearch?r:void 0}}}function _t(n){return n.length===1||!/^[A-Z]/i.test(n)?n:""}function yl(n){let{selectionManager:e,keyboardDelegate:t,ref:l,autoFocus:i=!1,shouldFocusWrap:r=!1,disallowEmptySelection:o=!1,disallowSelectAll:s=!1,selectOnFocus:a=e.selectionBehavior==="replace",disallowTypeAhead:u=!1,shouldUseVirtualFocus:c,allowsTabNavigation:f=!1,isVirtualized:y,scrollRef:v=l,linkBehavior:m="action"}=n,{direction:C}=pt(),$=Xe(),g=p=>{var S;if(p.altKey&&p.key==="Tab"&&p.preventDefault(),!(!((S=l.current)===null||S===void 0)&&S.contains(p.target)))return;const k=(b,Y)=>{if(b!=null){if(e.isLink(b)&&m==="selection"&&a&&!we(p)){var H;Je.exports.flushSync(()=>{e.setFocusedKey(b,Y)});let Pe=(H=v.current)===null||H===void 0?void 0:H.querySelector(`[data-key="${CSS.escape(b.toString())}"]`),Ne=e.getItemProps(b);Pe&&$.open(Pe,p,Ne.href,Ne.routerOptions);return}if(e.setFocusedKey(b,Y),e.isLink(b)&&m==="override")return;p.shiftKey&&e.selectionMode==="multiple"?e.extendSelection(b):a&&!we(p)&&e.replaceSelection(b)}};switch(p.key){case"ArrowDown":if(t.getKeyBelow){var T,R,d;let b=e.focusedKey!=null?(T=t.getKeyBelow)===null||T===void 0?void 0:T.call(t,e.focusedKey):(R=t.getFirstKey)===null||R===void 0?void 0:R.call(t);b==null&&r&&(b=(d=t.getFirstKey)===null||d===void 0?void 0:d.call(t,e.focusedKey)),b!=null&&(p.preventDefault(),k(b))}break;case"ArrowUp":if(t.getKeyAbove){var D,W,oe;let b=e.focusedKey!=null?(D=t.getKeyAbove)===null||D===void 0?void 0:D.call(t,e.focusedKey):(W=t.getLastKey)===null||W===void 0?void 0:W.call(t);b==null&&r&&(b=(oe=t.getLastKey)===null||oe===void 0?void 0:oe.call(t,e.focusedKey)),b!=null&&(p.preventDefault(),k(b))}break;case"ArrowLeft":if(t.getKeyLeftOf){var se,ae,ue;let b=e.focusedKey!=null?(se=t.getKeyLeftOf)===null||se===void 0?void 0:se.call(t,e.focusedKey):null;b==null&&r&&(b=C==="rtl"?(ae=t.getFirstKey)===null||ae===void 0?void 0:ae.call(t,e.focusedKey):(ue=t.getLastKey)===null||ue===void 0?void 0:ue.call(t,e.focusedKey)),b!=null&&(p.preventDefault(),k(b,C==="rtl"?"first":"last"))}break;case"ArrowRight":if(t.getKeyRightOf){var ce,de,fe;let b=e.focusedKey!=null?(ce=t.getKeyRightOf)===null||ce===void 0?void 0:ce.call(t,e.focusedKey):null;b==null&&r&&(b=C==="rtl"?(de=t.getLastKey)===null||de===void 0?void 0:de.call(t,e.focusedKey):(fe=t.getFirstKey)===null||fe===void 0?void 0:fe.call(t,e.focusedKey)),b!=null&&(p.preventDefault(),k(b,C==="rtl"?"last":"first"))}break;case"Home":if(t.getFirstKey){if(e.focusedKey===null&&p.shiftKey)return;p.preventDefault();let b=t.getFirstKey(e.focusedKey,Z(p));e.setFocusedKey(b),b!=null&&(Z(p)&&p.shiftKey&&e.selectionMode==="multiple"?e.extendSelection(b):a&&e.replaceSelection(b))}break;case"End":if(t.getLastKey){if(e.focusedKey===null&&p.shiftKey)return;p.preventDefault();let b=t.getLastKey(e.focusedKey,Z(p));e.setFocusedKey(b),b!=null&&(Z(p)&&p.shiftKey&&e.selectionMode==="multiple"?e.extendSelection(b):a&&e.replaceSelection(b))}break;case"PageDown":if(t.getKeyPageBelow&&e.focusedKey!=null){let b=t.getKeyPageBelow(e.focusedKey);b!=null&&(p.preventDefault(),k(b))}break;case"PageUp":if(t.getKeyPageAbove&&e.focusedKey!=null){let b=t.getKeyPageAbove(e.focusedKey);b!=null&&(p.preventDefault(),k(b))}break;case"a":Z(p)&&e.selectionMode==="multiple"&&s!==!0&&(p.preventDefault(),e.selectAll());break;case"Escape":!o&&e.selectedKeys.size!==0&&(p.stopPropagation(),p.preventDefault(),e.clearSelection());break;case"Tab":if(!f){if(p.shiftKey)l.current.focus();else{let b=B(l.current,{tabbable:!0}),Y,H;do H=b.lastChild(),H&&(Y=H);while(H);Y&&!Y.contains(document.activeElement)&&Me(Y)}break}}},E=h.exports.useRef({top:0,left:0});ne(v,"scroll",y?void 0:()=>{var p,S,k,T;E.current={top:(k=(p=v.current)===null||p===void 0?void 0:p.scrollTop)!==null&&k!==void 0?k:0,left:(T=(S=v.current)===null||S===void 0?void 0:S.scrollLeft)!==null&&T!==void 0?T:0}});let K=p=>{if(e.isFocused){p.currentTarget.contains(p.target)||e.setFocused(!1);return}if(!!p.currentTarget.contains(p.target)){if(e.setFocused(!0),e.focusedKey==null){var S,k;let d=W=>{W!=null&&(e.setFocusedKey(W),a&&e.replaceSelection(W))},D=p.relatedTarget;var T,R;D&&p.currentTarget.compareDocumentPosition(D)&Node.DOCUMENT_POSITION_FOLLOWING?d((T=e.lastSelectedKey)!==null&&T!==void 0?T:(S=t.getLastKey)===null||S===void 0?void 0:S.call(t)):d((R=e.firstSelectedKey)!==null&&R!==void 0?R:(k=t.getFirstKey)===null||k===void 0?void 0:k.call(t))}else!y&&v.current&&(v.current.scrollTop=E.current.top,v.current.scrollLeft=E.current.left);if(e.focusedKey!=null&&v.current){let d=v.current.querySelector(`[data-key="${CSS.escape(e.focusedKey.toString())}"]`);d&&(d.contains(document.activeElement)||Me(d),$e()==="keyboard"&&Ae(d,{containingElement:l.current}))}}},N=p=>{p.currentTarget.contains(p.relatedTarget)||e.setFocused(!1)},M=h.exports.useRef(!1);ne(l,xt,c?p=>{let{detail:S}=p;p.stopPropagation(),e.setFocused(!0),(S==null?void 0:S.focusStrategy)==="first"&&(M.current=!0)}:void 0);let q=me(()=>{var p,S;let k=(S=(p=t.getFirstKey)===null||p===void 0?void 0:p.call(t))!==null&&S!==void 0?S:null;if(k==null){var T;(T=l.current)===null||T===void 0||T.dispatchEvent(new CustomEvent(Qe,{cancelable:!0,bubbles:!0})),e.collection.size>0&&(M.current=!1)}else e.setFocusedKey(k),M.current=!1});Fe(()=>{M.current&&q()},[e.collection,q]);let O=me(()=>{e.collection.size>0&&(M.current=!1)});Fe(()=>{O()},[e.focusedKey,O]),ne(l,St,c?p=>{p.stopPropagation(),e.setFocused(!1),e.setFocusedKey(null)}:void 0);const F=h.exports.useRef(i);h.exports.useEffect(()=>{if(F.current){var p,S;let R=null;var k;i==="first"&&(R=(k=(p=t.getFirstKey)===null||p===void 0?void 0:p.call(t))!==null&&k!==void 0?k:null);var T;i==="last"&&(R=(T=(S=t.getLastKey)===null||S===void 0?void 0:S.call(t))!==null&&T!==void 0?T:null);let d=e.selectedKeys;if(d.size){for(let D of d)if(e.canSelectItem(D)){R=D;break}}e.setFocused(!0),e.setFocusedKey(R),R==null&&!c&&l.current&&ie(l.current)}},[]);let J=h.exports.useRef(e.focusedKey);h.exports.useEffect(()=>{if(e.isFocused&&e.focusedKey!=null&&(e.focusedKey!==J.current||F.current)&&v.current&&l.current){let p=$e(),S=l.current.querySelector(`[data-key="${CSS.escape(e.focusedKey.toString())}"]`);if(!S)return;(p==="keyboard"||F.current)&&(Ze(v.current,S),p!=="virtual"&&Ae(S,{containingElement:l.current}))}!c&&e.isFocused&&e.focusedKey==null&&J.current!=null&&l.current&&ie(l.current),J.current=e.focusedKey,F.current=!1}),ne(l,"react-aria-focus-scope-restore",p=>{p.preventDefault(),e.setFocused(!0)});let j={onKeyDown:g,onFocus:K,onBlur:N,onMouseDown(p){v.current===p.target&&p.preventDefault()}},{typeSelectProps:V}=Qt({keyboardDelegate:t,selectionManager:e});u||(j=Ce(V,j));let _;return c?_=-1:_=e.focusedKey==null?0:-1,{collectionProps:{...j,tabIndex:_}}}function bl(n){let{id:e,selectionManager:t,key:l,ref:i,shouldSelectOnPressUp:r,shouldUseVirtualFocus:o,focus:s,isDisabled:a,onAction:u,allowsDifferentPressOrigin:c,linkBehavior:f="action"}=n,y=Xe();e=He(e);let v=d=>{if(d.pointerType==="keyboard"&&we(d))t.toggleSelection(l);else{if(t.selectionMode==="none")return;if(t.isLink(l)){if(f==="selection"&&i.current){let D=t.getItemProps(l);y.open(i.current,d,D.href,D.routerOptions),t.setSelectedKeys(t.selectedKeys);return}else if(f==="override"||f==="none")return}t.selectionMode==="single"?t.isSelected(l)&&!t.disallowEmptySelection?t.toggleSelection(l):t.replaceSelection(l):d&&d.shiftKey?t.extendSelection(l):t.selectionBehavior==="toggle"||d&&(Z(d)||d.pointerType==="touch"||d.pointerType==="virtual")?t.toggleSelection(l):t.replaceSelection(l)}};h.exports.useEffect(()=>{if(l===t.focusedKey&&t.isFocused)if(!o)s?s():document.activeElement!==i.current&&i.current&&ie(i.current);else{var D;let W=new CustomEvent(Qe,{cancelable:!0,bubbles:!0});(D=i.current)===null||D===void 0||D.dispatchEvent(W)}},[i,l,t.focusedKey,t.childFocusStrategy,t.isFocused,o]),a=a||t.isDisabled(l);let m={};!o&&!a?m={tabIndex:l===t.focusedKey?0:-1,onFocus(d){d.target===i.current&&t.setFocusedKey(l)}}:a&&(m.onMouseDown=d=>{d.preventDefault()});let C=t.isLink(l)&&f==="override",$=t.isLink(l)&&f!=="selection"&&f!=="none",g=!a&&t.canSelectItem(l)&&!C,E=(u||$)&&!a,K=E&&(t.selectionBehavior==="replace"?!g:!g||t.isEmpty),N=E&&g&&t.selectionBehavior==="replace",M=K||N,q=h.exports.useRef(null),O=M&&g,F=h.exports.useRef(!1),J=h.exports.useRef(!1),j=d=>{if(u&&u(),$&&i.current){let D=t.getItemProps(l);y.open(i.current,d,D.href,D.routerOptions)}},V={};r?(V.onPressStart=d=>{q.current=d.pointerType,F.current=O,d.pointerType==="keyboard"&&(!M||Oe())&&v(d)},c?(V.onPressUp=K?void 0:d=>{d.pointerType==="mouse"&&g&&v(d)},V.onPress=K?j:d=>{d.pointerType!=="keyboard"&&d.pointerType!=="mouse"&&g&&v(d)}):V.onPress=d=>{if(K||N&&d.pointerType!=="mouse"){if(d.pointerType==="keyboard"&&!Ue())return;j(d)}else d.pointerType!=="keyboard"&&g&&v(d)}):(V.onPressStart=d=>{q.current=d.pointerType,F.current=O,J.current=K,g&&(d.pointerType==="mouse"&&!K||d.pointerType==="keyboard"&&(!E||Oe()))&&v(d)},V.onPress=d=>{(d.pointerType==="touch"||d.pointerType==="pen"||d.pointerType==="virtual"||d.pointerType==="keyboard"&&M&&Ue()||d.pointerType==="mouse"&&J.current)&&(M?j(d):g&&v(d))}),m["data-key"]=l,V.preventFocusOnPress=o;let{pressProps:_,isPressed:p}=Ye(V),S=N?d=>{q.current==="mouse"&&(d.stopPropagation(),d.preventDefault(),j(d))}:void 0,{longPressProps:k}=Ot({isDisabled:!O,onLongPress(d){d.pointerType==="touch"&&(v(d),t.setSelectionBehavior("toggle"))}}),T=d=>{q.current==="touch"&&F.current&&d.preventDefault()},R=t.isLink(l)?d=>{vt.isOpening||d.preventDefault()}:void 0;return{itemProps:Ce(m,g||K?_:{},O?k:{},{onDoubleClick:S,onDragStartCapture:T,onClick:R,id:e}),isPressed:p,isSelected:t.isSelected(l),isFocused:t.isFocused&&t.focusedKey===l,isDisabled:a,allowsSelection:g,hasAction:M}}function Ue(){let n=window.event;return(n==null?void 0:n.key)==="Enter"}function Oe(){let n=window.event;return(n==null?void 0:n.key)===" "||(n==null?void 0:n.code)==="Space"}class el{build(e,t){return this.context=t,Ve(()=>this.iterateCollection(e))}*iterateCollection(e){let{children:t,items:l}=e;if(x.isValidElement(t)&&t.type===x.Fragment)yield*this.iterateCollection({children:t.props.children,items:l});else if(typeof t=="function"){if(!l)throw new Error("props.children was a function but props.items is missing");let i=0;for(let r of l)yield*this.getFullNode({value:r,index:i},{renderer:t}),i++}else{let i=[];x.Children.forEach(t,o=>{o&&i.push(o)});let r=0;for(let o of i){let s=this.getFullNode({element:o,index:r},{});for(let a of s)r++,yield a}}}getKey(e,t,l,i){if(e.key!=null)return e.key;if(t.type==="cell"&&t.key!=null)return`${i}${t.key}`;let r=t.value;if(r!=null){var o;let s=(o=r.key)!==null&&o!==void 0?o:r.id;if(s==null)throw new Error("No key found for item");return s}return i?`${i}.${t.index}`:`$.${t.index}`}getChildState(e,t){return{renderer:t.renderer||e.renderer}}*getFullNode(e,t,l,i){if(x.isValidElement(e.element)&&e.element.type===x.Fragment){let $=[];x.Children.forEach(e.element.props.children,E=>{$.push(E)});var r;let g=(r=e.index)!==null&&r!==void 0?r:0;for(const E of $)yield*this.getFullNode({element:E,index:g++},t,l,i);return}let o=e.element;if(!o&&e.value&&t&&t.renderer){let $=this.cache.get(e.value);if($&&(!$.shouldInvalidate||!$.shouldInvalidate(this.context))){$.index=e.index,$.parentKey=i?i.key:null,yield $;return}o=t.renderer(e.value)}if(x.isValidElement(o)){let $=o.type;if(typeof $!="function"&&typeof $.getCollectionNode!="function"){let N=o.type;throw new Error(`Unknown element <${N}> in collection.`)}let g=$.getCollectionNode(o.props,this.context);var s;let E=(s=e.index)!==null&&s!==void 0?s:0,K=g.next();for(;!K.done&&K.value;){let N=K.value;e.index=E;var a;let M=(a=N.key)!==null&&a!==void 0?a:null;M==null&&(M=N.element?null:this.getKey(o,e,t,l));let O=[...this.getFullNode({...N,key:M,index:E,wrapper:tl(e.wrapper,N.wrapper)},this.getChildState(t,N),l?`${l}${o.key}`:o.key,i)];for(let F of O){var u,c;F.value=(c=(u=N.value)!==null&&u!==void 0?u:e.value)!==null&&c!==void 0?c:null,F.value&&this.cache.set(F.value,F);var f;if(e.type&&F.type!==e.type)throw new Error(`Unsupported type <${ye(F.type)}> in <${ye((f=i==null?void 0:i.type)!==null&&f!==void 0?f:"unknown parent type")}>. Only <${ye(e.type)}> is supported.`);E++,yield F}K=g.next(O)}return}if(e.key==null||e.type==null)return;let y=this;var v,m;let C={type:e.type,props:e.props,key:e.key,parentKey:i?i.key:null,value:(v=e.value)!==null&&v!==void 0?v:null,level:i?i.level+1:0,index:e.index,rendered:e.rendered,textValue:(m=e.textValue)!==null&&m!==void 0?m:"","aria-label":e["aria-label"],wrapper:e.wrapper,shouldInvalidate:e.shouldInvalidate,hasChildNodes:e.hasChildNodes||!1,childNodes:Ve(function*(){if(!e.hasChildNodes||!e.childNodes)return;let $=0;for(let g of e.childNodes()){g.key!=null&&(g.key=`${C.key}${g.key}`);let E=y.getFullNode({...g,index:$},y.getChildState(t,g),C.key,C);for(let K of E)$++,yield K}})};yield C}constructor(){this.cache=new WeakMap}}function Ve(n){let e=[],t=null;return{*[Symbol.iterator](){for(let l of e)yield l;t||(t=n());for(let l of t)e.push(l),yield l}}}function tl(n,e){if(n&&e)return t=>n(e(t));if(n)return n;if(e)return e}function ye(n){return n[0].toUpperCase()+n.slice(1)}function ml(n,e,t){let l=h.exports.useMemo(()=>new el,[]),{children:i,items:r,collection:o}=n;return h.exports.useMemo(()=>{if(o)return o;let a=l.build({children:i,items:r},t);return e(a)},[l,i,r,o,t,e])}function ll(n,e){return typeof e.getChildren=="function"?e.getChildren(n.key):n.childNodes}function nl(n){return il(n,0)}function il(n,e){if(e<0)return;let t=0;for(let l of n){if(t===e)return l;t++}}function be(n,e,t){if(e.parentKey===t.parentKey)return e.index-t.index;let l=[...We(n,e),e],i=[...We(n,t),t],r=l.slice(0,i.length).findIndex((o,s)=>o!==i[s]);return r!==-1?(e=l[r],t=i[r],e.index-t.index):l.findIndex(o=>o===t)>=0?1:(i.findIndex(o=>o===e)>=0,-1)}function We(n,e){let t=[],l=e;for(;(l==null?void 0:l.parentKey)!=null;)l=n.getItem(l.parentKey),l&&t.unshift(l);return t}class U extends Set{constructor(e,t,l){super(e),e instanceof U?(this.anchorKey=t!=null?t:e.anchorKey,this.currentKey=l!=null?l:e.currentKey):(this.anchorKey=t!=null?t:null,this.currentKey=l!=null?l:null)}}function rl(n,e){if(n.size!==e.size)return!1;for(let t of n)if(!e.has(t))return!1;return!0}function $l(n){let{selectionMode:e="none",disallowEmptySelection:t=!1,allowDuplicateSelectionEvents:l,selectionBehavior:i="toggle",disabledBehavior:r="all"}=n,o=h.exports.useRef(!1),[,s]=h.exports.useState(!1),a=h.exports.useRef(null),u=h.exports.useRef(null),[,c]=h.exports.useState(null),f=h.exports.useMemo(()=>qe(n.selectedKeys),[n.selectedKeys]),y=h.exports.useMemo(()=>qe(n.defaultSelectedKeys,new U),[n.defaultSelectedKeys]),[v,m]=yt(f,y,n.onSelectionChange),C=h.exports.useMemo(()=>n.disabledKeys?new Set(n.disabledKeys):new Set,[n.disabledKeys]),[$,g]=h.exports.useState(i);i==="replace"&&$==="toggle"&&typeof v=="object"&&v.size===0&&g("replace");let E=h.exports.useRef(i);return h.exports.useEffect(()=>{i!==E.current&&(g(i),E.current=i)},[i]),{selectionMode:e,disallowEmptySelection:t,selectionBehavior:$,setSelectionBehavior:g,get isFocused(){return o.current},setFocused(K){o.current=K,s(K)},get focusedKey(){return a.current},get childFocusStrategy(){return u.current},setFocusedKey(K,N="first"){a.current=K,u.current=N,c(K)},selectedKeys:v,setSelectedKeys(K){(l||!rl(K,v))&&m(K)},disabledKeys:C,disabledBehavior:r}}function qe(n,e){return n?n==="all"?"all":new U(n):e}class gl{get selectionMode(){return this.state.selectionMode}get disallowEmptySelection(){return this.state.disallowEmptySelection}get selectionBehavior(){return this.state.selectionBehavior}setSelectionBehavior(e){this.state.setSelectionBehavior(e)}get isFocused(){return this.state.isFocused}setFocused(e){this.state.setFocused(e)}get focusedKey(){return this.state.focusedKey}get childFocusStrategy(){return this.state.childFocusStrategy}setFocusedKey(e,t){(e==null||this.collection.getItem(e))&&this.state.setFocusedKey(e,t)}get selectedKeys(){return this.state.selectedKeys==="all"?new Set(this.getSelectAllKeys()):this.state.selectedKeys}get rawSelection(){return this.state.selectedKeys}isSelected(e){if(this.state.selectionMode==="none")return!1;let t=this.getKey(e);return t==null?!1:this.state.selectedKeys==="all"?this.canSelectItem(t):this.state.selectedKeys.has(t)}get isEmpty(){return this.state.selectedKeys!=="all"&&this.state.selectedKeys.size===0}get isSelectAll(){if(this.isEmpty)return!1;if(this.state.selectedKeys==="all")return!0;if(this._isSelectAll!=null)return this._isSelectAll;let e=this.getSelectAllKeys(),t=this.state.selectedKeys;return this._isSelectAll=e.every(l=>t.has(l)),this._isSelectAll}get firstSelectedKey(){let e=null;for(let l of this.state.selectedKeys){let i=this.collection.getItem(l);(!e||i&&be(this.collection,i,e)<0)&&(e=i)}var t;return(t=e==null?void 0:e.key)!==null&&t!==void 0?t:null}get lastSelectedKey(){let e=null;for(let l of this.state.selectedKeys){let i=this.collection.getItem(l);(!e||i&&be(this.collection,i,e)>0)&&(e=i)}var t;return(t=e==null?void 0:e.key)!==null&&t!==void 0?t:null}get disabledKeys(){return this.state.disabledKeys}get disabledBehavior(){return this.state.disabledBehavior}extendSelection(e){if(this.selectionMode==="none")return;if(this.selectionMode==="single"){this.replaceSelection(e);return}let t=this.getKey(e);if(t==null)return;let l;if(this.state.selectedKeys==="all")l=new U([t],t,t);else{let o=this.state.selectedKeys;var i;let s=(i=o.anchorKey)!==null&&i!==void 0?i:t;l=new U(o,s,t);var r;for(let a of this.getKeyRange(s,(r=o.currentKey)!==null&&r!==void 0?r:t))l.delete(a);for(let a of this.getKeyRange(t,s))this.canSelectItem(a)&&l.add(a)}this.state.setSelectedKeys(l)}getKeyRange(e,t){let l=this.collection.getItem(e),i=this.collection.getItem(t);return l&&i?be(this.collection,l,i)<=0?this.getKeyRangeInternal(e,t):this.getKeyRangeInternal(t,e):[]}getKeyRangeInternal(e,t){var l;if(!((l=this.layoutDelegate)===null||l===void 0)&&l.getKeyRange)return this.layoutDelegate.getKeyRange(e,t);let i=[],r=e;for(;r!=null;){let o=this.collection.getItem(r);if(o&&(o.type==="item"||o.type==="cell"&&this.allowsCellSelection)&&i.push(r),r===t)return i;r=this.collection.getKeyAfter(r)}return[]}getKey(e){let t=this.collection.getItem(e);if(!t||t.type==="cell"&&this.allowsCellSelection)return e;for(;t&&t.type!=="item"&&t.parentKey!=null;)t=this.collection.getItem(t.parentKey);return!t||t.type!=="item"?null:t.key}toggleSelection(e){if(this.selectionMode==="none")return;if(this.selectionMode==="single"&&!this.isSelected(e)){this.replaceSelection(e);return}let t=this.getKey(e);if(t==null)return;let l=new U(this.state.selectedKeys==="all"?this.getSelectAllKeys():this.state.selectedKeys);l.has(t)?l.delete(t):this.canSelectItem(t)&&(l.add(t),l.anchorKey=t,l.currentKey=t),!(this.disallowEmptySelection&&l.size===0)&&this.state.setSelectedKeys(l)}replaceSelection(e){if(this.selectionMode==="none")return;let t=this.getKey(e);if(t==null)return;let l=this.canSelectItem(t)?new U([t],t,t):new U;this.state.setSelectedKeys(l)}setSelectedKeys(e){if(this.selectionMode==="none")return;let t=new U;for(let l of e){let i=this.getKey(l);if(i!=null&&(t.add(i),this.selectionMode==="single"))break}this.state.setSelectedKeys(t)}getSelectAllKeys(){let e=[],t=l=>{for(;l!=null;){if(this.canSelectItem(l)){var i;let o=this.collection.getItem(l);(o==null?void 0:o.type)==="item"&&e.push(l);var r;(o==null?void 0:o.hasChildNodes)&&(this.allowsCellSelection||o.type!=="item")&&t((r=(i=nl(ll(o,this.collection)))===null||i===void 0?void 0:i.key)!==null&&r!==void 0?r:null)}l=this.collection.getKeyAfter(l)}};return t(this.collection.getFirstKey()),e}selectAll(){!this.isSelectAll&&this.selectionMode==="multiple"&&this.state.setSelectedKeys("all")}clearSelection(){!this.disallowEmptySelection&&(this.state.selectedKeys==="all"||this.state.selectedKeys.size>0)&&this.state.setSelectedKeys(new U)}toggleSelectAll(){this.isSelectAll?this.clearSelection():this.selectAll()}select(e,t){this.selectionMode!=="none"&&(this.selectionMode==="single"?this.isSelected(e)&&!this.disallowEmptySelection?this.toggleSelection(e):this.replaceSelection(e):this.selectionBehavior==="toggle"||t&&(t.pointerType==="touch"||t.pointerType==="virtual")?this.toggleSelection(e):this.replaceSelection(e))}isSelectionEqual(e){if(e===this.state.selectedKeys)return!0;let t=this.selectedKeys;if(e.size!==t.size)return!1;for(let l of e)if(!t.has(l))return!1;for(let l of t)if(!e.has(l))return!1;return!0}canSelectItem(e){var t;if(this.state.selectionMode==="none"||this.state.disabledKeys.has(e))return!1;let l=this.collection.getItem(e);return!(!l||(l==null||(t=l.props)===null||t===void 0?void 0:t.isDisabled)||l.type==="cell"&&!this.allowsCellSelection)}isDisabled(e){var t,l;return this.state.disabledBehavior==="all"&&(this.state.disabledKeys.has(e)||!!(!((l=this.collection.getItem(e))===null||l===void 0||(t=l.props)===null||t===void 0)&&t.isDisabled))}isLink(e){var t,l;return!!(!((l=this.collection.getItem(e))===null||l===void 0||(t=l.props)===null||t===void 0)&&t.href)}getItemProps(e){var t;return(t=this.collection.getItem(e))===null||t===void 0?void 0:t.props}constructor(e,t,l){this.collection=e,this.state=t;var i;this.allowsCellSelection=(i=l==null?void 0:l.allowsCellSelection)!==null&&i!==void 0?i:!1,this._isSelectAll=null,this.layoutDelegate=(l==null?void 0:l.layoutDelegate)||null}}const Sl=h.exports.createContext(null),ol={CollectionRoot({collection:n,renderDropIndicator:e}){return je(n,null,e)},CollectionBranch({collection:n,parent:e,renderDropIndicator:t}){return je(n,e,t)}};function je(n,e,t){return et({items:e?n.getChildren(e.key):n,dependencies:[t],children(l){var i;let r=l.render(l);if(!t||l.type!=="item")return r;let o=l.key,s=n.getKeyAfter(o);return x.createElement(x.Fragment,null,t({type:"item",key:o,dropPosition:"before"}),r,(s==null||((i=n.getItem(s))===null||i===void 0?void 0:i.type)!=="item")&&t({type:"item",key:o,dropPosition:"after"}))}})}const xl=h.exports.createContext(ol);function Kl(n){return h.exports.useMemo(()=>n!=null?new Set([n]):null,[n])}export{B as $,bl as a,ul as b,yl as c,$l as d,ml as e,gl as f,fl as g,xl as h,Kl as i,dl as j,ol as k,cl as l,bt as m,pl as n,hl as o,ll as p,Ot as q,Sl as r,vl as s};
