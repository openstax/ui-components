import{R as c,j as a,F as S,a as o}from"./index.952a20c3.js";import{E as m}from"./ErrorBoundary.28216be6.js";import{E as Y}from"./contexts.44d51901.js";import{u as x}from"./hooks.9d3bd11a.js";import"./Error.c8b1c4f3.js";import"./MessageBox.bcee5680.js";import"./theme.ecc09727.js";import"./palette.15e4d008.js";import"./utils.e3275d2c.js";const k=({message:e,showEventId:r=!0})=>{var s;const{error:t}=c.useContext(Y);return a(S,{children:[e||((s=t==null?void 0:t.error)==null?void 0:s.message),r?o("div",{children:t==null?void 0:t.eventId}):null]})};var n={};Object.defineProperty(n,"__esModule",{value:!0});n.ConflictError=f=n.SessionExpiredError=n.NotFoundError=n.ForbiddenError=P=n.UnauthorizedError=n.ValidationError=n.InvalidRequestError=n.isAppError=void 0;const E=e=>r=>r instanceof Error&&r.constructor.TYPE===e.TYPE,y=e=>e instanceof Error&&typeof e.constructor.TYPE=="string";n.isAppError=y;class i extends Error{constructor(r){super(r||i.TYPE)}}n.InvalidRequestError=i;i.TYPE="InvalidRequestError";i.matches=E(i);class T extends Error{constructor(r){super(i.TYPE),this.data=r}getData(){return this.data}}n.ValidationError=T;T.TYPE="ValidationError";T.matches=E(T);class l extends Error{constructor(r){super(r||l.TYPE)}}var P=n.UnauthorizedError=l;l.TYPE="UnauthorizedError";l.matches=E(l);class u extends Error{constructor(r){super(r||u.TYPE)}}n.ForbiddenError=u;u.TYPE="ForbiddenError";u.matches=E(u);class d extends Error{constructor(r){super(r||d.TYPE)}}n.NotFoundError=d;d.TYPE="NotFoundError";d.matches=E(d);class h extends Error{constructor(r){super(r||h.TYPE)}}var f=n.SessionExpiredError=h;h.TYPE="SessionExpiredError";h.matches=E(h);class p extends Error{constructor(r){super(r||p.TYPE)}}n.ConflictError=p;p.TYPE="ConflictError";p.matches=E(p);const w=({doThrow:e,setShowError:r,error:t,errorMessage:s})=>(c.useEffect(()=>{if(e)throw r(!1),t instanceof Error?t:new Error(s||"Test Error")},[e,t,s,r]),null),b=()=>{const e=x();return o("button",{onClick:()=>{Promise.reject(Error("Test Error")).catch(e)},children:"Async Trigger Error Display"})},U=()=>{const[e,r]=c.useState(!1);return a(m,{children:[o(k,{}),o(w,{doThrow:e,setShowError:r}),o("button",{onClick:()=>{r(!0)},children:"Throw Error"}),o(b,{})]})},V=()=>{const[e,r]=c.useState(!1);return a(m,{renderFallback:!0,sentryDsn:"https://0@o0.ingest.sentry.io/0",children:[o(w,{doThrow:e,setShowError:r}),o("button",{onClick:()=>{r(!0)},children:"Throw Error"}),o(b,{})]})},q=()=>{const[e,r]=c.useState(!1);return a(m,{renderFallback:!0,fallback:t=>a(S,{children:[o("h2",{children:"This is a custom error fallback"}),o("p",{children:t&&t.error.toString()}),t&&t.resetError?o("button",{onClick:t&&t.resetError,children:"Reset"}):null]}),children:[o(w,{doThrow:e,setShowError:r}),o("button",{onClick:()=>{r(!0)},children:"Throw Error"}),o(b,{})]})},C=()=>{const e=x();return o("button",{onClick:()=>{(async()=>{try{throw new f}catch(r){e(r)}})()},children:"Async Throw Session Expired"})},B=()=>{const[e,r]=c.useState(!1),[t,s]=c.useState(!1);return a(m,{renderFallback:!0,children:[o(w,{doThrow:e,setShowError:r,error:new f}),o(w,{doThrow:t,setShowError:s,error:new P}),o("button",{onClick:()=>{r(!0)},children:"Throw SessionExpiredError"}),o("br",{}),o(C,{}),o("br",{}),o("button",{onClick:()=>{s(!0)},children:"Throw UnauthorizedError"})]})};typeof window<"u"&&window.document&&window.document.createElement&&document.documentElement.setAttribute("data-storyloaded","");export{q as Fallback_GenericError_Custom,V as Fallback_GenericError_Default,B as Fallback_SpecialError,U as InlineMessages};
