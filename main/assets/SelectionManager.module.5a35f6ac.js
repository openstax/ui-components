import{e as je,$ as M,o as He,p as _e,q as Pe,r as Ge,s as Fe,c as he,t as Ye,u as P,v as ee,w as Xe,x as Je,d as Ze,y as Re,z as me,A as ge,B as Qe,f as et}from"./context.module.c92214f5.js";import{r as f,R as S,b as Ae}from"./index.d946ceb7.js";class pe{get childNodes(){throw new Error("childNodes is not supported")}clone(){let e=new pe(this.type,this.key);return e.value=this.value,e.level=this.level,e.hasChildNodes=this.hasChildNodes,e.rendered=this.rendered,e.textValue=this.textValue,e["aria-label"]=this["aria-label"],e.index=this.index,e.parentKey=this.parentKey,e.prevKey=this.prevKey,e.nextKey=this.nextKey,e.firstChildKey=this.firstChildKey,e.lastChildKey=this.lastChildKey,e.props=this.props,e.render=this.render,e}constructor(e,t){this.value=null,this.level=0,this.hasChildNodes=!1,this.rendered=null,this.textValue="",this["aria-label"]=void 0,this.index=0,this.parentKey=null,this.prevKey=null,this.nextKey=null,this.firstChildKey=null,this.lastChildKey=null,this.props={},this.type=e,this.key=t}}class tt{get size(){return this.keyMap.size}getKeys(){return this.keyMap.keys()}*[Symbol.iterator](){let e=this.firstKey!=null?this.keyMap.get(this.firstKey):void 0;for(;e;)yield e,e=e.nextKey!=null?this.keyMap.get(e.nextKey):void 0}getChildren(e){let t=this.keyMap;return{*[Symbol.iterator](){let i=t.get(e),r=(i==null?void 0:i.firstChildKey)!=null?t.get(i.firstChildKey):null;for(;r;)yield r,r=r.nextKey!=null?t.get(r.nextKey):void 0}}}getKeyBefore(e){let t=this.keyMap.get(e);if(!t)return null;if(t.prevKey!=null){for(t=this.keyMap.get(t.prevKey);t&&t.type!=="item"&&t.lastChildKey!=null;)t=this.keyMap.get(t.lastChildKey);var i;return(i=t==null?void 0:t.key)!==null&&i!==void 0?i:null}return t.parentKey}getKeyAfter(e){let t=this.keyMap.get(e);if(!t)return null;if(t.type!=="item"&&t.firstChildKey!=null)return t.firstChildKey;for(;t;){if(t.nextKey!=null)return t.nextKey;if(t.parentKey!=null)t=this.keyMap.get(t.parentKey);else return null}return null}getFirstKey(){return this.firstKey}getLastKey(){let e=this.lastKey!=null?this.keyMap.get(this.lastKey):null;for(;(e==null?void 0:e.lastChildKey)!=null;)e=this.keyMap.get(e.lastChildKey);var t;return(t=e==null?void 0:e.key)!==null&&t!==void 0?t:null}getItem(e){var t;return(t=this.keyMap.get(e))!==null&&t!==void 0?t:null}at(){throw new Error("Not implemented")}clone(){let e=this.constructor,t=new e;return t.keyMap=new Map(this.keyMap),t.firstKey=this.firstKey,t.lastKey=this.lastKey,t}addNode(e){if(this.frozen)throw new Error("Cannot add a node to a frozen collection");this.keyMap.set(e.key,e)}removeNode(e){if(this.frozen)throw new Error("Cannot remove a node to a frozen collection");this.keyMap.delete(e)}commit(e,t,i=!1){if(this.frozen)throw new Error("Cannot commit a frozen collection");this.firstKey=e,this.lastKey=t,this.frozen=!i}constructor(){this.keyMap=new Map,this.firstKey=null,this.lastKey=null,this.frozen=!1}}class Le{*[Symbol.iterator](){let e=this.firstChild;for(;e;)yield e,e=e.nextSibling}get firstChild(){return this._firstChild}set firstChild(e){this._firstChild=e,this.ownerDocument.markDirty(this)}get lastChild(){return this._lastChild}set lastChild(e){this._lastChild=e,this.ownerDocument.markDirty(this)}get previousSibling(){return this._previousSibling}set previousSibling(e){this._previousSibling=e,this.ownerDocument.markDirty(this)}get nextSibling(){return this._nextSibling}set nextSibling(e){this._nextSibling=e,this.ownerDocument.markDirty(this)}get parentNode(){return this._parentNode}set parentNode(e){this._parentNode=e,this.ownerDocument.markDirty(this)}get isConnected(){var e;return((e=this.parentNode)===null||e===void 0?void 0:e.isConnected)||!1}appendChild(e){this.ownerDocument.startTransaction(),e.parentNode&&e.parentNode.removeChild(e),this.firstChild==null&&(this.firstChild=e),this.lastChild?(this.lastChild.nextSibling=e,e.index=this.lastChild.index+1,e.previousSibling=this.lastChild):(e.previousSibling=null,e.index=0),e.parentNode=this,e.nextSibling=null,this.lastChild=e,this.ownerDocument.markDirty(this),e.hasSetProps&&this.ownerDocument.addNode(e),this.ownerDocument.endTransaction(),this.ownerDocument.queueUpdate()}insertBefore(e,t){if(t==null)return this.appendChild(e);this.ownerDocument.startTransaction(),e.parentNode&&e.parentNode.removeChild(e),e.nextSibling=t,e.previousSibling=t.previousSibling,e.index=t.index,this.firstChild===t?this.firstChild=e:t.previousSibling&&(t.previousSibling.nextSibling=e),t.previousSibling=e,e.parentNode=t.parentNode;let i=t;for(;i;)i.index++,i=i.nextSibling;e.hasSetProps&&this.ownerDocument.addNode(e),this.ownerDocument.endTransaction(),this.ownerDocument.queueUpdate()}removeChild(e){if(e.parentNode!==this||!this.ownerDocument.isMounted)return;this.ownerDocument.startTransaction();let t=e.nextSibling;for(;t;)t.index--,t=t.nextSibling;e.nextSibling&&(e.nextSibling.previousSibling=e.previousSibling),e.previousSibling&&(e.previousSibling.nextSibling=e.nextSibling),this.firstChild===e&&(this.firstChild=e.nextSibling),this.lastChild===e&&(this.lastChild=e.previousSibling),e.parentNode=null,e.nextSibling=null,e.previousSibling=null,e.index=0,this.ownerDocument.removeNode(e),this.ownerDocument.endTransaction(),this.ownerDocument.queueUpdate()}addEventListener(){}removeEventListener(){}constructor(e){this._firstChild=null,this._lastChild=null,this._previousSibling=null,this._nextSibling=null,this._parentNode=null,this.ownerDocument=e}}class J extends Le{get index(){return this._index}set index(e){this._index=e,this.ownerDocument.markDirty(this)}get level(){return this.parentNode instanceof J?this.parentNode.level+(this.node.type==="item"?1:0):0}updateNode(){var e,t,i,r;let l=this.ownerDocument.getMutableNode(this);l.index=this.index,l.level=this.level,l.parentKey=this.parentNode instanceof J?this.parentNode.node.key:null;var o;l.prevKey=(o=(e=this.previousSibling)===null||e===void 0?void 0:e.node.key)!==null&&o!==void 0?o:null;var s;l.nextKey=(s=(t=this.nextSibling)===null||t===void 0?void 0:t.node.key)!==null&&s!==void 0?s:null,l.hasChildNodes=!!this.firstChild;var a;l.firstChildKey=(a=(i=this.firstChild)===null||i===void 0?void 0:i.node.key)!==null&&a!==void 0?a:null;var u;l.lastChildKey=(u=(r=this.lastChild)===null||r===void 0?void 0:r.node.key)!==null&&u!==void 0?u:null}setProps(e,t,i,r){let l=this.ownerDocument.getMutableNode(this),{value:o,textValue:s,id:a,...u}=e;if(u.ref=t,l.props=u,l.rendered=i,l.render=r,l.value=o,l.textValue=s||(typeof u.children=="string"?u.children:"")||e["aria-label"]||"",a!=null&&a!==l.key){if(this.hasSetProps)throw new Error("Cannot change the id of an item");l.key=a}this.hasSetProps||(this.ownerDocument.addNode(this),this.ownerDocument.endTransaction(),this.hasSetProps=!0),this.ownerDocument.queueUpdate()}get style(){return{}}hasAttribute(){}setAttribute(){}setAttributeNS(){}removeAttribute(){}constructor(e,t){super(t),this.nodeType=8,this._index=0,this.hasSetProps=!1,this.node=new pe(e,`react-aria-${++t.nodeId}`),this.ownerDocument.startTransaction()}}class nt extends Le{get isConnected(){return this.isMounted}createElement(e){return new J(e,this)}getMutableNode(e){let t=e.node;return this.mutatedNodes.has(e)||(t=e.node.clone(),this.mutatedNodes.add(e),e.node=t),this.markDirty(e),t}getMutableCollection(){return!this.isSSR&&!this.collectionMutated&&(this.collection=this.collection.clone(),this.collectionMutated=!0),this.collection}markDirty(e){this.dirtyNodes.add(e)}startTransaction(){this.transactionCount++}endTransaction(){this.transactionCount--}addNode(e){let t=this.getMutableCollection();if(!t.getItem(e.node.key)){t.addNode(e.node);for(let i of e)this.addNode(i)}this.markDirty(e)}removeNode(e){for(let i of e)this.removeNode(i);this.getMutableCollection().removeNode(e.node.key),this.markDirty(e)}getCollection(){return this.transactionCount>0?this.collection:(this.updateCollection(),this.collection)}updateCollection(){for(let l of this.dirtyNodes)l instanceof J&&l.isConnected&&l.updateNode();if(this.dirtyNodes.clear(),this.mutatedNodes.size||this.collectionMutated){var e,t;let l=this.getMutableCollection();for(let o of this.mutatedNodes)o.isConnected&&l.addNode(o.node);var i,r;l.commit((i=(e=this.firstChild)===null||e===void 0?void 0:e.node.key)!==null&&i!==void 0?i:null,(r=(t=this.lastChild)===null||t===void 0?void 0:t.node.key)!==null&&r!==void 0?r:null,this.isSSR),this.mutatedNodes.clear()}this.collectionMutated=!1}queueUpdate(){if(!(this.dirtyNodes.size===0||this.transactionCount>0))for(let e of this.subscriptions)e()}subscribe(e){return this.subscriptions.add(e),()=>this.subscriptions.delete(e)}resetAfterSSR(){this.isSSR&&(this.isSSR=!1,this.firstChild=null,this.lastChild=null,this.nodeId=0)}constructor(e){super(null),this.nodeType=11,this.ownerDocument=this,this.dirtyNodes=new Set,this.isSSR=!1,this.nodeId=0,this.nodesByProps=new WeakMap,this.isMounted=!0,this.mutatedNodes=new Set,this.subscriptions=new Set,this.transactionCount=0,this.collection=e,this.collectionMutated=!0}}function Ie(n){let{children:e,items:t,idScope:i,addIdAndValue:r,dependencies:l=[]}=n,o=f.exports.useMemo(()=>new WeakMap,l);return f.exports.useMemo(()=>{if(t&&typeof e=="function"){let u=[];for(let c of t){let p=o.get(c);if(!p){p=e(c);var s,a;let d=(a=(s=p.props.id)!==null&&s!==void 0?s:c.key)!==null&&a!==void 0?a:c.id;if(d==null)throw new Error("Could not determine key for item");i&&(d=i+":"+d),p=f.exports.cloneElement(p,r?{key:d,id:d,value:c}:{key:d}),o.set(c,p)}u.push(p)}return u}else if(typeof e!="function")return e},[e,t,o,i,r])}function _t(n,e){let{id:t,"aria-label":i,"aria-labelledby":r}=n;return t=je(t),r&&i?r=[...new Set([t,...r.trim().split(/\s+/)])].join(" "):r&&(r=r.trim().split(/\s+/).join(" ")),!i&&!r&&e&&(i=e),{id:t,"aria-label":i,"aria-labelledby":r}}function it(n,e){let t=window.getComputedStyle(n),i=/(auto|scroll)/.test(t.overflow+t.overflowX+t.overflowY);return i&&e&&(i=n.scrollHeight!==n.clientHeight||n.scrollWidth!==n.clientWidth),i}function rt(n,e){const t=[];for(;n&&n!==document.documentElement;)it(n,e)&&t.push(n),n=n.parentElement;return t}let lt=0;const re=new Map;function ot(n){let[e,t]=f.exports.useState();return M(()=>{if(!n)return;let i=re.get(n);if(i)t(i.element.id);else{let r=`react-aria-description-${lt++}`;t(r);let l=document.createElement("div");l.id=r,l.style.display="none",l.textContent=n,document.body.appendChild(l),i={refCount:0,element:l},re.set(n,i)}return i.refCount++,()=>{i&&--i.refCount===0&&(i.element.remove(),re.delete(n))}},[n]),{"aria-describedby":n?e:void 0}}function $e(n,e,t,i){let r=He(t),l=t==null;f.exports.useEffect(()=>{if(l||!n.current)return;let o=n.current;return o.addEventListener(e,r,i),()=>{o.removeEventListener(e,r,i)}},[n,e,i,l,r])}function Be(n,e){let t=Se(n,e,"left"),i=Se(n,e,"top"),r=e.offsetWidth,l=e.offsetHeight,o=n.scrollLeft,s=n.scrollTop,{borderTopWidth:a,borderLeftWidth:u}=getComputedStyle(n),c=n.scrollLeft+parseInt(u,10),p=n.scrollTop+parseInt(a,10),d=c+n.clientWidth,y=p+n.clientHeight;t<=o?o=t-parseInt(u,10):t+r>d&&(o+=t+r-d),i<=p?s=i-parseInt(a,10):i+l>y&&(s+=i+l-y),n.scrollLeft=o,n.scrollTop=s}function Se(n,e,t){const i=t==="left"?"offsetLeft":"offsetTop";let r=0;for(;e.offsetParent&&(r+=e[i],e.offsetParent!==n);){if(e.offsetParent.contains(n)){r-=n[i];break}e=e.offsetParent}return r}function xe(n,e){if(document.contains(n)){let o=document.scrollingElement||document.documentElement;if(window.getComputedStyle(o).overflow==="hidden"){let a=rt(n);for(let u of a)Be(u,n)}else{var t;let{left:a,top:u}=n.getBoundingClientRect();n==null||(t=n.scrollIntoView)===null||t===void 0||t.call(n,{block:"nearest"});let{left:c,top:p}=n.getBoundingClientRect();if(Math.abs(a-c)>1||Math.abs(u-p)>1){var i,r,l;e==null||(r=e.containingElement)===null||r===void 0||(i=r.scrollIntoView)===null||i===void 0||i.call(r,{block:"center",inline:"center"}),(l=n.scrollIntoView)===null||l===void 0||l.call(n,{block:"nearest"})}}}}var Oe={exports:{}},ze={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var G=f.exports;function st(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var at=typeof Object.is=="function"?Object.is:st,ut=G.useState,ct=G.useEffect,dt=G.useLayoutEffect,ft=G.useDebugValue;function ht(n,e){var t=e(),i=ut({inst:{value:t,getSnapshot:e}}),r=i[0].inst,l=i[1];return dt(function(){r.value=t,r.getSnapshot=e,le(r)&&l({inst:r})},[n,t,e]),ct(function(){return le(r)&&l({inst:r}),n(function(){le(r)&&l({inst:r})})},[n]),ft(t),t}function le(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!at(n,t)}catch{return!0}}function pt(n,e){return e()}var yt=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?pt:ht;ze.useSyncExternalStore=G.useSyncExternalStore!==void 0?G.useSyncExternalStore:yt;(function(n){n.exports=ze})(Oe);const Ue=f.exports.createContext(!1),Z=f.exports.createContext(null);function Gt(n){if(f.exports.useContext(Z))return n.content;let{collection:t,document:i}=gt(n.createCollection);return S.createElement(S.Fragment,null,S.createElement(_e,null,S.createElement(Z.Provider,{value:i},n.content)),S.createElement(vt,{render:n.children,collection:t}))}function vt({collection:n,render:e}){return e(n)}function bt(n,e,t){let i=Pe(),r=f.exports.useRef(i);r.current=i;let l=f.exports.useCallback(()=>r.current?t():e(),[e,t]);return Oe.exports.useSyncExternalStore(n,l)}const mt=typeof S.useSyncExternalStore=="function"?S.useSyncExternalStore:bt;function gt(n){let[e]=f.exports.useState(()=>new nt((n==null?void 0:n())||new tt)),t=f.exports.useCallback(o=>e.subscribe(o),[e]),i=f.exports.useCallback(()=>{let o=e.getCollection();return e.isSSR&&e.resetAfterSSR(),o},[e]),r=f.exports.useCallback(()=>(e.isSSR=!0,e.getCollection()),[e]),l=mt(t,i,r);return M(()=>(e.isMounted=!0,()=>{e.isMounted=!1}),[e]),{collection:l,document:e}}const ae=f.exports.createContext(null);function $t(n,e,t,i,r,l){let o=f.exports.useCallback(a=>{a==null||a.setProps(e,t,i,l)},[e,t,i,l]),s=f.exports.useContext(ae);if(s){let a=s.ownerDocument.nodesByProps.get(e);return a||(a=s.ownerDocument.createElement(n),a.setProps(e,t,i,l),s.appendChild(a),s.ownerDocument.updateCollection(),s.ownerDocument.nodesByProps.set(e,a)),r?S.createElement(ae.Provider,{value:a},r):null}return S.createElement(n,{ref:o},r)}function Yt(n,e){let t=({node:r})=>e(r.props,r.props.ref,r),i=f.exports.forwardRef((r,l)=>{if(!f.exports.useContext(Ue)){if(e.length>=3)throw new Error(e.name+" cannot be rendered outside a collection.");return e(r,l)}return $t(n,r,l,"children"in r?r.children:null,null,s=>S.createElement(t,{node:s}))});return i.displayName=e.name,i}function St(n){return Ie({...n,addIdAndValue:!0})}const Ke=f.exports.createContext(null);function Xt(n){let e=f.exports.useContext(Ke),t=((e==null?void 0:e.dependencies)||[]).concat(n.dependencies),i=n.idScope||(e==null?void 0:e.idScope),r=St({...n,idScope:i,dependencies:t});return f.exports.useContext(Z)&&(r=S.createElement(xt,null,r)),e=f.exports.useMemo(()=>({dependencies:t,idScope:i}),[i,...t]),S.createElement(Ke.Provider,{value:e},r)}function xt({children:n}){let e=f.exports.useContext(Z),t=f.exports.useMemo(()=>S.createElement(Z.Provider,{value:null},S.createElement(Ue.Provider,{value:!0},n)),[n]);return Pe()?S.createElement(ae.Provider,{value:e},t):Ae.exports.createPortal(t,e)}const Jt=f.exports.createContext(null),Kt={CollectionRoot({collection:n,renderDropIndicator:e}){return we(n,null,e)},CollectionBranch({collection:n,parent:e,renderDropIndicator:t}){return we(n,e,t)}};function we(n,e,t){return Ie({items:e?n.getChildren(e.key):n,dependencies:[t],children(i){var r;let l=i.render(i);if(!t||i.type!=="item")return l;let o=i.key,s=n.getKeyAfter(o);return S.createElement(S.Fragment,null,t({type:"item",key:o,dropPosition:"before"}),l,(s==null||((r=n.getItem(s))===null||r===void 0?void 0:r.type)!=="item")&&t({type:"item",key:o,dropPosition:"after"}))}})}const Zt=f.exports.createContext(Kt);function Qt(n){return f.exports.useMemo(()=>n!=null?new Set([n]):null,[n])}const wt=500;function Ct(n){let{isDisabled:e,onLongPressStart:t,onLongPressEnd:i,onLongPress:r,threshold:l=wt,accessibilityDescription:o}=n;const s=f.exports.useRef(void 0);let{addGlobalListener:a,removeGlobalListener:u}=Ge(),{pressProps:c}=Fe({isDisabled:e,onPressStart(d){if(d.continuePropagation(),(d.pointerType==="mouse"||d.pointerType==="touch")&&(t&&t({...d,type:"longpressstart"}),s.current=setTimeout(()=>{d.target.dispatchEvent(new PointerEvent("pointercancel",{bubbles:!0})),r&&r({...d,type:"longpress"}),s.current=void 0},l),d.pointerType==="touch")){let y=g=>{g.preventDefault()};a(d.target,"contextmenu",y,{once:!0}),a(window,"pointerup",()=>{setTimeout(()=>{u(d.target,"contextmenu",y)},30)},{once:!0})}},onPressEnd(d){s.current&&clearTimeout(s.current),i&&(d.pointerType==="mouse"||d.pointerType==="touch")&&i({...d,type:"longpressend"})}}),p=ot(r&&!e?o:void 0);return{longPressProps:he(c,p)}}function Et(n){const e=Ye(n);if(!(n instanceof e.HTMLElement)&&!(n instanceof e.SVGElement))return!1;let{display:t,visibility:i}=n.style,r=t!=="none"&&i!=="hidden"&&i!=="collapse";if(r){const{getComputedStyle:l}=n.ownerDocument.defaultView;let{display:o,visibility:s}=l(n);r=o!=="none"&&s!=="hidden"&&s!=="collapse"}return r}function Tt(n,e){return!n.hasAttribute("hidden")&&!n.hasAttribute("data-react-aria-prevent-focus")&&(n.nodeName==="DETAILS"&&e&&e.nodeName!=="SUMMARY"?n.hasAttribute("open"):!0)}function We(n,e){return n.nodeName!=="#comment"&&Et(n)&&Tt(n,e)&&(!n.parentElement||We(n.parentElement,n))}const Ce=S.createContext(null),ue="react-aria-focus-scope-restore";let $=null;function en(n){let{children:e,contain:t,restoreFocus:i,autoFocus:r}=n,l=f.exports.useRef(null),o=f.exports.useRef(null),s=f.exports.useRef([]),{parentNode:a}=f.exports.useContext(Ce)||{},u=f.exports.useMemo(()=>new de({scopeRef:s}),[s]);M(()=>{let d=a||x.root;if(x.getTreeNode(d.scopeRef)&&$&&!ne($,d.scopeRef)){let y=x.getTreeNode($);y&&(d=y)}d.addChild(u),x.addNode(u)},[u,a]),M(()=>{let d=x.getTreeNode(s);d&&(d.contain=!!t)},[t]),M(()=>{var d;let y=(d=l.current)===null||d===void 0?void 0:d.nextSibling,g=[],K=m=>m.stopPropagation();for(;y&&y!==o.current;)g.push(y),y.addEventListener(ue,K),y=y.nextSibling;return s.current=g,()=>{for(let m of g)m.removeEventListener(ue,K)}},[e]),Ft(s,i,t),Nt(s,t),At(s,i,t),Pt(s,r),f.exports.useEffect(()=>{const d=P(s.current?s.current[0]:void 0).activeElement;let y=null;if(C(d,s.current)){for(let g of x.traverse())g.scopeRef&&C(d,g.scopeRef.current)&&(y=g);y===x.getTreeNode(s)&&($=y.scopeRef)}},[s]),M(()=>()=>{var d,y,g;let K=(g=(y=x.getTreeNode(s))===null||y===void 0||(d=y.parent)===null||d===void 0?void 0:d.scopeRef)!==null&&g!==void 0?g:null;(s===$||ne(s,$))&&(!K||x.getTreeNode(K))&&($=K),x.removeTreeNode(s)},[s]);let c=f.exports.useMemo(()=>kt(s),[]),p=f.exports.useMemo(()=>({focusManager:c,parentNode:u}),[u,c]);return S.createElement(Ce.Provider,{value:p},S.createElement("span",{"data-focus-scope-start":!0,hidden:!0,ref:l}),e,S.createElement("span",{"data-focus-scope-end":!0,hidden:!0,ref:o}))}function kt(n){return{focusNext(e={}){let t=n.current,{from:i,tabbable:r,wrap:l,accept:o}=e,s=i||P(t[0]).activeElement,a=t[0].previousElementSibling,u=j(t),c=z(u,{tabbable:r,accept:o},t);c.currentNode=C(s,t)?s:a;let p=c.nextNode();return!p&&l&&(c.currentNode=a,p=c.nextNode()),p&&O(p,!0),p},focusPrevious(e={}){let t=n.current,{from:i,tabbable:r,wrap:l,accept:o}=e,s=i||P(t[0]).activeElement,a=t[t.length-1].nextElementSibling,u=j(t),c=z(u,{tabbable:r,accept:o},t);c.currentNode=C(s,t)?s:a;let p=c.previousNode();return!p&&l&&(c.currentNode=a,p=c.previousNode()),p&&O(p,!0),p},focusFirst(e={}){let t=n.current,{tabbable:i,accept:r}=e,l=j(t),o=z(l,{tabbable:i,accept:r},t);o.currentNode=t[0].previousElementSibling;let s=o.nextNode();return s&&O(s,!0),s},focusLast(e={}){let t=n.current,{tabbable:i,accept:r}=e,l=j(t),o=z(l,{tabbable:i,accept:r},t);o.currentNode=t[t.length-1].nextElementSibling;let s=o.previousNode();return s&&O(s,!0),s}}}const ye=["input:not([disabled]):not([type=hidden])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","a[href]","area[href]","summary","iframe","object","embed","audio[controls]","video[controls]","[contenteditable]"],Dt=ye.join(":not([hidden]),")+",[tabindex]:not([disabled]):not([hidden])";ye.push('[tabindex]:not([tabindex="-1"]):not([disabled])');const Mt=ye.join(':not([hidden]):not([tabindex="-1"]),');function j(n){return n[0].parentElement}function X(n){let e=x.getTreeNode($);for(;e&&e.scopeRef!==n;){if(e.contain)return!1;e=e.parent}return!0}function Nt(n,e){let t=f.exports.useRef(void 0),i=f.exports.useRef(void 0);M(()=>{let r=n.current;if(!e){i.current&&(cancelAnimationFrame(i.current),i.current=void 0);return}const l=P(r?r[0]:void 0);let o=u=>{if(u.key!=="Tab"||u.altKey||u.ctrlKey||u.metaKey||!X(n)||u.isComposing)return;let c=l.activeElement,p=n.current;if(!p||!C(c,p))return;let d=j(p),y=z(d,{tabbable:!0},p);if(!c)return;y.currentNode=c;let g=u.shiftKey?y.previousNode():y.nextNode();g||(y.currentNode=u.shiftKey?p[p.length-1].nextElementSibling:p[0].previousElementSibling,g=u.shiftKey?y.previousNode():y.nextNode()),u.preventDefault(),g&&O(g,!0)},s=u=>{(!$||ne($,n))&&C(u.target,n.current)?($=n,t.current=u.target):X(n)&&!te(u.target,n)?t.current?t.current.focus():$&&$.current&&ce($.current):X(n)&&(t.current=u.target)},a=u=>{i.current&&cancelAnimationFrame(i.current),i.current=requestAnimationFrame(()=>{if(l.activeElement&&X(n)&&!te(l.activeElement,n))if($=n,l.body.contains(u.target)){var c;t.current=u.target,(c=t.current)===null||c===void 0||c.focus()}else $.current&&ce($.current)})};return l.addEventListener("keydown",o,!1),l.addEventListener("focusin",s,!1),r==null||r.forEach(u=>u.addEventListener("focusin",s,!1)),r==null||r.forEach(u=>u.addEventListener("focusout",a,!1)),()=>{l.removeEventListener("keydown",o,!1),l.removeEventListener("focusin",s,!1),r==null||r.forEach(u=>u.removeEventListener("focusin",s,!1)),r==null||r.forEach(u=>u.removeEventListener("focusout",a,!1))}},[n,e]),M(()=>()=>{i.current&&cancelAnimationFrame(i.current)},[i])}function qe(n){return te(n)}function C(n,e){return!n||!e?!1:e.some(t=>t.contains(n))}function te(n,e=null){if(n instanceof Element&&n.closest("[data-react-aria-top-layer]"))return!0;for(let{scopeRef:t}of x.traverse(x.getTreeNode(e)))if(t&&C(n,t.current))return!0;return!1}function tn(n){return te(n,$)}function ne(n,e){var t;let i=(t=x.getTreeNode(e))===null||t===void 0?void 0:t.parent;for(;i;){if(i.scopeRef===n)return!0;i=i.parent}return!1}function O(n,e=!1){if(n!=null&&!e)try{ee(n)}catch{}else if(n!=null)try{n.focus()}catch{}}function Ve(n,e=!0){let t=n[0].previousElementSibling,i=j(n),r=z(i,{tabbable:e},n);r.currentNode=t;let l=r.nextNode();return e&&!l&&(i=j(n),r=z(i,{tabbable:!1},n),r.currentNode=t,l=r.nextNode()),l}function ce(n,e=!0){O(Ve(n,e))}function Pt(n,e){const t=S.useRef(e);f.exports.useEffect(()=>{if(t.current){$=n;const i=P(n.current?n.current[0]:void 0);!C(i.activeElement,$.current)&&n.current&&ce(n.current)}t.current=!1},[n])}function Ft(n,e,t){M(()=>{if(e||t)return;let i=n.current;const r=P(i?i[0]:void 0);let l=o=>{let s=o.target;C(s,n.current)?$=n:qe(s)||($=null)};return r.addEventListener("focusin",l,!1),i==null||i.forEach(o=>o.addEventListener("focusin",l,!1)),()=>{r.removeEventListener("focusin",l,!1),i==null||i.forEach(o=>o.removeEventListener("focusin",l,!1))}},[n,e,t])}function Rt(n){let e=x.getTreeNode($);for(;e&&e.scopeRef!==n;){if(e.nodeToRestore)return!1;e=e.parent}return(e==null?void 0:e.scopeRef)===n}function At(n,e,t){const i=f.exports.useRef(typeof document<"u"?P(n.current?n.current[0]:void 0).activeElement:null);M(()=>{let r=n.current;const l=P(r?r[0]:void 0);if(!e||t)return;let o=()=>{(!$||ne($,n))&&C(l.activeElement,n.current)&&($=n)};return l.addEventListener("focusin",o,!1),r==null||r.forEach(s=>s.addEventListener("focusin",o,!1)),()=>{l.removeEventListener("focusin",o,!1),r==null||r.forEach(s=>s.removeEventListener("focusin",o,!1))}},[n,t]),M(()=>{const r=P(n.current?n.current[0]:void 0);if(!e)return;let l=o=>{if(o.key!=="Tab"||o.altKey||o.ctrlKey||o.metaKey||!X(n)||o.isComposing)return;let s=r.activeElement;if(!C(s,n.current))return;let a=x.getTreeNode(n);if(!a)return;let u=a.nodeToRestore,c=z(r.body,{tabbable:!0});c.currentNode=s;let p=o.shiftKey?c.previousNode():c.nextNode();if((!u||!r.body.contains(u)||u===r.body)&&(u=void 0,a.nodeToRestore=void 0),(!p||!C(p,n.current))&&u){c.currentNode=u;do p=o.shiftKey?c.previousNode():c.nextNode();while(C(p,n.current));o.preventDefault(),o.stopPropagation(),p?O(p,!0):qe(u)?O(u,!0):s.blur()}};return t||r.addEventListener("keydown",l,!0),()=>{t||r.removeEventListener("keydown",l,!0)}},[n,e,t]),M(()=>{const r=P(n.current?n.current[0]:void 0);if(!e)return;let l=x.getTreeNode(n);if(!!l){var o;return l.nodeToRestore=(o=i.current)!==null&&o!==void 0?o:void 0,()=>{let s=x.getTreeNode(n);if(!s)return;let a=s.nodeToRestore;if(e&&a&&(C(r.activeElement,n.current)||r.activeElement===r.body&&Rt(n))){let u=x.clone();requestAnimationFrame(()=>{if(r.activeElement===r.body){let c=u.getTreeNode(n);for(;c;){if(c.nodeToRestore&&c.nodeToRestore.isConnected){Ee(c.nodeToRestore);return}c=c.parent}for(c=u.getTreeNode(n);c;){if(c.scopeRef&&c.scopeRef.current&&x.getTreeNode(c.scopeRef)){let p=Ve(c.scopeRef.current,!0);Ee(p);return}c=c.parent}}})}}}},[n,e])}function Ee(n){n.dispatchEvent(new CustomEvent(ue,{bubbles:!0,cancelable:!0}))&&O(n)}function z(n,e,t){let i=e!=null&&e.tabbable?Mt:Dt,r=P(n).createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode(l){var o;return!(e==null||(o=e.from)===null||o===void 0)&&o.contains(l)?NodeFilter.FILTER_REJECT:l.matches(i)&&We(l)&&(!t||C(l,t))&&(!(e!=null&&e.accept)||e.accept(l))?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});return e!=null&&e.from&&(r.currentNode=e.from),r}class ve{get size(){return this.fastMap.size}getTreeNode(e){return this.fastMap.get(e)}addTreeNode(e,t,i){let r=this.fastMap.get(t!=null?t:null);if(!r)return;let l=new de({scopeRef:e});r.addChild(l),l.parent=r,this.fastMap.set(e,l),i&&(l.nodeToRestore=i)}addNode(e){this.fastMap.set(e.scopeRef,e)}removeTreeNode(e){if(e===null)return;let t=this.fastMap.get(e);if(!t)return;let i=t.parent;for(let l of this.traverse())l!==t&&t.nodeToRestore&&l.nodeToRestore&&t.scopeRef&&t.scopeRef.current&&C(l.nodeToRestore,t.scopeRef.current)&&(l.nodeToRestore=t.nodeToRestore);let r=t.children;i&&(i.removeChild(t),r.size>0&&r.forEach(l=>i&&i.addChild(l))),this.fastMap.delete(t.scopeRef)}*traverse(e=this.root){if(e.scopeRef!=null&&(yield e),e.children.size>0)for(let t of e.children)yield*this.traverse(t)}clone(){var e;let t=new ve;var i;for(let r of this.traverse())t.addTreeNode(r.scopeRef,(i=(e=r.parent)===null||e===void 0?void 0:e.scopeRef)!==null&&i!==void 0?i:null,r.nodeToRestore);return t}constructor(){this.fastMap=new Map,this.root=new de({scopeRef:null}),this.fastMap.set(null,this.root)}}class de{addChild(e){this.children.add(e),e.parent=this}removeChild(e){this.children.delete(e),e.parent=void 0}constructor(e){this.children=new Set,this.contain=!1,this.scopeRef=e.scopeRef}}let x=new ve;function fe(n){return Xe()?n.altKey:n.ctrlKey}function _(n){return Je()?n.metaKey:n.ctrlKey}const Lt=1e3;function It(n){let{keyboardDelegate:e,selectionManager:t,onTypeSelect:i}=n,r=f.exports.useRef({search:"",timeout:null}).current,l=o=>{let s=Bt(o.key);if(!s||o.ctrlKey||o.metaKey||!o.currentTarget.contains(o.target))return;s===" "&&r.search.trim().length>0&&(o.preventDefault(),"continuePropagation"in o||o.stopPropagation()),r.search+=s;let a=e.getKeyForSearch(r.search,t.focusedKey);a==null&&(a=e.getKeyForSearch(r.search)),a!=null&&(t.setFocusedKey(a),i&&i(a)),clearTimeout(r.timeout),r.timeout=setTimeout(()=>{r.search=""},Lt)};return{typeSelectProps:{onKeyDownCapture:e.getKeyForSearch?l:null}}}function Bt(n){return n.length===1||!/^[A-Z]/i.test(n)?n:""}function nn(n){let{selectionManager:e,keyboardDelegate:t,ref:i,autoFocus:r=!1,shouldFocusWrap:l=!1,disallowEmptySelection:o=!1,disallowSelectAll:s=!1,selectOnFocus:a=e.selectionBehavior==="replace",disallowTypeAhead:u=!1,shouldUseVirtualFocus:c,allowsTabNavigation:p=!1,isVirtualized:d,scrollRef:y=i,linkBehavior:g="action"}=n,{direction:K}=Ze(),m=Re(),F=h=>{if(h.altKey&&h.key==="Tab"&&h.preventDefault(),!i.current.contains(h.target))return;const w=(b,V)=>{if(b!=null){if(e.isLink(b)&&g==="selection"&&a&&!fe(h)){Ae.exports.flushSync(()=>{e.setFocusedKey(b,V)});let H=y.current.querySelector(`[data-key="${CSS.escape(b.toString())}"]`),be=e.getItemProps(b);m.open(H,h,be.href,be.routerOptions);return}if(e.setFocusedKey(b,V),e.isLink(b)&&g==="override")return;h.shiftKey&&e.selectionMode==="multiple"?e.extendSelection(b):a&&!fe(h)&&e.replaceSelection(b)}};switch(h.key){case"ArrowDown":if(t.getKeyBelow){var D,k;h.preventDefault();let b=e.focusedKey!=null?t.getKeyBelow(e.focusedKey):(D=t.getFirstKey)===null||D===void 0?void 0:D.call(t);b==null&&l&&(b=(k=t.getFirstKey)===null||k===void 0?void 0:k.call(t,e.focusedKey)),w(b)}break;case"ArrowUp":if(t.getKeyAbove){var L,I;h.preventDefault();let b=e.focusedKey!=null?t.getKeyAbove(e.focusedKey):(L=t.getLastKey)===null||L===void 0?void 0:L.call(t);b==null&&l&&(b=(I=t.getLastKey)===null||I===void 0?void 0:I.call(t,e.focusedKey)),w(b)}break;case"ArrowLeft":if(t.getKeyLeftOf){var Y,v;h.preventDefault();let b=t.getKeyLeftOf(e.focusedKey);b==null&&l&&(b=K==="rtl"?(Y=t.getFirstKey)===null||Y===void 0?void 0:Y.call(t,e.focusedKey):(v=t.getLastKey)===null||v===void 0?void 0:v.call(t,e.focusedKey)),w(b,K==="rtl"?"first":"last")}break;case"ArrowRight":if(t.getKeyRightOf){var B,ie;h.preventDefault();let b=t.getKeyRightOf(e.focusedKey);b==null&&l&&(b=K==="rtl"?(B=t.getLastKey)===null||B===void 0?void 0:B.call(t,e.focusedKey):(ie=t.getFirstKey)===null||ie===void 0?void 0:ie.call(t,e.focusedKey)),w(b,K==="rtl"?"last":"first")}break;case"Home":if(t.getFirstKey){h.preventDefault();let b=t.getFirstKey(e.focusedKey,_(h));e.setFocusedKey(b),_(h)&&h.shiftKey&&e.selectionMode==="multiple"?e.extendSelection(b):a&&e.replaceSelection(b)}break;case"End":if(t.getLastKey){h.preventDefault();let b=t.getLastKey(e.focusedKey,_(h));e.setFocusedKey(b),_(h)&&h.shiftKey&&e.selectionMode==="multiple"?e.extendSelection(b):a&&e.replaceSelection(b)}break;case"PageDown":if(t.getKeyPageBelow){h.preventDefault();let b=t.getKeyPageBelow(e.focusedKey);w(b)}break;case"PageUp":if(t.getKeyPageAbove){h.preventDefault();let b=t.getKeyPageAbove(e.focusedKey);w(b)}break;case"a":_(h)&&e.selectionMode==="multiple"&&s!==!0&&(h.preventDefault(),e.selectAll());break;case"Escape":!o&&e.selectedKeys.size!==0&&(h.stopPropagation(),h.preventDefault(),e.clearSelection());break;case"Tab":if(!p){if(h.shiftKey)i.current.focus();else{let b=z(i.current,{tabbable:!0}),V,H;do H=b.lastChild(),H&&(V=H);while(H);V&&!V.contains(document.activeElement)&&ge(V)}break}}},E=f.exports.useRef({top:0,left:0});$e(y,"scroll",d?null:()=>{E.current={top:y.current.scrollTop,left:y.current.scrollLeft}});let T=h=>{if(e.isFocused){h.currentTarget.contains(h.target)||e.setFocused(!1);return}if(!!h.currentTarget.contains(h.target)){if(e.setFocused(!0),e.focusedKey==null){let k=I=>{I!=null&&(e.setFocusedKey(I),a&&e.replaceSelection(I))},L=h.relatedTarget;var w,D;L&&h.currentTarget.compareDocumentPosition(L)&Node.DOCUMENT_POSITION_FOLLOWING?k((w=e.lastSelectedKey)!==null&&w!==void 0?w:t.getLastKey()):k((D=e.firstSelectedKey)!==null&&D!==void 0?D:t.getFirstKey())}else d||(y.current.scrollTop=E.current.top,y.current.scrollLeft=E.current.left);if(e.focusedKey!=null){let k=y.current.querySelector(`[data-key="${CSS.escape(e.focusedKey.toString())}"]`);k&&(k.contains(document.activeElement)||ge(k),me()==="keyboard"&&xe(k,{containingElement:i.current}))}}},R=h=>{h.currentTarget.contains(h.relatedTarget)||e.setFocused(!1)};const A=f.exports.useRef(r);f.exports.useEffect(()=>{if(A.current){let h=null;r==="first"&&(h=t.getFirstKey()),r==="last"&&(h=t.getLastKey());let w=e.selectedKeys;if(w.size){for(let D of w)if(e.canSelectItem(D)){h=D;break}}e.setFocused(!0),e.setFocusedKey(h),h==null&&!c&&ee(i.current)}},[]);let U=f.exports.useRef(e.focusedKey);f.exports.useEffect(()=>{if(e.isFocused&&e.focusedKey!=null&&(e.focusedKey!==U.current||A.current)&&(y==null?void 0:y.current)){let h=me(),w=i.current.querySelector(`[data-key="${CSS.escape(e.focusedKey.toString())}"]`);if(!w)return;(h==="keyboard"||A.current)&&(Be(y.current,w),h!=="virtual"&&xe(w,{containingElement:i.current}))}e.isFocused&&e.focusedKey==null&&U.current!=null&&ee(i.current),U.current=e.focusedKey,A.current=!1}),$e(i,"react-aria-focus-scope-restore",h=>{h.preventDefault(),e.setFocused(!0)});let W={onKeyDown:F,onFocus:T,onBlur:R,onMouseDown(h){y.current===h.target&&h.preventDefault()}},{typeSelectProps:Q}=It({keyboardDelegate:t,selectionManager:e});u||(W=he(Q,W));let q;return c||(q=e.focusedKey==null?0:-1),{collectionProps:{...W,tabIndex:q}}}function rn(n){let{selectionManager:e,key:t,ref:i,shouldSelectOnPressUp:r,shouldUseVirtualFocus:l,focus:o,isDisabled:s,onAction:a,allowsDifferentPressOrigin:u,linkBehavior:c="action"}=n,p=Re(),d=v=>{if(v.pointerType==="keyboard"&&fe(v))e.toggleSelection(t);else{if(e.selectionMode==="none")return;if(e.isLink(t)){if(c==="selection"){let B=e.getItemProps(t);p.open(i.current,v,B.href,B.routerOptions),e.setSelectedKeys(e.selectedKeys);return}else if(c==="override"||c==="none")return}e.selectionMode==="single"?e.isSelected(t)&&!e.disallowEmptySelection?e.toggleSelection(t):e.replaceSelection(t):v&&v.shiftKey?e.extendSelection(t):e.selectionBehavior==="toggle"||v&&(_(v)||v.pointerType==="touch"||v.pointerType==="virtual")?e.toggleSelection(t):e.replaceSelection(t)}};f.exports.useEffect(()=>{t===e.focusedKey&&e.isFocused&&!l&&(o?o():document.activeElement!==i.current&&ee(i.current))},[i,t,e.focusedKey,e.childFocusStrategy,e.isFocused,l]),s=s||e.isDisabled(t);let y={};!l&&!s?y={tabIndex:t===e.focusedKey?0:-1,onFocus(v){v.target===i.current&&e.setFocusedKey(t)}}:s&&(y.onMouseDown=v=>{v.preventDefault()});let g=e.isLink(t)&&c==="override",K=e.isLink(t)&&c!=="selection"&&c!=="none",m=!s&&e.canSelectItem(t)&&!g,F=(a||K)&&!s,E=F&&(e.selectionBehavior==="replace"?!m:!m||e.isEmpty),T=F&&m&&e.selectionBehavior==="replace",R=E||T,A=f.exports.useRef(null),U=R&&m,W=f.exports.useRef(!1),Q=f.exports.useRef(!1),q=v=>{if(a&&a(),K){let B=e.getItemProps(t);p.open(i.current,v,B.href,B.routerOptions)}},h={};r?(h.onPressStart=v=>{A.current=v.pointerType,W.current=U,v.pointerType==="keyboard"&&(!R||ke())&&d(v)},u?(h.onPressUp=E?null:v=>{v.pointerType!=="keyboard"&&m&&d(v)},h.onPress=E?q:null):h.onPress=v=>{if(E||T&&v.pointerType!=="mouse"){if(v.pointerType==="keyboard"&&!Te())return;q(v)}else v.pointerType!=="keyboard"&&m&&d(v)}):(h.onPressStart=v=>{A.current=v.pointerType,W.current=U,Q.current=E,m&&(v.pointerType==="mouse"&&!E||v.pointerType==="keyboard"&&(!F||ke()))&&d(v)},h.onPress=v=>{(v.pointerType==="touch"||v.pointerType==="pen"||v.pointerType==="virtual"||v.pointerType==="keyboard"&&R&&Te()||v.pointerType==="mouse"&&Q.current)&&(R?q(v):m&&d(v))}),y["data-key"]=t,h.preventFocusOnPress=l;let{pressProps:w,isPressed:D}=Fe(h),k=T?v=>{A.current==="mouse"&&(v.stopPropagation(),v.preventDefault(),q(v))}:void 0,{longPressProps:L}=Ct({isDisabled:!U,onLongPress(v){v.pointerType==="touch"&&(d(v),e.setSelectionBehavior("toggle"))}}),I=v=>{A.current==="touch"&&W.current&&v.preventDefault()},Y=e.isLink(t)?v=>{Qe.isOpening||v.preventDefault()}:void 0;return{itemProps:he(y,m||E?w:{},U?L:{},{onDoubleClick:k,onDragStartCapture:I,onClick:Y}),isPressed:D,isSelected:e.isSelected(t),isFocused:e.isFocused&&e.focusedKey===t,isDisabled:s,allowsSelection:m,hasAction:R}}function Te(){let n=window.event;return(n==null?void 0:n.key)==="Enter"}function ke(){let n=window.event;return(n==null?void 0:n.key)===" "||(n==null?void 0:n.code)==="Space"}class Ot{build(e,t){return this.context=t,De(()=>this.iterateCollection(e))}*iterateCollection(e){let{children:t,items:i}=e;if(typeof t=="function"){if(!i)throw new Error("props.children was a function but props.items is missing");for(let r of e.items)yield*this.getFullNode({value:r},{renderer:t})}else{let r=[];S.Children.forEach(t,o=>{r.push(o)});let l=0;for(let o of r){let s=this.getFullNode({element:o,index:l},{});for(let a of s)l++,yield a}}}getKey(e,t,i,r){if(e.key!=null)return e.key;if(t.type==="cell"&&t.key!=null)return`${r}${t.key}`;let l=t.value;if(l!=null){var o;let s=(o=l.key)!==null&&o!==void 0?o:l.id;if(s==null)throw new Error("No key found for item");return s}return r?`${r}.${t.index}`:`$.${t.index}`}getChildState(e,t){return{renderer:t.renderer||e.renderer}}*getFullNode(e,t,i,r){let l=e.element;if(!l&&e.value&&t&&t.renderer){let a=this.cache.get(e.value);if(a&&(!a.shouldInvalidate||!a.shouldInvalidate(this.context))){a.index=e.index,a.parentKey=r?r.key:null,yield a;return}l=t.renderer(e.value)}if(S.isValidElement(l)){let a=l.type;if(typeof a!="function"&&typeof a.getCollectionNode!="function"){let d=typeof l.type=="function"?l.type.name:l.type;throw new Error(`Unknown element <${d}> in collection.`)}let u=a.getCollectionNode(l.props,this.context),c=e.index,p=u.next();for(;!p.done&&p.value;){let d=p.value;e.index=c;let y=d.key;y||(y=d.element?null:this.getKey(l,e,t,i));let K=[...this.getFullNode({...d,key:y,index:c,wrapper:zt(e.wrapper,d.wrapper)},this.getChildState(t,d),i?`${i}${l.key}`:l.key,r)];for(let m of K){if(m.value=d.value||e.value,m.value&&this.cache.set(m.value,m),e.type&&m.type!==e.type)throw new Error(`Unsupported type <${oe(m.type)}> in <${oe(r.type)}>. Only <${oe(e.type)}> is supported.`);c++,yield m}p=u.next(K)}return}if(e.key==null)return;let o=this,s={type:e.type,props:e.props,key:e.key,parentKey:r?r.key:null,value:e.value,level:r?r.level+1:0,index:e.index,rendered:e.rendered,textValue:e.textValue,"aria-label":e["aria-label"],wrapper:e.wrapper,shouldInvalidate:e.shouldInvalidate,hasChildNodes:e.hasChildNodes,childNodes:De(function*(){if(!e.hasChildNodes)return;let a=0;for(let u of e.childNodes()){u.key!=null&&(u.key=`${s.key}${u.key}`),u.index=a;let c=o.getFullNode(u,o.getChildState(t,u),s.key,s);for(let p of c)a++,yield p}})};yield s}constructor(){this.cache=new WeakMap}}function De(n){let e=[],t=null;return{*[Symbol.iterator](){for(let i of e)yield i;t||(t=n());for(let i of t)e.push(i),yield i}}}function zt(n,e){if(n&&e)return t=>n(e(t));if(n)return n;if(e)return e}function oe(n){return n[0].toUpperCase()+n.slice(1)}function ln(n,e,t){let i=f.exports.useMemo(()=>new Ot,[]),{children:r,items:l,collection:o}=n;return f.exports.useMemo(()=>{if(o)return o;let a=i.build({children:r,items:l},t);return e(a)},[i,r,l,o,t,e])}function Ut(n,e){return typeof e.getChildren=="function"?e.getChildren(n.key):n.childNodes}function Wt(n){return qt(n,0)}function qt(n,e){if(e<0)return;let t=0;for(let i of n){if(t===e)return i;t++}}function se(n,e,t){if(e.parentKey===t.parentKey)return e.index-t.index;let i=[...Me(n,e),e],r=[...Me(n,t),t],l=i.slice(0,r.length).findIndex((o,s)=>o!==r[s]);return l!==-1?(e=i[l],t=r[l],e.index-t.index):i.findIndex(o=>o===t)>=0?1:(r.findIndex(o=>o===e)>=0,-1)}function Me(n,e){let t=[];for(;(e==null?void 0:e.parentKey)!=null;)e=n.getItem(e.parentKey),t.unshift(e);return t}class N extends Set{constructor(e,t,i){super(e),e instanceof N?(this.anchorKey=t||e.anchorKey,this.currentKey=i||e.currentKey):(this.anchorKey=t,this.currentKey=i)}}function Vt(n,e){if(n.size!==e.size)return!1;for(let t of n)if(!e.has(t))return!1;return!0}function on(n){let{selectionMode:e="none",disallowEmptySelection:t,allowDuplicateSelectionEvents:i,selectionBehavior:r="toggle",disabledBehavior:l="all"}=n,o=f.exports.useRef(!1),[,s]=f.exports.useState(!1),a=f.exports.useRef(null),u=f.exports.useRef(null),[,c]=f.exports.useState(null),p=f.exports.useMemo(()=>Ne(n.selectedKeys),[n.selectedKeys]),d=f.exports.useMemo(()=>Ne(n.defaultSelectedKeys,new N),[n.defaultSelectedKeys]),[y,g]=et(p,d,n.onSelectionChange),K=f.exports.useMemo(()=>n.disabledKeys?new Set(n.disabledKeys):new Set,[n.disabledKeys]),[m,F]=f.exports.useState(r);r==="replace"&&m==="toggle"&&typeof y=="object"&&y.size===0&&F("replace");let E=f.exports.useRef(r);return f.exports.useEffect(()=>{r!==E.current&&(F(r),E.current=r)},[r]),{selectionMode:e,disallowEmptySelection:t,selectionBehavior:m,setSelectionBehavior:F,get isFocused(){return o.current},setFocused(T){o.current=T,s(T)},get focusedKey(){return a.current},get childFocusStrategy(){return u.current},setFocusedKey(T,R="first"){a.current=T,u.current=R,c(T)},selectedKeys:y,setSelectedKeys(T){(i||!Vt(T,y))&&g(T)},disabledKeys:K,disabledBehavior:l}}function Ne(n,e){return n?n==="all"?"all":new N(n):e}class sn{get selectionMode(){return this.state.selectionMode}get disallowEmptySelection(){return this.state.disallowEmptySelection}get selectionBehavior(){return this.state.selectionBehavior}setSelectionBehavior(e){this.state.setSelectionBehavior(e)}get isFocused(){return this.state.isFocused}setFocused(e){this.state.setFocused(e)}get focusedKey(){return this.state.focusedKey}get childFocusStrategy(){return this.state.childFocusStrategy}setFocusedKey(e,t){(e==null||this.collection.getItem(e))&&this.state.setFocusedKey(e,t)}get selectedKeys(){return this.state.selectedKeys==="all"?new Set(this.getSelectAllKeys()):this.state.selectedKeys}get rawSelection(){return this.state.selectedKeys}isSelected(e){return this.state.selectionMode==="none"?!1:(e=this.getKey(e),this.state.selectedKeys==="all"?this.canSelectItem(e):this.state.selectedKeys.has(e))}get isEmpty(){return this.state.selectedKeys!=="all"&&this.state.selectedKeys.size===0}get isSelectAll(){if(this.isEmpty)return!1;if(this.state.selectedKeys==="all")return!0;if(this._isSelectAll!=null)return this._isSelectAll;let e=this.getSelectAllKeys(),t=this.state.selectedKeys;return this._isSelectAll=e.every(i=>t.has(i)),this._isSelectAll}get firstSelectedKey(){let e=null;for(let t of this.state.selectedKeys){let i=this.collection.getItem(t);(!e||i&&se(this.collection,i,e)<0)&&(e=i)}return e==null?void 0:e.key}get lastSelectedKey(){let e=null;for(let t of this.state.selectedKeys){let i=this.collection.getItem(t);(!e||i&&se(this.collection,i,e)>0)&&(e=i)}return e==null?void 0:e.key}get disabledKeys(){return this.state.disabledKeys}get disabledBehavior(){return this.state.disabledBehavior}extendSelection(e){if(this.selectionMode==="none")return;if(this.selectionMode==="single"){this.replaceSelection(e);return}e=this.getKey(e);let t;if(this.state.selectedKeys==="all")t=new N([e],e,e);else{let i=this.state.selectedKeys,r=i.anchorKey||e;t=new N(i,r,e);for(let l of this.getKeyRange(r,i.currentKey||e))t.delete(l);for(let l of this.getKeyRange(e,r))this.canSelectItem(l)&&t.add(l)}this.state.setSelectedKeys(t)}getKeyRange(e,t){let i=this.collection.getItem(e),r=this.collection.getItem(t);return i&&r?se(this.collection,i,r)<=0?this.getKeyRangeInternal(e,t):this.getKeyRangeInternal(t,e):[]}getKeyRangeInternal(e,t){let i=[],r=e;for(;r;){let l=this.collection.getItem(r);if((l&&l.type==="item"||l.type==="cell"&&this.allowsCellSelection)&&i.push(r),r===t)return i;r=this.collection.getKeyAfter(r)}return[]}getKey(e){let t=this.collection.getItem(e);if(!t||t.type==="cell"&&this.allowsCellSelection)return e;for(;t.type!=="item"&&t.parentKey!=null;)t=this.collection.getItem(t.parentKey);return!t||t.type!=="item"?null:t.key}toggleSelection(e){if(this.selectionMode==="none")return;if(this.selectionMode==="single"&&!this.isSelected(e)){this.replaceSelection(e);return}if(e=this.getKey(e),e==null)return;let t=new N(this.state.selectedKeys==="all"?this.getSelectAllKeys():this.state.selectedKeys);t.has(e)?t.delete(e):this.canSelectItem(e)&&(t.add(e),t.anchorKey=e,t.currentKey=e),!(this.disallowEmptySelection&&t.size===0)&&this.state.setSelectedKeys(t)}replaceSelection(e){if(this.selectionMode==="none"||(e=this.getKey(e),e==null))return;let t=this.canSelectItem(e)?new N([e],e,e):new N;this.state.setSelectedKeys(t)}setSelectedKeys(e){if(this.selectionMode==="none")return;let t=new N;for(let i of e)if(i=this.getKey(i),i!=null&&(t.add(i),this.selectionMode==="single"))break;this.state.setSelectedKeys(t)}getSelectAllKeys(){let e=[],t=i=>{for(;i!=null;){if(this.canSelectItem(i)){let r=this.collection.getItem(i);r.type==="item"&&e.push(i),r.hasChildNodes&&(this.allowsCellSelection||r.type!=="item")&&t(Wt(Ut(r,this.collection)).key)}i=this.collection.getKeyAfter(i)}};return t(this.collection.getFirstKey()),e}selectAll(){!this.isSelectAll&&this.selectionMode==="multiple"&&this.state.setSelectedKeys("all")}clearSelection(){!this.disallowEmptySelection&&(this.state.selectedKeys==="all"||this.state.selectedKeys.size>0)&&this.state.setSelectedKeys(new N)}toggleSelectAll(){this.isSelectAll?this.clearSelection():this.selectAll()}select(e,t){this.selectionMode!=="none"&&(this.selectionMode==="single"?this.isSelected(e)&&!this.disallowEmptySelection?this.toggleSelection(e):this.replaceSelection(e):this.selectionBehavior==="toggle"||t&&(t.pointerType==="touch"||t.pointerType==="virtual")?this.toggleSelection(e):this.replaceSelection(e))}isSelectionEqual(e){if(e===this.state.selectedKeys)return!0;let t=this.selectedKeys;if(e.size!==t.size)return!1;for(let i of e)if(!t.has(i))return!1;for(let i of t)if(!e.has(i))return!1;return!0}canSelectItem(e){var t;if(this.state.selectionMode==="none"||this.state.disabledKeys.has(e))return!1;let i=this.collection.getItem(e);return!(!i||(i==null||(t=i.props)===null||t===void 0?void 0:t.isDisabled)||i.type==="cell"&&!this.allowsCellSelection)}isDisabled(e){var t,i;return this.state.disabledBehavior==="all"&&(this.state.disabledKeys.has(e)||!!(!((i=this.collection.getItem(e))===null||i===void 0||(t=i.props)===null||t===void 0)&&t.isDisabled))}isLink(e){var t,i;return!!(!((i=this.collection.getItem(e))===null||i===void 0||(t=i.props)===null||t===void 0)&&t.href)}getItemProps(e){var t;return(t=this.collection.getItem(e))===null||t===void 0?void 0:t.props}constructor(e,t,i){this.collection=e,this.state=t;var r;this.allowsCellSelection=(r=i==null?void 0:i.allowsCellSelection)!==null&&r!==void 0?r:!1,this._isSelectAll=null}}export{z as $,rn as a,_t as b,nn as c,on as d,ln as e,sn as f,Yt as g,Xt as h,Zt as i,Qt as j,Gt as k,it as l,tn as m,en as n,Ut as o,Ct as p,Jt as q};
