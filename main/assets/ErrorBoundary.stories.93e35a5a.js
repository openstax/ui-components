import{R as i,j as E,F as f,a as o}from"./index.5ae6b948.js";import{E as w}from"./ErrorBoundary.f6285f58.js";import{E as P}from"./contexts.428f0b00.js";import{u as S}from"./hooks.d80d8a5e.js";import"./Error.76c2decb.js";import"./Modal.b5fda724.js";import"./theme.2eb635e8.js";import"./palette.15e4d008.js";import"./Dialog.module.9e3c78ec.js";import"./Button.module.2d5a902b.js";import"./useFocusRing.module.1d4a7783.js";import"./context.module.2c259688.js";import"./useButton.module.fa606007.js";import"./VisuallyHidden.module.0f78c7a0.js";import"./OverlayArrow.module.e926dbff.js";import"./Collection.module.b27fddbb.js";import"./useTreeState.module.896c6aa2.js";import"./utils.e3275d2c.js";const k=({message:t,showEventId:r=!0})=>{var s;const{error:e}=i.useContext(P);return E(f,{children:[t||((s=e==null?void 0:e.error)==null?void 0:s.message),r?o("div",{children:e==null?void 0:e.eventId}):null]})};var n={};Object.defineProperty(n,"__esModule",{value:!0});var T=n.SessionExpiredError=n.NotFoundError=n.ForbiddenError=x=n.UnauthorizedError=n.ValidationError=n.InvalidRequestError=n.isAppError=void 0;const h=t=>r=>r instanceof Error&&r.constructor.TYPE===t.TYPE,y=t=>t instanceof Error&&typeof t.constructor.TYPE=="string";n.isAppError=y;class c extends Error{constructor(r){super(r||c.TYPE)}}n.InvalidRequestError=c;c.TYPE="InvalidRequestError";c.matches=h(c);class m extends Error{constructor(r){super(c.TYPE),this.data=r}getData(){return this.data}}n.ValidationError=m;m.TYPE="ValidationError";m.matches=h(m);class a extends Error{constructor(r){super(r||a.TYPE)}}var x=n.UnauthorizedError=a;a.TYPE="UnauthorizedError";a.matches=h(a);class d extends Error{constructor(r){super(r||d.TYPE)}}n.ForbiddenError=d;d.TYPE="ForbiddenError";d.matches=h(d);class u extends Error{constructor(r){super(r||u.TYPE)}}n.NotFoundError=u;u.TYPE="NotFoundError";u.matches=h(u);class l extends Error{constructor(r){super(r||l.TYPE)}}T=n.SessionExpiredError=l;l.TYPE="SessionExpiredError";l.matches=h(l);const p=({doThrow:t,setShowError:r,error:e,errorMessage:s})=>(i.useEffect(()=>{if(t)throw r(!1),e instanceof Error?e:new Error(s||"Test Error")},[t,e,s,r]),null),b=()=>{const t=S();return o("button",{onClick:()=>{Promise.reject(Error("Test Error")).catch(t)},children:"Async Trigger Error Display"})},O=()=>{const[t,r]=i.useState(!1);return E(w,{children:[o(k,{}),o(p,{doThrow:t,setShowError:r}),o("button",{onClick:()=>{r(!0)},children:"Throw Error"}),o(b,{})]})},H=()=>{const[t,r]=i.useState(!1);return E(w,{renderFallback:!0,sentryDsn:"https://0@o0.ingest.sentry.io/0",children:[o(p,{doThrow:t,setShowError:r}),o("button",{onClick:()=>{r(!0)},children:"Throw Error"}),o(b,{})]})},J=()=>{const[t,r]=i.useState(!1);return E(w,{renderFallback:!0,fallback:e=>E(f,{children:[o("h2",{children:"This is a custom error fallback"}),o("p",{children:e&&e.error.toString()}),e&&e.resetError?o("button",{onClick:e&&e.resetError,children:"Reset"}):null]}),children:[o(p,{doThrow:t,setShowError:r}),o("button",{onClick:()=>{r(!0)},children:"Throw Error"}),o(b,{})]})},Y=()=>{const t=S();return o("button",{onClick:()=>{(async()=>{try{throw new T}catch(r){t(r)}})()},children:"Async Throw Session Expired"})},K=()=>{const[t,r]=i.useState(!1),[e,s]=i.useState(!1);return E(w,{renderFallback:!0,children:[o(p,{doThrow:t,setShowError:r,error:new T}),o(p,{doThrow:e,setShowError:s,error:new x}),o("button",{onClick:()=>{r(!0)},children:"Throw SessionExpiredError"}),o("br",{}),o(Y,{}),o("br",{}),o("button",{onClick:()=>{s(!0)},children:"Throw UnauthorizedError"})]})};typeof window<"u"&&window.document&&window.document.createElement&&document.documentElement.setAttribute("data-storyloaded","");export{J as Fallback_GenericError_Custom,H as Fallback_GenericError_Default,K as Fallback_SpecialError,O as InlineMessages};
